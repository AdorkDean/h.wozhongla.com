/*! wozhongla 2015-01-23 */
define("wzlh5/1.0.0/jc",["jquery/2.1.1/jquery","wzlh5/1.0.0/ac","handlebars/1.3.0/dist/cjs/handlebars","wzlh5/1.0.0/until","wzlh5/1.0.0/cp","wzlh5/1.0.0/ui"],function(require){var $=require("jquery/2.1.1/jquery"),until=require("wzlh5/1.0.0/until"),action=require("wzlh5/1.0.0/ac"),wzlui=require("wzlh5/1.0.0/ui"),cp=require("wzlh5/1.0.0/cp"),Handlebars=require("handlebars/1.3.0/dist/cjs/handlebars").default,dialog=(wzlui.containerMask,wzlui.iscrollPop,wzlui.dialog),dropdownMask=(wzlui.containerMask,wzlui.dropdownMask),TZ_INFO=(until.Y_Y,until.TZ_INFO),Router=until.Router,jc=function(ac){function leagueM(){function matchEvent(red){function removeCls(c){for(var re=[],i=0;i<cls.length;i++)cls[i]!==c&&re.push(cls[i]);return re}function doHideShow(c,hideOrShow){$(c).each(function(index,item){hideOrShow?$(item).removeClass("match-total").hide():$(item).show().addClass("match-total")})}var cls=red;$("#matchall").unbind().bind("click",function(){cls=[],$(".league-list li").each(function(){var lid=$(this).data("league-id");cls.push(".lid_"+lid),$(this).addClass("active")})}),$("#matchno").unbind().bind("click",function(){cls=[],$(".league-list li").each(function(){if($(this).hasClass("active"))$(this).removeClass("active");else{$(this).addClass("active");var lid=$(this).data("league-id");cls.push(".lid_"+lid)}})}),$("#match5").unbind().bind("click",function(){cls=m5re;for(var ob={},i=0;i<m5re.length;i++){var id=m5re[i].split("_")[1];ob[id]=!0}$(".league-list li").each(function(){var lid=$(this).data("league-id");ob[lid]?$(this).addClass("active"):$(this).removeClass("active")})}),$(".league-list li").unbind().bind("click",function(){var lid=$(this).data("league-id");$(this).hasClass("active")?($(this).removeClass("active"),cls=removeCls(".lid_"+lid)):($(this).addClass("active"),cls.push(".lid_"+lid))}),$("#domatch").unbind().bind("click",function(){var base=red;doHideShow(base,!0),doHideShow(cls),$("#jc-match").hide(),$("#selectjc").show(),$(".jc-subtitle-len").each(function(index){var len=$(".jc-gamelist").eq(index).find(".match-total").length;$(this).html(len)}),$("#jc-spf .account-nav-group li,#jc-rqspf .account-nav-group li").each(function(index){var len=$(".jc-content-item").eq(index).find(".match-total").length,s=$(this).text().substring(0,4);$(this).html(s+"("+len+")")})})}var re=[],rea=[],m5re=[];for(var i in leagueList)if("id"!==i)switch(re.push({id:leagueList[i].id,name:i}),rea.push(".lid_"+leagueList[i].id),i){case"英超":case"法甲":case"意甲":case"德甲":case"西甲":m5re.push(".lid_"+leagueList[i].id)}var jcTemplate=Handlebars.compile($("#jcmatch-match-item-handlebars").html());$("#jc-match .league-list").html(jcTemplate({list:re})),matchEvent(rea)}function init(){$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle(),$("#wzl-dropdown a").click(function(){var h=$(this).prop("href");return dialog({type:"select",message:"切换玩法将清空所选对阵",onConfirm:function(){location.href=h},onCancel:function(){setTimeout(function(){dialog.remove()},1e3)}}),!1})}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),$(".jc-match-i").on("click",function(){$("#selectjc,#jc-match").slideToggle()}),action.queryUserInfo({},function(){})}function spf(){function countCar(re){if(!re||!re.length||re.length<2)$("#buycarfixedbtn a.ball-status-bar").addClass("disabled").html("已经选择了0场比赛"),$(".ball-status-bar").unbind().bind("click",function(){dialog("请至少选择两场比赛")});else{var slen=re.length;$("#buycarfixedbtn a.ball-status-bar").removeClass("disabled").html("已经选择了"+slen+"场比赛"),$(".ball-status-bar").unbind().bind("click",function(){location.href="#!/car"})}}$("#jccar,#carfixed,#jc-rqspf,#jc-match").hide(),$("#selectjc,#buycarfixedbtn,.wzl-nav-dropdown,#jc-spf,.jc-match-i").show(),$(".wzl-nav-dropdown  .icon-dropdown-white").html("胜平负"),$(".wzl-cartext").addClass("hidden"),loaded.spf?countCar():action.jcMatchData({},function(re){if("500"!=re.resultCode||0!=re.length){var r=matchData(re),jcTemplate=Handlebars.compile($("#jcmatch-item-handlebars").html());$("#jcspf-gamelist-h").html(jcTemplate({list:r.h})).hide(),$("#jcspf-gamelist-all").html(jcTemplate({list:r.all})).show(),$("#jcspf-gamelist-l").html(jcTemplate({list:r.l})).hide(),jcGameSelector.init({data:r.data,gameType:"320",viewSelector:".jc-select-span",selectBefore:function(me,matchNo,spf){var selected=me.getSelected();return me.selected[matchNo]?me.selected[matchNo][spf]?!1:!0:selected&&selected.length>8?(dialog("tips","最多选择八场比赛"),!1):!0},selectAfter:function(result){countCar(result)}}),renderTab("#jc-spf",r),loaded.spf=!0,loaded.spfData=r.data}else dialog("暂无数据...")}),$(".account-nav-group li").on("click",function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$(".jc-content-item").hide().eq(index).show()}),$(".glyphicon.icon-trash").on("click",function(){jcGameSelector.clear(),countCar()})}function rqspf(){function countCar(re){if(!re||!re.length||re.length<2)$("#buycarfixedbtn a.ball-status-bar").addClass("disabled").html("已经选择了0场比赛"),$(".ball-status-bar").unbind().bind("click",function(){dialog("请至少选择2场比赛")});else{var slen=re.length;$("#buycarfixedbtn a.ball-status-bar").removeClass("disabled").html("已经选择了"+slen+"场比赛"),$(".ball-status-bar").unbind().bind("click",function(){location.href="#!/car"})}}$("#jccar,#carfixed,#jc-spf,#jc-match").hide(),$(".wzl-cartext").addClass("hidden"),$("#selectjc,#buycarfixedbtn,#jc-rqspf,.wzl-nav-dropdown,.jc-match-i").show(),$(".wzl-nav-dropdown.icon-dropdown-white").html("让球胜平负"),$(".account-nav-group li").on("click",function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$("ul.jc-spf-list").hide().eq(index).show()}),loaded.rqspf?countCar():action.jcSpfMatch({},function(re){if("500"!=re.resultCode||0!=re.length){var r=matchData(re),jcTemplate=Handlebars.compile($("#jcmatch-rqspf-item-handlebars").html());$("#jcrqspf-gamelist-h").html(jcTemplate({list:r.h})).hide(),$("#jcrqspf-gamelist-all").html(jcTemplate({list:r.all})).show(),$("#jcrqspf-gamelist-l").html(jcTemplate({list:r.l})).hide(),jcGameSelector.init({data:r.data,gameType:"301",viewSelector:"#jc-rqspf .jc-select-span",selectBefore:function(me,matchNo,spf){var selected=me.getSelected();return me.selected[matchNo]?me.selected[matchNo][spf]?!1:!0:selected&&8==selected.length?(dialog("tips","最多选择八场比赛"),!1):!0},selectAfter:function(result){countCar(result)}}),renderTab("#jc-rqspf",r),loaded.rqspf=!0,loaded.rqspfData=r.data}else dialog("暂无数据...")}),$(".account-nav-group li").on("click",function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$(".jc-content-item").hide().eq(index).show()}),$(".glyphicon.icon-trash").on("click",function(){jcGameSelector.clear(),countCar()})}function car(){function countCar(){function clear(){jcGameSelector&&jcGameSelector.clear(),JC_BEI=1}function remove(id){jcGameSelector&&jcGameSelector.remove(id)}function totalSum(dan,chuan,tuo){function eachArray(arr,num){for(var t=[[]],r=[],i=0,n=arr.length;n>i;i++)for(var j=0,k=t.length;k>j;j++){var ss=t[j].concat([arr[i]]);ss.length<num?t.push(ss):r.push(ss)}return r}function cl(a){function allArr(arr,n){if(n>=arr.length)array.push(code.slice()),code.length=n-1;else{for(var i=0,j=arr[n].length;j>i;i++)code.push(arr[n][i]),allArr(arr,n+1);n&&(code.length=n-1)}}var n=0,array=[],code=[];return allArr(a,n),array}function multiplyCount(arr,flag){var a=1;if(0==arr.length)return 0;for(var i=0,l=arr.length;l>i;i++)a*=flag?arr[i].maxSp:arr[i].num;return a}for(var count=0,maxPrice=0,gg=chuan,tuo=tuo,dan=dan,isShowhh=!1,i=0;i<gg.length;i++){var chuanN=gg[i].n.split("_"),fs=[chuanN[0]],guoguan_num=chuanN[0],array="",arr=[],dan_lenth=dan.length;if(dan_lenth>0){var danArray=[];if(dan_lenth==guoguan_num)array=eachArray(dan,guoguan_num);else{for(var tuoTemp=eachArray(tuo,guoguan_num-dan_lenth),cc=0;cc<tuoTemp.length;cc++)danArray.push(dan.concat(tuoTemp[cc]));array=danArray}}else array=eachArray(tuo,guoguan_num);for(var m=0,l=array.length;l>m;m++){var v=cl(array[m]);if(isShowhh)for(var a=0,aa=v.length;aa>a;a++)for(var spf_num=0,rqspf_num=0,cbf_num=0,jqs_num=0,bqc_num=0,b=0,bb=v[a].length;bb>b;b++){var rq=v[a][b];if(0==rq.box?spf_num++:4==rq.box?rqspf_num++:1==rq.box?jqs_num++:2==rq.box?cbf_num++:3==rq.box&&bqc_num++,spf_num==guoguan_num||rqspf_num==guoguan_num||jqs_num==guoguan_num||cbf_num==guoguan_num||bqc_num==guoguan_num){v[a]=[];break}}arr=arr.concat(v)}for(var j=0,jj=fs.length;jj>j;j++)for(var k=0,kk=arr.length;kk>k;k++)for(var len=eachArray(arr[k],fs[j]),n=0,nn=len.length;nn>n;n++){if(isShowhh)for(var a=0,b=0,c=0,d=0,e=0,m=0,mm=len[n].length;mm>m;m++){var ee=len[n][m];0==ee.box?a++:4==ee.box?e++:1==ee.box?b++:2==ee.box?c++:3==ee.box&&d++,(a==fs[j]||b==fs[j]||c==fs[j]||d==fs[j]||e==fs[j])&&(len[n]=[])}count+=multiplyCount(len[n]),maxPrice+=multiplyCount(len[n],"0")}}var max=2*maxPrice;return{item:count,maxWin:max}}var car_count=0,car_price=0,car_maxwin=0,total={},list=[];if(!jcGameSelector)return!1;list=jcGameSelector.getSelectGame();var r=jcGameSelector.content(),gameTotal=totalSum(r.group.dan,r.chuan,r.group.tuo);return car_count=gameTotal.item,car_price=2*gameTotal.item,car_maxwin=gameTotal.maxWin.toFixed(2),total.bei=JC_BEI,total.count=car_count,total.price=car_price*JC_BEI,total.car_count=car_count,total.car_maxwin=car_maxwin*JC_BEI,{list:list,count:car_count,price:car_price,remove:remove,total:total,clear:clear,jcGameSelector:jcGameSelector}}function renderCar(){function renderList(n){var list=n||countCar().list,jcTemplate=Handlebars.compile($("#jcspf-gamelist-template").html());$("#ball-select-group").html(jcTemplate({data:list})),$(".game-bet-bd .jc-select-span").unbind().bind("click",function(){var matchNo=$(this).parent().data("matchno"),s=$(this).index();$(this).hasClass("active")?($(this).removeClass("active"),$(".m_"+matchNo+"_"+s).removeClass("active")):($(this).addClass("active"),$(".m_"+matchNo+"_"+s).addClass("active")),jcGameSelector.add(matchNo,$(this).index()),renderCar()}),$("#ball-select-group .glyphicon.icon-trash").unbind().bind("click",function(){var matchNo=$(this).next(".game-bet-bd").data("matchno");jcGameSelector.remove(matchNo),renderCar()})}function renderCarTotal(){var car=countCar(),data=car.total,chuanAction=car.jcGameSelector,jcCarTemplate=Handlebars.compile($("#car-total-handlebars").html());$("#car-total").html(jcCarTemplate(data)),$(".buy-bar-type").on("click",function(){var chuan=chuanAction.getChuan();$(chuan).each(function(n,item){$("#car-gglx .car-order-type").eq(item-2).addClass("active")}),$("#car-gglx .car-order-type").slice(s.list.length-1).hide(),$("#car-gglx").show()}),$("#car-gglx .car-order-type").unbind().bind("click",function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active");var v=$(this).data("v");chuanAction.toggleChuanGuan(v),renderCarTotal()}),$(".game-bet-encounter-green,.comform-box-cancel").unbind().bind("click",function(){$("#car-gglx").hide()}),(!car||!car.list.length||car.list.length<2)&&$("#ssq_buy").addClass("disabled"),$("#ssq_buy").unbind().bind("click",function(){var result=jcGameSelector.getPostData(data);postBuy(result,function(re){"200"==re.resultCode&&(car.clear(),renderCar(),tzsuccess())})}),totalBoard(function(bei){JC_BEI=bei,renderCar()})}var s=countCar();0!=s&&(renderList(s.list),renderCarTotal()),renderCarTotal()}function tzsuccess(){$("#selectjc,#jccar,#carfixed,.wzl-car,.jc-match-i").hide(),$("#tzsuccess").show()}function totalBoard(fn){function syanc(){setTimeout(function(){$beiInput.val(bei),fn&&fn(bei)},100)}var $beiInput=$("#ball-bei"),bei=$beiInput.val().trim();$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>20?20:$val,$(this).val($val),bei=Number($val),syanc()})}function postBuy(data,fn){function getIssue(fn){function merge(list){var r=[];return $(list).each(function(){r.push({issue:" ",multiple:JC_BEI})}),r}var r=[];action.getIssue({lottery:"JCZQSPF",issues:1},function(re){r=merge(re),fn(r)})}dialog("loading","正在投注！");getIssue(function(r){return r&&r.length?(data.lotoGson.issueArray=r,data.lotoGson=JSON.stringify(data.lotoGson),void action.jcTz(data,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectjc,#buycarfixedbtn,#jc-match,.wzl-nav-dropdown,.jc-match-i").hide(),$(".wzl-cartext").removeClass("hidden"),$(".ball-status-bar").addClass("disabled").html("已经选择了0场比赛"),$("#jccar,#carfixed").show(function(){renderCar()})}function matchData(d){function seleteDate(re){for(var o={},r=[],d={},i=0;i<re.length;i++){var d=re[i].matchNo.substring(0,8);o[d]?o[d].push(re[i]):(o[d]=[],o[d].push(re[i]))}for(var n in o)if(o[n].length){var str=o[n][0].date+" "+o[n][0].weekday+" <span class='jc-subtitle-len'>"+o[n].length+"</span>场比赛可投";r.push({list:o[n],str:str})}return r}function totalList(){for(var re=[],i=0;i<s.all.length;i++)re=re.concat(s.all[i].list);return re}var s=formatData(d);for(var i in s)s[i]=seleteDate(s[i]);return s.data=totalList(),s}function renderTab(id,result){function totalLength(s){for(var n=0,i=0;i<s.length;i++)n+=s[i].list.length;return n}$(id+" .account-nav-group li").eq(0).html("<a href='javascript:;'>高中奖率("+totalLength(result.h)+")</a>"),$(id+" .account-nav-group li").eq(1).html("<a href='javascript:;'>全部赛事("+totalLength(result.all)+")</a>"),$(id+"  .account-nav-group li").eq(2).html("<a href='javascript:;'>五大联赛("+totalLength(result.l)+")</a>"),$(".jc-subtitle").click(function(){$(this).next(".jc-gamelist").toggle()})}function getWeekDay(n){var arr=["","星期一","星期二","星期三","星期四","星期五","星期六","星期日"];return arr[n]}function formatData(re){function checkTime(h){var d=new Date;d.setHours(h.substring(0,2),h.substring(2,4),0,0);var m=d.getTime(),nm=m-9e5,d2=new Date;d2.setTime(nm);var t=d2.getHours()+":"+d2.getMinutes();return t}for(var h=[],l=[],i=0,len=re.length;len>i;i++){switch(re[i].date=re[i].date||"",re[i].win=re[i].win||"",re[i].equ=re[i].equ||"",re[i].lose=re[i].lose||"",re[i].number=re[i].number||"",re[i].changci=re[i].changci||"",re[i].endtime=re[i].endtime||"",re[i].number=len,re[i].date=re[i].matchNo.substring(0,4)+"-"+re[i].matchNo.substring(4,6)+"-"+re[i].matchNo.substring(6,8),re[i].weekday=getWeekDay(re[i].matchNo.substring(8,9)),re[i].changci=[re[i].matchNo.substring(8,9)]+re[i].matchNo.substring(9),re[i].changciStr=["","周一","周二","周三","周四","周五","周六","周日"][re[i].matchNo.substring(8,9)]+re[i].matchNo.substring(9),re[i].endtime=checkTime(re[i].stopSaleTime.substring(8,12)),re[i].win=re[i].sp[0],re[i].equ=re[i].sp[1],re[i].lose=re[i].sp[2],re[i].week=["","周一","周二","周三","周四","周五","周六","周日"][re[i].matchNo.substring(8,9)],re[i].leagueName=re[i].matchName.substring(0,4),(re[i].sp[0]<=1.6||re[i].sp[1]<=1.6||re[i].sp[2]<=1.6)&&h.push(re[i]),re[i].matchName){case"英超":case"法甲":case"意甲":case"德甲":case"西甲":l.push(re[i])}if(leagueList[re[i].matchName.substring(0,4)])re[i].lid=leagueList[re[i].matchName.substring(0,4)].id;else{var id=leagueList.id++;leagueList[re[i].matchName.substring(0,4)]={},leagueList[re[i].matchName.substring(0,4)].id=id,re[i].lid=leagueList[re[i].matchName.substring(0,4)].id}}return leagueM(),{all:re,h:h,l:l,length:re.length}}var loaded={},JC_BEI=1,leagueList=(cp.JC,{id:0}),routes={"/rqspf":function(){rqspf()},"/spf":function(){spf()},"/car":function(){car()},index:function(){"rqspf"==ac?rqspf():spf()},init:function(){init()}};Router(routes);var jcGameSelector={init:function(opt){var me=this;return me.opt=opt,opt.data?(me.dataStore=opt.data,me._dataStore={},me.chuanguan={},me.doms=$(opt.viewSelector),me.selected={},me.doms.unbind().bind("click",function(){var l,matchNo=$(this).parent().data("matchno");$(this).toggleClass("active"),"function"==typeof me.opt.selectAfter&&(l=me.opt.selectBefore(me,matchNo,$(this).index())),l?me.add(matchNo,$(this).index()):me.remove(matchNo,$(this).index())}),me):me},formateData:function(){for(var me=this,re={},i=0;i<me.dataStore.length;i++){var changci=me.dataStore[i].changci;re[changci]=me.dataStore[i]}return re},add:function(matchNo,spf){var me=this;me.selected[matchNo]||(me.selected[matchNo]=[]),me.selected[matchNo][spf]?me.remove(matchNo,spf):me.selected[matchNo][spf]=!0,me.chuanguan={},"function"==typeof me.opt.selectAfter&&me.opt.selectAfter(me.getSelected())},find:function(matchNo){for(var me=this,i=0;i<me.selected.length;i++)if(me.selected[i]==matchNo)return me.dataStore[i];return null},remove:function(matchNo,spf){var me=this,args=[].slice.call(arguments);switch(args.length){case 1:delete me.selected[matchNo],$(".m_"+matchNo+" .jc-select-span").removeClass("active");break;case 2:delete me.selected[matchNo][spf],$(".m_"+matchNo+"_"+spf).removeClass("active"),$.isEmptyObject(me.selected[matchNo])&&(delete me.selected[matchNo],$(".m_"+matchNo+" .jc-select-span").removeClass("active"))}"function"==typeof me.opt.selectAfter&&me.opt.selectAfter(me.getSelected())},getSelected:function(){var me=this,re=[];for(var i in me.selected)re.push({n:i,spf:me.selected[i]});return re},toggleChuanGuan:function(v){var me=this;me.chuanguan[v]?me.removeChuanGuan(v):me.addChuanGuan(v)},removeChuanGuan:function(v){var me=this;me.chuanguan[v]&&delete me.chuanguan[v]},addChuanGuan:function(v){var me=this;v&&0!=v&&(me.chuanguan[v]||(me.chuanguan[v]={n:v+"_1",n_name:v+"串1"}))},getChuan:function(){var me=this,re=[];for(var i in me.chuanguan)re.push(i);return re},getChuanGuan:function(){function replaceChuan(d){var r=[];for(var i in d)r.push({n:i+"_1",n_name:i+"串1"});return r}var me=this,re=[],len=me.getSelected().length;if(me.chuanguan=me.chuanguan||{},$.isEmptyObject(me.chuanguan)){if(len=len>8?8:len,len=1>len?1:len,re=[{n:len+"_1",n_name:len+"串1"}],!len)return;me.chuanguan[len]={n:len+"_1",n_name:len+"串1"}}else re=replaceChuan(me.chuanguan);return re},viewAdd:function(){},viewRemove:function(){},clear:function(){var me=this;me.doms&&me.doms.removeClass("active"),me.selected={}},content:function(){function replace310(arr){for(var b=[3,1,0],r=[],i=0;i<arr.length;i++)1==arr[i]&&r.push(b[i]);return r}function getMaxSp(n){for(var maxSp=0,sum=0,i=0;i<me.dataStore.length;i++)if(me.dataStore[i].changci==n.n)for(var j=0;j<n.spf.length;j++)1==n.spf[j]&&(sum++,maxSp=Math.max(maxSp,me.dataStore[i].sp[j]));return{maxSp:maxSp,sum:sum}}for(var chuan,me=this,group={dan:[],tuo:[]},selected=me.getSelected(),len=selected.length,i=0;len>i;i++){var getSp=getMaxSp(selected[i]);group.tuo.push([{n:selected[i].n,d:replace310(selected[i].spf),maxSp:getSp.maxSp,num:getSp.sum}])}return chuan=me.getChuanGuan(),{chuan:chuan,group:group}},getSelectGame:function(){function replace310(obj,arr){for(var b=["spf_sa","spf_pa","spf_fa"],i=0;i<arr.length;i++)obj[b[i]]=1==arr[i]?"active":"","320"==me.opt.gameType&&(obj.comityBallClass="hidden");return obj}for(var me=this,bdata=me.getReplaceData(),re=[],selected=me.getSelected(),i=0;i<selected.length;i++){var o=replace310(bdata[selected[i].n],selected[i].spf);re.push(o)}return re},getReplaceData:function(){var me=this,re={};if(!me.dataStore)return re;if(me.dataStore)for(var i=0;i<me.dataStore.length;i++){var m=me.dataStore[i].changci;re[m]=me.dataStore[i],re[m].spf_s=me.dataStore[i].sp[0],re[m].spf_p=me.dataStore[i].sp[1],re[m].spf_f=me.dataStore[i].sp[2]}return re},refreshView:function(){},getPostData:function(total){function toVs(id){var vs=_dataStore[id],a=[];a.push(vs.matchHome+"vs"+vs.matchGuest),a.push(vs.matchName);var nb=me.selected[id],newNb=replace310(nb);return a.push(vs.comityBall+":"+vs.week+vs.changci.slice(-3)+"-"+vs.matchNo+":["+newNb.join(",")+"]:"+vs.endTime),a.push(vs.stopSaleTime),a.push(vs.comityBall),a.join(",")}function replace310(arr){for(var b=["胜","平","负"],r=[],i=0;i<arr.length;i++)1==arr[i]&&r.push(b[i]);return r}if(total){var me=this,_dataStore=me.formateData(),ba=[];for(var key in me.selected)ba.push(toVs(key));var NumberArray=ba.join("/")+"|0-0",chuan=[],chuan2num={"1串1":"01","单关":"01","2串1":"02","3串1":"03","3串3":"04","3串4":"05","4串1":"06","4串4":"07","4串5":"08","4串6":"09","4串11":"10","5串1":"11","5串5":"12","5串6":"13","5串10":"14","5串16":"15","5串20":"16","5串26":"17","6串1":"18","6串6":"19","6串7":"20","6串15":"21","6串20":"22","6串22":"23","6串35":"24","6串42":"25","6串50":"26","6串57":"27","7串1":"28","7串7":"29","7串8":"30","7串21":"31","7串35":"32","7串120":"33","8串1":"34","8串8":"35","8串9":"36","8串28":"37","8串56":"38","8串70":"39","8串247":"40"};for(var n in me.chuanguan)chuan.push(chuan2num[me.chuanguan[n].n_name]);var d={gameType:me.opt.gameType,format:"ajax",needPay:"",lotoGson:{}};d.needPay=total.price;var buyNumberArray=[{buyNumber:NumberArray,typeId:"02",seleId:chuan.join(","),sum:total.price}],obj={gameType:me.opt.gameType,isStop:0,buyType:0,buyNumberArray:buyNumberArray,issueArray:"",title:"",explain:"",secrecy:1,commision:0,commisiontype:0,splitAmount:0,buyAmount:0,floorsAmount:0,isUpload:0,qcdy:0,totalSum:total.price};return d.lotoGson=obj,d}},filterLeague:function(){}}};return{jc:jc}});