/*! wozhongla 2015-01-23 */
define("wzlh5/1.0.0/ssc",["jquery/2.1.1/jquery","wzlh5/1.0.0/ac","handlebars/1.3.0/dist/cjs/handlebars","wzlh5/1.0.0/until","wzlh5/1.0.0/cp","wzlh5/1.0.0/ui"],function(require){function jxssc(){function init(){function kjdjs(){function issue(){function setIssue(d){function setCountDown(s){timer=setInterval(function(){s--,120>=s&&($(".history-bar").html("该其次已经截止,下一期预售中。"),issue());var v=formatSeconds(s-120);$(".history-bar .history-bar-dropdown").html(v)},1e3)}function formatSeconds(value){function pad(n){return 10>n?"0"+n:n}var theTime=parseInt(value),theTime1=0,theTime2=0;theTime>60&&(theTime1=parseInt(theTime/60),theTime=parseInt(theTime%60),theTime1>60&&(theTime2=parseInt(theTime1/60),theTime1=parseInt(theTime1%60)));var result="<span class='redballs'>"+pad(parseInt(theTime))+"</span>秒";return theTime1>0&&(result="<span class='redballs'>"+pad(parseInt(theTime1))+"</span>分"+result),theTime2>0&&(result="<span class='redballs'>"+pad(parseInt(theTime2))+"</span>时"+result),result}SSC_NOWQI=d.issue,setCountDown(d.endTime),$(".history-bar").html(" <span>第"+d.issue+"期销售中</span><div class='pull-right history-bar-dropdown icon-dropdown-gray'> <span class='redballs'>00</span>时<span class='redballs'>00</span>分<span class='redballs'>00</span>秒</div>")}clearInterval(timer),action.getIssue({lottery:"JXSSC",issues:25},function(re){issueA=re,re[0].endTime<=120&&(re=re.slice(1)),setIssue(re[0])})}var issueA=[],timer=null;issue()}function fomatYl(d){var allArr=d.split(",");for(i=6;15>=i;i++)$(".yla em").eq(i-6).text(allArr[i]),$(".yla2 em").eq(i-6).text(allArr[i]),$(".yla3 em").eq(i-6).text(allArr[i]),$(".yla4 em").eq(i-6).text(allArr[i]),$(".yla5 em").eq(i-6).text(allArr[i]);for(i=16;25>=i;i++)$(".ylb em").eq(i-16).text(allArr[i]),$(".ylb2 em").eq(i-16).text(allArr[i]),$(".ylb3 em").eq(i-16).text(allArr[i]),$(".ylb4 em").eq(i-16).text(allArr[i]);for(i=26;35>=i;i++)$(".ylc em").eq(i-26).text(allArr[i]),$(".ylc2 em").eq(i-26).text(allArr[i]),$(".ylc3 em").eq(i-26).text(allArr[i]);for(i=36;45>=i;i++)$(".yld em").eq(i-36).text(allArr[i]),$(".yld2 em").eq(i-36).text(allArr[i]);for(i=46;55>=i;i++)$(".yle em").eq(i-46).text(allArr[i])}kjdjs(),$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle()}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),action.queryUserInfo({},function(){}),action.queryJxssc({pageno:1,pagesize:10},function(d){function fomatIssue2(d,name){for(var arr=[],i=0;i<d.length;i++){var obj={};obj.issue=d[i].lotIssue,obj.ball=d[i].kjCode,arr.push(obj)}var myTemplate=Handlebars.compile($("#history-template").html());$("#"+name).append(myTemplate({data:arr})),$(".history-bar").undelegate(),$(".history-bar").delegate(".history-bar-dropdown","click",function(){var $this=$(this);$(".history-list").slideToggle(function(){$(".history-bar-dropdown").hasClass("icon-dropdown-gray")?$this.addClass("icon-dropup-gray").removeClass("icon-dropdown-gray"):$this.removeClass("icon-dropup-gray").addClass("icon-dropdown-gray")})})}fomatIssue2(d.lotolist,"ssc-history")}),action.yl("ssc",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function publicShow(v,title,fn){$("#carfixed,#ssccar,#tzsuccess").hide(),$("#selectssc,#sscplays").show(),$(".wzl-cartext").addClass("hidden"),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码"),$("#sscplays>div").not("#"+v).hide(function(){$("#"+v+", #buycarfixedbtn").show(),$(".wzl-nav-dropdown").text(title).show(),fn&&fn()})}function sscNumberSelect(containerId,total,before,multipleSelect){return cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId,multipleSelect:!multipleSelect})}function sscSelect(ssc){if(ssc!==!1){var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码")}function sscAdd2Car(fn){$("#buycarfixedbtn a.ball-status-bar").unbind().bind("click",function(){fn&&fn(),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")})}function yxzx(){function total(){var yx=countYx();sscSelect(yx,function(){})}function countYx(){var yxN=yx.getSelected();if(!yxN||!yxN.length)return!1;var groups=[{dan:null,tuo:yxN}];return{code:"ssc_yxzx",groups:groups}}publicShow("selectyxzx","江西时时彩-一星直选"),u_type="yxzx";var yx=sscNumberSelect("#selectyxzx .ballcon",total,function(){},!0);sscAdd2Car(function(){var ssc=countYx();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),yx.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){yx.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:9,count:1});yx.clear().select(n1)})}function rx1(){publicShow("selectrx1","江西时时彩-任选一")}function rx2(){publicShow("selectrx2","江西时时彩-任选二")}function exzx(){function total(){var ex=countEx();sscSelect(ex)}function countEx(){var shiN=shi.getSelected(),geN=ge.getSelected();if(!(shiN&&shiN.length&&geN&&geN.length))return!1;var ssctype="ssc_exfx";1==shiN.length&&1==geN.length&&(ssctype="ssc_exzx");var groups=[{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:ssctype,groups:groups}}publicShow("selectexzx","江西时时彩-二星直选"),u_type="exzx";var shi=sscNumberSelect("#selectexzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectexzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=countEx();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){shi.clear(),ge.clear(),total()}),Y_Y(function(){shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function exfx(){publicShow("selectexfx","江西时时彩-二星复选")}function exhz(){publicShow("selectexhz","江西时时彩-二星和值")}function sanxzx(){function total(){var ex=countSx();sscSelect(ex)}function countSx(){var baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_3xds;if(!(baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_3xfs";baiN.length==dsType.groupdef[0].required&&shiN.length==dsType.groupdef[1].required&&geN.length==dsType.groupdef[2].required&&(type="ssc_3xds");var groups=[{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectsanxzx","江西时时彩-三星直选"),u_type="3xzx";var bai=sscNumberSelect("#selectsanxzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectsanxzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectsanxzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=countSx();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),bai.clear(),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function sanxfx(){publicShow("selectsanxfx","江西时时彩-三星复选")}function zsdx(){publicShow("selectzsdx","江西时时彩-组三单选")}function zsfx(){publicShow("selectzsfx","江西时时彩-组三复选")}function wxzx(){function total(){var ex=count5x();sscSelect(ex)}function count5x(){var wanN=wan.getSelected(),qianN=qian.getSelected(),baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_5xds;if(!(wanN&&wanN.length&&qianN&&qianN.length&&baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_5xfs";wanN.length==dsType.groupdef[0].required&&qianN.length==dsType.groupdef[1].required&&baiN.length==dsType.groupdef[2].required&&shiN.length==dsType.groupdef[3].required&&geN.length==dsType.groupdef[4].required&&(type="ssc_5xds");var groups=[{dan:null,tuo:wanN},{dan:null,tuo:qianN},{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectwxzx","江西时时彩-五星直选"),u_type="wxzx";var wan=sscNumberSelect("#selectwxzx .ssc-wan",total,function(){}),qian=sscNumberSelect("#selectwxzx .ssc-qian",total,function(){}),bai=sscNumberSelect("#selectwxzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectwxzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectwxzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=count5x();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});wan.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qian.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function wxfx(){publicShow("selectwxfx","江西时时彩-五星复选")}function wxnx(){publicShow("selectwxnx","江西时时彩-五星通选")}function sixzx(){function total(){var ex=count4x();sscSelect(ex)}function count4x(){var qianN=qian.getSelected(),baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_4xds;if(!(qianN&&qianN.length&&baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_4xfs";qianN.length==dsType.groupdef[0].required&&baiN.length==dsType.groupdef[1].required&&shiN.length==dsType.groupdef[2].required&&geN.length==dsType.groupdef[3].required&&(type="ssc_4xds");var groups=[{dan:null,tuo:qianN},{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectsixzx","江西时时彩-四星直选"),u_type="4xzx";var qian=sscNumberSelect("#selectsixzx .ssc-qian",total,function(){}),bai=sscNumberSelect("#selectsixzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectsixzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectsixzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=count4x();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),qian.clear(),bai.clear(),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){qian.clear(),bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){qian.clear(),bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});qian.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function sixfx(){publicShow("selectsixfx","江西时时彩-四星复选")}function ssccar(){function renderCar(){if(SSC_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssccar").delegate(".ball-select-remove","click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){SSC_BEI=bei,SSC_QI=qi,SSC_ZJSTOP=zjstop,renderCar()})}function countCar(){function strBtype(type,item,notext){var s="",_s="";return"ssc_yxzx"==type&&(s+=item.groups[0].tuo.join(" "),_s+="_,_,_,_,"+item.groups[0].tuo.join(" ")),("ssc_exzx"==type||"ssc_exfx"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" "),_s+="_,_,_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")),("ssc_3xds"==type||"ssc_3xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" "),_s+="_,_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")),("ssc_4xds"==type||"ssc_4xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" ")+" ",s+=item.groups[3].tuo.join(" "),_s+="_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")),("ssc_5xds"==type||"ssc_5xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" ")+" ",s+=item.groups[3].tuo.join(" ")+" ",s+=item.groups[4].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")+",",_s+=item.groups[4].tuo.join(" ")),notext?_s:s}function type(t){var r="";switch(t){case"ssc_yxzx":r="一星直选";break;case"ssc_exzx":r="二星直选";break;case"ssc_exfx":r="二星复选";break;case"ssc_3xds":r="三星单式";break;case"ssc_3xfs":r="三星复式";break;case"ssc_4xds":r="四星单式";break;case"ssc_4xfs":r="四星复式";break;case"ssc_5xds":r="五星单式";break;case"ssc_5xfs":r="五星复式"}return r}function remove(id){for(var j=0;j<SSC_CAR.length;j++)SSC_CAR[j].SSC_ID==id&&SSC_CAR.splice(j,1)}function clear(){SSC_CAR=[],SSC_BEI=1,SSC_QI=1,SSC_ZJ=!1,SSC_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<SSC_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(SSC_CAR[i]),ritem.price=ritem.count*CPCONFIG.JXSSC.UNIT_PRICE,ritem.type=type(SSC_CAR[i].code),ritem.code=SSC_CAR[i].code,ritem.id=SSC_CAR[i].SSC_ID,car_count+=ritem.count,car_price+=ritem.price,ritem.redStr=strBtype(SSC_CAR[i].code,SSC_CAR[i]),ritem._redStr=strBtype(SSC_CAR[i].code,SSC_CAR[i],!0),r.push(ritem)}return total={bei:SSC_BEI,qi:SSC_QI,count:car_count,price:car_price*SSC_QI*SSC_BEI,zjstop:SSC_ZJSTOP,zj:SSC_ZJ},{list:r,count:car_count,price:car_price,clear:clear,remove:remove,total:total}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOneSSC(){var wan=cp.shuffle({min:0,max:9,count:1}),qian=cp.shuffle({min:0,max:9,count:1}),bai=cp.shuffle({min:0,max:9,count:1}),shi=cp.shuffle({min:0,max:9,count:1}),ge=cp.shuffle({min:0,max:9,padding:!1,count:1}),ssc={code:"ssc_yxzx",groups:[{dan:null,tuo:ge}]};switch(u_type){case"yxzx":ssc={code:"ssc_yxzx",groups:[{dan:null,tuo:ge}]};break;case"exzx":ssc={code:"ssc_exzx",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi}]};break;case"3xzx":ssc={code:"ssc_3xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai}]};break;case"4xzx":ssc={code:"ssc_4xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian}]};break;case"wxzx":ssc={code:"ssc_5xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian},{dan:null,tuo:wan}]}}return ssc.SSC_ID=++CACHE_ID,ssc}function tzsuccess(){$("#car,#selectssc,#carfixed,#ssccar,#buycarfixedbtn").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!sscCar)return!1;var need={gameType:"006",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(sscCar.total.price),need.isStop=sscCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(sscCar.list),need.buyType=sscCar.total.qi>1?1:0,need.title=sscCar.total.qi>1?"时时彩"+SSC_NOWQI+"期追号方案":"时时彩"+SSC_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0,multiple:0,status:0,num:0,lastMatch:0,hbcls:0};if(!item||!item.count)return!1;var rs=item._redStr;switch(dataTmp.buyNumber=rs,dataTmp.sum=item.price,dataTmp.num=item.count,dataTmp.multiple=sscCar.total.bei,item.code){case"ssc_yxzx":dataTmp.typeId="01",dataTmp.seleId="01";break;case"ssc_exzx":dataTmp.typeId="02",dataTmp.seleId="01";break;case"ssc_exfx":dataTmp.typeId="02",dataTmp.seleId="02";break;case"ssc_3xds":dataTmp.typeId="03",dataTmp.seleId="01";break;case"ssc_3xfs":dataTmp.typeId="03",dataTmp.seleId="02";break;case"ssc_4xds":dataTmp.typeId="04",dataTmp.seleId="01";break;case"ssc_4xfs":dataTmp.typeId="04",dataTmp.seleId="02";break;case"ssc_5xds":dataTmp.typeId="05",dataTmp.seleId="01";break;case"ssc_5xfs":dataTmp.typeId="05",dataTmp.seleId="02"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function getRightIssue(now,r,len){for(var n=0,re=[],i=0;i<r.length;i++)if(r[i].issue==now){n=i;for(var j=0;len>j;j++)re.push(r[n+j])}return re}function merge(list){var r=[];return $(list).each(function(index,item){r.push({issue:item.issue,multiple:sscCar.total.bei})}),r}var r=[];action.getIssue({lottery:"JXSSC",issues:sscCar.total.qi+1||SSC_QI+1},function(re){var rr=getRightIssue(SSC_NOWQI,re,sscCar.total.qi||SSC_QI);r=merge(rr),fn(r)})}var sscCar=countCar();if(!sscCar)return null;var d={gameType:"006",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=sscCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.pl3Tz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectssc").fadeOut(function(){$(".wzl-cartext").removeClass("hidden"),$(".wzl-nav-dropdown").hide(),$("#ssccar, #carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/yxzx"}),$("#car-addjx").unbind().bind("click",function(){var ssc=getOneSSC();SSC_CAR.push(ssc),renderCar()}),$(".glyphicon.icon-trash").on("click",function(){var s=countCar();s.clear(),renderCar()})}var SSC_CAR=[],SSC_BEI=1,SSC_QI=1,SSC_ZJ=!1,SSC_ZJSTOP=!1,SSC_NOWQI=null,CACHE_ID=0,u_type="yxzx",PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,routes={"/yxzx":function(){yxzx()},"/rx1":function(){rx1()},"/rx2":function(){rx2()},"/exzx":function(){exzx()},"/exfx":function(){exfx()},"/exhz":function(){exhz()},"/sanxzx":function(){sanxzx()},"/sanxfx":function(){sanxfx()},"/zsdx":function(){zsdx()},"/zsfx":function(){zsfx()},"/wxzx":function(){wxzx()},"/wxfx":function(){wxfx()},"/wxnx":function(){wxnx()},"/sixzx":function(){sixzx()},"/sixfx":function(){sixfx()},"/car":function(){ssccar()},index:function(){yxzx()},init:function(){init()}};Router(routes)}function cqssc(){function init(){function kjdjs(){function issue(){function setIssue(d){function setCountDown(s){timer=setInterval(function(){s--,90>=s&&($(".history-bar").html("该其次已经截止,下一期预售中。"),issue());var v=formatSeconds(s-90);$(".history-bar .history-bar-dropdown").html(v)},1e3)}function formatSeconds(value){function pad(n){return 10>n?"0"+n:n}var theTime=parseInt(value),theTime1=0,theTime2=0;theTime>60&&(theTime1=parseInt(theTime/60),theTime=parseInt(theTime%60),theTime1>60&&(theTime2=parseInt(theTime1/60),theTime1=parseInt(theTime1%60)));var result="<span class='redballs'>"+pad(parseInt(theTime))+"</span>秒";return theTime1>0&&(result="<span class='redballs'>"+pad(parseInt(theTime1))+"</span>分"+result),theTime2>0&&(result="<span class='redballs'>"+pad(parseInt(theTime2))+"</span>时"+result),result}SSC_NOWQI=d.issue,setCountDown(d.endTime),$(".history-bar").html(" <span>第"+d.issue+"期销售中</span><div class='pull-right history-bar-dropdown icon-dropdown-gray'> <span class='redballs'>00</span>时<span class='redballs'>00</span>分<span class='redballs'>00</span>秒</div>")}clearInterval(timer),action.getIssue({lottery:"CQSSC",issues:25},function(re){issueA=re,re[0].endTime<=90&&(re=re.slice(1)),setIssue(re[0])})}var issueA=[],timer=null;issue()}function fomatYl(d){var allArr=d.split(",");for(i=6;15>=i;i++)$(".yla em").eq(i-6).text(allArr[i]),$(".yla2 em").eq(i-6).text(allArr[i]),$(".yla3 em").eq(i-6).text(allArr[i]),$(".yla4 em").eq(i-6).text(allArr[i]),$(".yla5 em").eq(i-6).text(allArr[i]);for(i=16;25>=i;i++)$(".ylb em").eq(i-16).text(allArr[i]),$(".ylb2 em").eq(i-16).text(allArr[i]),$(".ylb3 em").eq(i-16).text(allArr[i]),$(".ylb4 em").eq(i-16).text(allArr[i]);for(i=26;35>=i;i++)$(".ylc em").eq(i-26).text(allArr[i]),$(".ylc2 em").eq(i-26).text(allArr[i]),$(".ylc3 em").eq(i-26).text(allArr[i]);for(i=36;45>=i;i++)$(".yld em").eq(i-36).text(allArr[i]),$(".yld2 em").eq(i-36).text(allArr[i]);for(i=46;55>=i;i++)$(".yle em").eq(i-46).text(allArr[i])}kjdjs(),$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle()}),$.wzlmore(function(){}),action.queryUserInfo({},function(){}),action.queryCqssc({pageno:1,pagesize:10},function(d){function fomatIssue2(d,name){for(var arr=[],i=0;i<d.length;i++){var obj={};obj.issue=d[i].lotIssue,obj.ball=d[i].kjCode,arr.push(obj)}var myTemplate=Handlebars.compile($("#history-template").html());$("#"+name).append(myTemplate({data:arr})),$(".history-bar").undelegate(),$(".history-bar").delegate(".history-bar-dropdown","click",function(){var $this=$(this);$(".history-list").slideToggle(function(){$(".history-bar-dropdown").hasClass("icon-dropdown-gray")?$this.addClass("icon-dropup-gray").removeClass("icon-dropdown-gray"):$this.removeClass("icon-dropup-gray").addClass("icon-dropdown-gray")})})}fomatIssue2(d.lotolist,"cqssc-history")}),action.yl("cqssc",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function publicShow(v,title,fn){$("#carfixed,#ssccar,#tzsuccess").hide(),$("#selectssc,#sscplays").show(),$(".wzl-cartext").addClass("hidden"),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码"),$("#sscplays>div").not("#"+v).hide(function(){$("#"+v+", #buycarfixedbtn").show(),$(".wzl-nav-dropdown").text(title).show(),fn&&fn()})}function sscNumberSelect(containerId,total,before,multipleSelect){return cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId,multipleSelect:!multipleSelect})}function sscSelect(ssc){if(ssc!==!1){var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码")}function sscAdd2Car(fn){$("#buycarfixedbtn a.ball-status-bar").unbind().bind("click",function(){fn&&fn(),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")})}function yxzx(){function total(){var yx=countYx();sscSelect(yx,function(){})}function countYx(){var yxN=yx.getSelected();if(!yxN||!yxN.length)return!1;var groups=[{dan:null,tuo:yxN}];return{code:"ssc_yxzx",groups:groups}}publicShow("selectyxzx","重庆时时彩-一星直选"),u_type="yxzx";var yx=sscNumberSelect("#selectyxzx .ballcon",total,function(){},!0);sscAdd2Car(function(){var ssc=countYx();return ssc===!1?(dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),yx.clear(),location.href="#!/car",void 0)}),$(".glyphicon.icon-trash").on("click",function(){yx.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:9,count:1});yx.clear().select(n1)})}function rx1(){publicShow("selectrx1","重庆时时彩-任选一")}function rx2(){publicShow("selectrx2","重庆时时彩-任选二")}function exzx(){function total(){var ex=countEx();sscSelect(ex)}function countEx(){var shiN=shi.getSelected(),geN=ge.getSelected();if(!(shiN&&shiN.length&&geN&&geN.length))return!1;var ssctype="ssc_exfx";1==shiN.length&&1==geN.length&&(ssctype="ssc_exzx");var groups=[{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:ssctype,groups:groups}}publicShow("selectexzx","重庆时时彩-二星直选"),u_type="exzx";var shi=sscNumberSelect("#selectexzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectexzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=countEx();return ssc===!1?(dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),shi.clear(),ge.clear(),location.href="#!/car",void 0)}),$(".glyphicon.icon-trash").on("click",function(){shi.clear(),ge.clear(),total()}),Y_Y(function(){shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function exfx(){publicShow("selectexfx","重庆时时彩-二星复选")}function exhz(){publicShow("selectexhz","重庆时时彩-二星和值")}function sanxzx(){function total(){var ex=countSx();sscSelect(ex)}function countSx(){var baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_3xds;if(!(baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_3xfs";baiN.length==dsType.groupdef[0].required&&shiN.length==dsType.groupdef[1].required&&geN.length==dsType.groupdef[2].required&&(type="ssc_3xds");var groups=[{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectsanxzx","重庆时时彩-三星直选"),u_type="3xzx";var bai=sscNumberSelect("#selectsanxzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectsanxzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectsanxzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=countSx();return ssc===!1?(dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),bai.clear(),shi.clear(),ge.clear(),location.href="#!/car",void 0)}),$(".glyphicon.icon-trash").on("click",function(){bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function sanxfx(){publicShow("selectsanxfx","重庆时时彩-三星复选")}function zsdx(){publicShow("selectzsdx","重庆时时彩-组三单选")}function zsfx(){publicShow("selectzsfx","重庆时时彩-组三复选")}function wxzx(){function total(){var ex=count5x();sscSelect(ex)}function count5x(){var wanN=wan.getSelected(),qianN=qian.getSelected(),baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_5xds;if(!(wanN&&wanN.length&&qianN&&qianN.length&&baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_5xfs";wanN.length==dsType.groupdef[0].required&&qianN.length==dsType.groupdef[1].required&&baiN.length==dsType.groupdef[2].required&&shiN.length==dsType.groupdef[3].required&&geN.length==dsType.groupdef[4].required&&(type="ssc_5xds");var groups=[{dan:null,tuo:wanN},{dan:null,tuo:qianN},{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectwxzx","重庆时时彩-五星直选"),u_type="wxzx";var wan=sscNumberSelect("#selectwxzx .ssc-wan",total,function(){}),qian=sscNumberSelect("#selectwxzx .ssc-qian",total,function(){}),bai=sscNumberSelect("#selectwxzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectwxzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectwxzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=count5x();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.CQSSC.UNIT_PRICE;return price>CPCONFIG.CQSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.CQSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){qian.clear(),bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});wan.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qian.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function wxfx(){publicShow("selectwxfx","重庆时时彩-五星复选")}function wxnx(){publicShow("selectwxnx","重庆时时彩-五星通选")}function ssccar(){function renderCar(){if(SSC_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssccar .ball-select-remove").unbind().bind("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")
}totalBoard(function(qi,bei,zjstop){SSC_BEI=bei,SSC_QI=qi,SSC_ZJSTOP=zjstop,renderCar()})}function countCar(){function strBtype(type,item,notext){var s="",_s="";return"ssc_yxzx"==type&&(s+=item.groups[0].tuo.join(" "),_s+="_,_,_,_,"+item.groups[0].tuo.join(" ")),("ssc_exzx"==type||"ssc_exfx"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" "),_s+="_,_,_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")),("ssc_3xds"==type||"ssc_3xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" "),_s+="_,_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")),("ssc_4xds"==type||"ssc_4xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" ")+" ",s+=item.groups[3].tuo.join(" "),_s+="_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")),("ssc_5xds"==type||"ssc_5xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" ")+" ",s+=item.groups[3].tuo.join(" ")+" ",s+=item.groups[4].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")+",",_s+=item.groups[4].tuo.join(" ")),notext?_s:s}function type(t){var r="";switch(t){case"ssc_yxzx":r="一星直选";break;case"ssc_exzx":r="二星直选";break;case"ssc_exfx":r="二星复选";break;case"ssc_3xds":r="三星单式";break;case"ssc_3xfs":r="三星复式";break;case"ssc_4xds":r="四星单式";break;case"ssc_4xfs":r="四星复式";break;case"ssc_5xds":r="五星单式";break;case"ssc_5xfs":r="五星复式"}return r}function remove(id){for(var j=0;j<SSC_CAR.length;j++)SSC_CAR[j].SSC_ID==id&&SSC_CAR.splice(j,1)}function clear(){SSC_CAR=[],SSC_BEI=1,SSC_QI=1,SSC_ZJ=!1,SSC_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<SSC_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(SSC_CAR[i]),ritem.price=ritem.count*CPCONFIG.JXSSC.UNIT_PRICE,ritem.type=type(SSC_CAR[i].code),ritem.code=SSC_CAR[i].code,ritem.id=SSC_CAR[i].SSC_ID,car_count+=ritem.count,car_price+=ritem.price,ritem.redStr=strBtype(SSC_CAR[i].code,SSC_CAR[i]),ritem._redStr=strBtype(SSC_CAR[i].code,SSC_CAR[i],!0),r.push(ritem)}return total={bei:SSC_BEI,qi:SSC_QI,count:car_count,price:car_price*SSC_QI*SSC_BEI,zjstop:SSC_ZJSTOP,zj:SSC_ZJ},{list:r,count:car_count,price:car_price,clear:clear,remove:remove,total:total}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOneSSC(){var wan=cp.shuffle({min:0,max:9,count:1}),qian=cp.shuffle({min:0,max:9,count:1}),bai=cp.shuffle({min:0,max:9,count:1}),shi=cp.shuffle({min:0,max:9,count:1}),ge=cp.shuffle({min:0,max:9,padding:!1,count:1}),ssc={code:"ssc_yxzx",groups:[{dan:null,tuo:ge}]};switch(u_type){case"yxzx":ssc={code:"ssc_yxzx",groups:[{dan:null,tuo:ge}]};break;case"exzx":ssc={code:"ssc_exzx",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi}]};break;case"3xzx":ssc={code:"ssc_3xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai}]};break;case"4xzx":ssc={code:"ssc_4xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian}]};break;case"wxzx":ssc={code:"ssc_5xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian},{dan:null,tuo:wan}]}}return ssc.SSC_ID=++CACHE_ID,ssc}function tzsuccess(){$("#car,#selectssc,#carfixed,#ssccar,#buycarfixedbtn").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!sscCar)return!1;var need={gameType:"018",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(sscCar.total.price),need.isStop=sscCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(sscCar.list),need.buyType=sscCar.total.qi>1?1:0,need.title=sscCar.total.qi>1?"重庆时时彩"+SSC_NOWQI+"期追号方案":"重庆时时彩"+SSC_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0,multiple:0,status:0,num:0,lastMatch:0,hbcls:0};if(!item||!item.count)return!1;var rs=item._redStr;switch(dataTmp.buyNumber=rs,dataTmp.sum=item.price,dataTmp.num=item.count,dataTmp.multiple=sscCar.total.bei,item.code){case"ssc_yxzx":dataTmp.typeId="01",dataTmp.seleId="01";break;case"ssc_exzx":dataTmp.typeId="02",dataTmp.seleId="01";break;case"ssc_exfx":dataTmp.typeId="02",dataTmp.seleId="02";break;case"ssc_3xds":dataTmp.typeId="03",dataTmp.seleId="01";break;case"ssc_3xfs":dataTmp.typeId="03",dataTmp.seleId="02";break;case"ssc_4xds":dataTmp.typeId="04",dataTmp.seleId="01";break;case"ssc_4xfs":dataTmp.typeId="04",dataTmp.seleId="02";break;case"ssc_5xds":dataTmp.typeId="05",dataTmp.seleId="02";break;case"ssc_5xfs":dataTmp.typeId="05",dataTmp.seleId="02"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function getRightIssue(now,r,len){for(var n=0,re=[],i=0;i<r.length;i++)if(r[i].issue==now){n=i;for(var j=0;len>j;j++)re.push(r[n+j])}return re}function merge(list){var r=[];return $(list).each(function(index,item){item.issue>=SSC_NOWQI&&r.length<SSC_QI&&r.push({issue:item.issue,multiple:sscCar.total.bei})}),r}var r=[];action.getIssue({lottery:"CQSSC",issues:sscCar.total.qi||SSC_QI},function(re){var rr=getRightIssue(SSC_NOWQI,re,sscCar.total.qi||SSC_QI);r=merge(rr),fn(r)})}var sscCar=countCar();if(!sscCar)return null;var d={gameType:"018",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=sscCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.pl3Tz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectssc").fadeOut(function(){$(".wzl-nav-dropdown").hide(),$(".wzl-cartext").removeClass("hidden"),$("#ssccar, #carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/yxzx"}),$("#car-addjx").unbind().bind("click",function(){var ssc=getOneSSC();SSC_CAR.push(ssc),renderCar()}),$(".glyphicon.icon-trash").on("click",function(){var s=countCar();s.clear(),renderCar()})}var SSC_CAR=[],SSC_BEI=1,SSC_QI=1,SSC_ZJ=!1,SSC_ZJSTOP=!1,SSC_NOWQI=null,CACHE_ID=0,u_type="yxzx",PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,routes={"/yxzx":function(){yxzx()},"/rx1":function(){rx1()},"/rx2":function(){rx2()},"/exzx":function(){exzx()},"/exfx":function(){exfx()},"/exhz":function(){exhz()},"/sanxzx":function(){sanxzx()},"/sanxfx":function(){sanxfx()},"/zsdx":function(){zsdx()},"/zsfx":function(){zsfx()},"/wxzx":function(){wxzx()},"/wxfx":function(){wxfx()},"/wxnx":function(){wxnx()},"/sixzx":function(){},"/sixfx":function(){},"/car":function(){ssccar()},index:function(){yxzx()},init:function(){init()}};Router(routes)}var $=require("jquery/2.1.1/jquery"),until=require("wzlh5/1.0.0/until"),action=require("wzlh5/1.0.0/ac"),wzlui=require("wzlh5/1.0.0/ui"),cp=require("wzlh5/1.0.0/cp"),Handlebars=require("handlebars/1.3.0/dist/cjs/handlebars").default,dialog=(wzlui.containerMask,wzlui.iscrollPop,wzlui.dialog),dropdownMask=(wzlui.containerMask,wzlui.dropdownMask),Y_Y=until.Y_Y,TZ_INFO=until.TZ_INFO,Router=until.Router;return{jxssc:jxssc,cqssc:cqssc}});