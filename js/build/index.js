/*! wozhongla 2015-01-23 */
define("wzlh5/1.0.0/index",["jquery/2.1.1/jquery","handlebars/1.3.0/dist/cjs/handlebars","iscroll/5.1.2/iscroll","iscroll/5.1.2/iscroll-probe","swiper/2.7.0/dist/idangerous.swiper","import-style/1.0.0/index"],function(require,exports,module){var $=require("jquery/2.1.1/jquery"),Handlebars=require("handlebars/1.3.0/dist/cjs/handlebars").default,CF=require("wzlh5/1.0.0/cf"),cp=require("wzlh5/1.0.0/cp"),wzlui=require("wzlh5/1.0.0/ui"),iscroll=require("iscroll/5.1.2/iscroll"),swiper=require("swiper/2.7.0/dist/idangerous.swiper"),action=require("wzlh5/1.0.0/ac"),util,verify,Router,Ls,Hc,register,login,user,pay,wzlindex,ssq,cqssc,dlt,f3d,ssc,pl3,pl5,qxc,qlc,x115,jc,jchh,result,account;util=function(){var RULES={MOBILE:/^(?:13[0-9]|14[57]|15[0-35-9]|170|18[0-9])\d{8}$/,EMAIL:/^\w+(?:[\._+\-]\w+)*@\w+(?:\.\w+)+$/},len=function(s){for(var l=0,a=s.split(""),i=0;i<a.length;i++)a[i].charCodeAt(0)<299?l++:l+=2;return l},getRequestParameter=function(a){var b=document.location.search||document.location.hash;if(null==a)return b;if(b){b=b.substring(1).split("&");for(var c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return b[c].substring(b[c].indexOf("=")+1)}return""},_Base64=function(){function Base64(){var _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(input){var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output="",i=0;for(input=_utf8_encode(input);i<input.length;)chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=(15&chr2)<<2|chr3>>6,enc4=63&chr3,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4);return output},this.decode=function(input){var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output="",i=0;for(input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<input.length;)enc1=_keyStr.indexOf(input.charAt(i++)),enc2=_keyStr.indexOf(input.charAt(i++)),enc3=_keyStr.indexOf(input.charAt(i++)),enc4=_keyStr.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(15&enc2)<<4|enc3>>2,chr3=(3&enc3)<<6|enc4,output+=String.fromCharCode(chr1),64!=enc3&&(output+=String.fromCharCode(chr2)),64!=enc4&&(output+=String.fromCharCode(chr3));return output=_utf8_decode(output)},_utf8_encode=function(string){string=string.replace(/\r\n/g,"\n");for(var utftext="",n=0;n<string.length;n++){var c=string.charCodeAt(n);128>c?utftext+=String.fromCharCode(c):c>127&&2048>c?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(63&c|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(63&c|128))}return utftext},_utf8_decode=function(utftext){for(var string="",i=0,c=c1=c2=0;i<utftext.length;)c=utftext.charCodeAt(i),128>c?(string+=String.fromCharCode(c),i++):c>191&&224>c?(c2=utftext.charCodeAt(i+1),string+=String.fromCharCode((31&c)<<6|63&c2),i+=2):(c2=utftext.charCodeAt(i+1),c3=utftext.charCodeAt(i+2),string+=String.fromCharCode((15&c)<<12|(63&c2)<<6|63&c3),i+=3);return string}}return new Base64}(),shref={login:"/views/login.html",index:"/index.html",ucenter:"/views/ucenter.html",paycenter:"/views/paycenter.html",ssq:"/views/ssq.html",dlt:"/views/dlt.html",jc:"/views/jc.html",jx11x5:"/views/jx11x5.html",fc3d:"/views/fc3d.html",pl3:"/views/pl3.html",ssc:"/views/ssc.html",cqssc:"/views/cqssc.html",pl5:"/views/pl5.html",qxc:"/views/qxc.html",qlc:"/views/qlc.html",accountdetail:"/views/accountdetail.html",bettingdetail:"/views/bettingdetail.html",bettingRecord:"/views/bettingRecord.html",bettingZH:"/views/bettingZH.html",savingscard:"/views/savingscard.html"},ref=function(url,backurl){function matchflat(u){var s=u.substring(u.lastIndexOf("/")+1,u.lastIndexOf("."));return s}location.href=backurl?shref[url]+"?ref="+matchflat(backurl):url},searchRef=function(u){return function(){window.WzlRoot=location.hostname}(),window.WzlRoot+shref[u]};return{RULES:RULES,len:len,Base64:_Base64,getRequestParameter:getRequestParameter,ref:ref,searchRef:searchRef,shref:shref}},$.fn.extend({randombox:function(fn){var n,bClick=!1,$this=$(this),$ball=$this.parent().next(".ball-random-block");$this.unbind().bind("click",function(){var t=$this.parent().offset().top,h=$this.outerHeight(),r=$(window).width()-($this.offset().left+$this.outerWidth()+10);$ball.css({zIndex:1e3,top:t+h+10,right:r,position:"absolute"}),bClick?(bClick=!1,$ball.hide(),$this.addClass("icon-dropdown-trans").removeClass("icon-dropup-trans")):(bClick=!0,$ball.show(),$this.removeClass("icon-dropdown-trans").addClass("icon-dropup-trans")),$this.parent().next(".ball-random-block ").find("li").unbind("click"),$this.parent().next(".ball-random-block ").find("li").on("click",function(){$(this).parent().parent().hide(),n=$(this).children().attr("num"),$(this).parent().parent().prev(".ballcon-jx-se").find(".ballcon-js-n").text(n+"个"),$this.prev().attr("num",n),fn&&fn(n)})}),$this.prev().unbind().bind("click",function(){n=$(this).attr("num"),fn&&fn(n)})}}),$.extend({wzlmore:function(fn){$(".wzl-nav-more").click(function(){$(this);$(".drop-down-more").fadeToggle();var $d=$(".drop-down-more").find("ul").find("li");$d.unbind("click"),$d.click(function(){$(".drop-down-more").hide()}),fn&&fn($d)}),$("body").click(function(e){$(e.target).hasClass("icon-more")||$(".drop-down-more").hide()})},wzlhistory:function(type,fn){function fomatIssue(d,name){for(var arr=[],i=0;i<d.length;i++){var obj={};obj.issue=d[i].lotIssue,obj.redball=d[i].kjCode.split("+")[0],obj.blueball=d[i].kjCode.split("+")[1],arr.push(obj)}var myTemplate=Handlebars.compile($("#history-template").html());$("#"+name).append(myTemplate({data:arr})),$(".history-bar").undelegate(),$(".history-bar").delegate(".history-bar-dropdown","click",function(){var $this=$(this);$(".history-list").slideToggle(function(){$(".history-bar-dropdown").hasClass("icon-dropdown-gray")?$this.addClass("icon-dropup-gray").removeClass("icon-dropdown-gray"):$this.removeClass("icon-dropup-gray").addClass("icon-dropdown-gray")})})}function fomatIssue2(d,name){for(var arr=[],i=0;i<d.length;i++){var obj={};obj.issue=d[i].lotIssue,obj.ball=d[i].kjCode,arr.push(obj)}var myTemplate=Handlebars.compile($("#history-template").html());$("#"+name).append(myTemplate({data:arr})),$(".history-bar").undelegate(),$(".history-bar").delegate(".history-bar-dropdown","click",function(){var $this=$(this);$(".history-list").slideToggle(function(){$(".history-bar-dropdown").hasClass("icon-dropdown-gray")?$this.addClass("icon-dropup-gray").removeClass("icon-dropdown-gray"):$this.removeClass("icon-dropup-gray").addClass("icon-dropdown-gray")})})}function setIssue(d){function setCountDown(s){"ssc"==type?(s-=120,0>s&&(clearTimeout(timer),d.endTime=600,s=600,d.issue++,setIssue(d))):"cqssc"==type&&(s-=90,0>s&&(clearTimeout(timer),d.endTime=600,s=600,d.issue++,setIssue(d))),timer=setInterval(function(){s--,0==s&&(clearTimeout(timer),location.reload(),$(".history-bar .history-bar-dropdown").html("<span class='redballs'>已停止销售！</span>"));var v=formatSeconds(s);$(".history-bar .history-bar-dropdown").html(v)},1e3)}function formatSeconds(value){function pad(n){return 10>n?"0"+n:n}var theTime=parseInt(value),theTime1=0,theTime2=0;theTime>60&&(theTime1=parseInt(theTime/60),theTime=parseInt(theTime%60),theTime1>60&&(theTime2=parseInt(theTime1/60),theTime1=parseInt(theTime1%60)));var result="<span class='redballs'>"+pad(parseInt(theTime))+"</span>秒";return theTime1>0&&(result="<span class='redballs'>"+pad(parseInt(theTime1))+"</span>分"+result),theTime2>0&&(result="<span class='redballs'>"+pad(parseInt(theTime2))+"</span>时"+result),result}setCountDown(d.endTime);var timer=null;$(".history-bar").html(" <span>第"+d.issue+"期销售中</span><div class='pull-right history-bar-dropdown icon-dropdown-gray'> <span class='redballs'>00</span>时<span class='redballs'>00</span>分<span class='redballs'>00</span>秒</div>");var s=d.endTime;"ssc"==type?(s-=120,0>s&&d.issue++):"cqssc"==type&&(s-=90,0>s&&d.issue++),fn&&fn(d)}var lottery="";switch(type){case"ssq":lottery="SSQ",action.querySsq({pageno:1,pagesize:10},function(d){fomatIssue(d.lotolist,"ssq-history")});break;case"ssc":lottery="JXSSC";break;case"fc3d":lottery="FC3D",action.queryFc3d({pageno:1,pagesize:10},function(d){fomatIssue2(d.lotolist,"f3d-history")});break;case"pl3":lottery="PL3",action.querypl3({pageno:1,pagesize:10},function(d){fomatIssue2(d.lotolist,"pl3-history")});break;case"dlt":lottery="DLT",action.queryDlt({pageno:1,pagesize:10},function(d){fomatIssue(d.lotolist,"dlt-history")});break;case"cqssc":lottery="CQSSC";break;case"pl5":lottery="PL5",action.querypl5({pageno:1,pagesize:10},function(d){fomatIssue2(d.lotolist,"pl5-history")});break;case"qxc":lottery="QXC",action.queryqxc({pageno:1,pagesize:10},function(d){fomatIssue2(d.lotolist,"qxc-history")});break;case"qlc":lottery="QLC",action.queryqlc({pageno:1,pagesize:10},function(d){fomatIssue(d.lotolist,"qlc-history")});break;case"jx11x5":lottery="JX11X5"}action.getIssue({lottery:lottery},function(d){setIssue(d[0])})},yaoyiyao:function(fn){var n=0;if(window.DeviceMotionEvent){var speed=20,x=y=z=lastX=lastY=lastZ=0;window.addEventListener("devicemotion",function(){var acceleration=event.accelerationIncludingGravity;if(x=acceleration.x,y=acceleration.y,Math.abs(x-lastX)>speed||Math.abs(y-lastY)>speed){fn&&fn();var d=new Date,t=d.getTime();t-n>=3e3&&(fn&&fn(),n=t)}lastX=x,lastY=y},!1)}}}),Router=function(routes){function parseRouter(routes){for(var i in routes)"string"==typeof i&&"function"==typeof routes[i]&&ac.push({path:i,fn:routes[i]})}function parseHash(url){var u,ucache=url.replace(/^[^#]*/,"");return ucache[1]!=def.type?"":u=ucache.slice(2)}function checkHash(url){var hash=parseHash(url)||"index";$(ac).each(function(i,router){router.path==hash&&router.fn()})}var win=window,ac=[],def={type:"!"};routes&&"object"==typeof routes&&(parseRouter(routes),$(win).bind("hashchange",function(ev){{var originEvent=ev.originalEvent,newUrl=originEvent.newURL;originEvent.oldURL}checkHash(newUrl)}),routes.init(),checkHash(win.location.hash))},Ls={set:function(name,value){var Days=3600,oDate=new Date;oDate.setDate(oDate.getDate()+24*Days*60*60*1e3),document.cookie=name+"="+encodeURIComponent(value)+";expires="+oDate},get:function(name){for(var arr=document.cookie.split("; "),i=0,len=arr.length;len>i;i++){var arr2=arr[i].split("=");if(arr2[0]==name)return decodeURIComponent(arr2[1])}},remove:function(name){Ls.set(name,null,-1)},clear:function(){for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=cookies[i],position=cookie.indexOf("="),name=position>-1?cookie.substring(0,position):cookie;document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}},each:function(fn){for(var key,n=localStorage.length,i=0,fn=fn||function(){};n>i&&(key=localStorage.key(i),fn.call(this,key,this.get(key))!==!1);i++)localStorage.length<n&&(n--,i--)}},Hc=window.Hc=function(url){location.href=url},window.backAction=function(){try{rechargeAct.actFinish(-1)}catch(e){window.history.back(-1)}},verify=function(){function toSwitch(str){"phone"==str?$imgBlock.animate({right:"120"},300)&&$phoneBlock.animate({right:"0"},300):$phoneBlock.animate({right:"120"},300)&&$imgBlock.animate({right:"0"},300)}function show(){refreshImg(),$(".wzl-verifycode-block").show()}function refreshImg(){$(".wzl-verify-code").attr("src",action.INF_CONFIG+"wzlInterface/servicesAPI/mobile/getCode?"+Math.random())}function hide(){$(".wzl-verifycode-block").hide()}function result(){var $val=$(".wzl-verify-input").val().trim();return $val}function _action(fn){$refresh.on("click",function(){$imgCode.attr("src",action.INF_CONFIG+"wzlInterface/servicesAPI/mobile/getCode?"+Math.random())}),fn($refresh,$phoneCode,$imgCode,result)}var $phoneBlock=$(".wzl-verifyphone-block"),$imgBlock=$(".wzl-verifyimg-block"),$imgCode=$(".wzl-verify-code"),$refresh=$(".wzl-verify-refresh"),$phoneCode=$(".wzl-getverify-phone");return{toSwitch:toSwitch,show:show,hide:hide,result:result,action:_action,refreshImg:refreshImg}};var pops=wzlui.containerMask,iscrollPop=wzlui.iscrollPop,dialog=wzlui.dialog,containerMask=wzlui.containerMask,dropdownMask=function(){function show(){$(".wzl-dropdown-con").css({top:$(".wzl-navbar").height()}),$(".dropdown-con").css({top:$(".wzl-navbar").height()}),$("#wzl-dropdown").removeClass("dropdown-hide"),$(".wzl-nav-dropdown").addClass("icon-dropup-white").removeClass("icon-dropdown-white")}function hide(){$("#wzl-dropdown").addClass("dropdown-hide"),$(".wzl-nav-dropdown").removeClass("icon-dropup-white").addClass("icon-dropdown-white")}function toggle(){lock?(lock=!1,hide()):(lock=!0,show())}var lock=!1;return $(".wzl-dropdown-con a, .dropdown-con a").on("click",function(){lock=!1,$("#wzl-dropdown").addClass("dropdown-hide"),$(".wzl-nav-dropdown").removeClass("icon-dropup-white").addClass("icon-dropdown-white")}),$("#wzl-dropdown .wzl-dropdown-wrap").on("click",function(){lock=!1,$("#wzl-dropdown").addClass("dropdown-hide"),$(".wzl-nav-dropdown").addClass("icon-dropdown-white").removeClass("icon-dropup-white")}),{show:show,hide:hide,toggle:toggle}}();register=function(ac){function register(type){$("#reg").unbind("click"),$("#reg").on("click",function(){var $uname=$('input[name="username"]').val(),$upwd=$('input[name="password"]').val(),$code=$("#code").val(),re=/^\w+$/;if(!re.test($upwd))return dialog("tips","密码有误，请重新输入"),!1;if(!$("#reg-check").prop("checked"))return dialog("tips","请您先同意用户协议和法律声明后再试！"),!1;if(!$uname)return dialog("tips","账号错误，请正确填写"),!1;if(!$upwd)return dialog("tips","密码错误，请正确填写"),!1;if(!$code)return dialog("tips","验证码不能为空"),!1;var data;data="usermobile"==type?{usermobile:$uname,password:$upwd,code:$code}:{username:$uname,password:$upwd,code:$code},actions.register(data,function(re){"200"==re.resultCode?(Ls.clear(),Ls.set("balance",0),Ls.set("username",re.data.userName),window.location.href="registerok.html?userName="+re.data.userName+"&userMobile="+re.data.userMobile||""):setTimeout(function(){dialog("tips",re.data)},2e3)})})}function registerok(){$("#username").text(decodeURIComponent(utils.getRequestParameter("userName"))),"null"!=utils.getRequestParameter("userMobile")?($("#isPhone").removeClass("wzl-text-warning").text(utils.getRequestParameter("userMobile")),$("#verify-btn").remove()):$("#changeuser").remove(),$("#registerok").on("click",function(){location.href="ucenter.html"})}var actions=action,utils=util(),rules=utils.RULES,verifyCode=verify();switch(ac){case"registerok":registerok()}$('input[name="username"]').focus(),$("#glyphicon-wzl-eye").on("click",function(){"text"==$("#password").attr("type")?$("#password").attr("type","password"):$("#password").attr("type","text")}),$("form").submit(function(){return!1}),$(document).keydown(function(e){var $val=$(this).val().trim();"13"==e.keyCode&&(rules.MOBILE.test($val)?(verifyCode.toSwitch("phone"),register("usermobile")):rules.EMAIL.test($val)?(verifyCode.toSwitch("img"),register("useremail")):(verifyCode.toSwitch("img"),register("username")))}),$('input[name="username"]').on("blur",function(){var $val=$(this).val().trim();verifyCode.show(),$(".register-tips").hide(),rules.MOBILE.test($val)?(verifyCode.toSwitch("phone"),register("usermobile")):rules.EMAIL.test($val)?(verifyCode.toSwitch("img"),register("useremail")):(verifyCode.toSwitch("img"),register("username"))}),verifyCode.action(function(refresh,phoneCode){refresh.on("click",function(){verifyCode.refreshImg(),$("#code").val("")}),phoneCode.on("click",function(){$("#code").val("");var $uphone=$('input[name="username"]').val().trim(),i=60,timer=null;return rules.MOBILE.test($uphone)&&(timer=setInterval(function(){i--,phoneCode.addClass("disabled"),phoneCode.html("再次获取("+i+")秒"),0==i&&(clearInterval(timer),phoneCode.removeClass("disabled"),phoneCode.html("再次获取"))},1e3)),!1})});var serverPop=iscrollPop({title:"用户协议 和 法律声明",content:$(".yhxy").html(),onclose:function(){}});$(".wzl-server-a").click(function(){serverPop.show()})},login=function(){var actions=action,utils=util(),rules=utils.RULES,verifyCode=verify(),ref=utils.getRequestParameter("ref");verifyCode.show(),verifyCode.toSwitch("img"),verifyCode.action(function(refresh,phoneCode){refresh.on("click",function(){verifyCode.refreshImg(),$('input[name="vercode"]').val("")}),phoneCode.on("click",function(){var $uphone=$('input[name="username"]').val().trim(),i=60,timer=null;return rules.MOBILE.test($uphone)&&(timer=setInterval(function(){i--,phoneCode.addClass("disabled"),phoneCode.html("再次获取("+i+")秒"),0==i&&(clearInterval(timer),phoneCode.removeClass("disabled"),phoneCode.html("再次获取"),i=60)},1e3)),!1})}),$("#login").on("click",function(){var $uname=$('input[name="username"]').val(),$upwd=$('input[name="password"]').val(),$vercode=$('input[name="vercode"]').val();return $uname?$upwd?$vercode?void actions.login({userName:$uname,passWord:$upwd,code:$vercode},function(re){if("200"==re.resultCode){var h=utils.shref[ref];utils.ref(h||"ucenter.html")}else"405"==re.resultCode?setTimeout(function(){dialog("tips",re.data)},1e3):setTimeout(function(){dialog("tips","账号或密码错误，请重试。")},1e3)}):(dialog("tips","验证码不能为空"),!1):(dialog("tips","密码不能为空"),!1):(dialog("tips","用户名不能为空"),!1)}),$(".Oauth_login a").on("click",function(){dialog("tips","暂未开通联合登录，敬请期待")})},user=function(ac){function loginJudge(){action.queryUserInfo({},function(re){return"200"==re.resultCode&&"用户没有登录"==re.data.message?void utils.ref("login",location.search):void 0})}function verifyPhone(){loginJudge("ucenter"),$('input[name="phone"]').on("focusout",function(){var $val=$(this).val().trim();rules.MOBILE.test($val)?verifyCode.toSwitch("phone"):dialog("tips","非手机号码,请重新填写！")});var $phoneCode=$(".wzl-getverify-phone"),timei=($('input[name="phone"]').val(),60),timer=null;$phoneCode.on("click",function(){var $vercode=$("#phone").val().trim();timer=setInterval(function(){timei--,$phoneCode.addClass("disabled"),$phoneCode.html("再次获取("+timei+")秒"),0>=timei&&(clearInterval(timer),timei=60,$phoneCode.removeClass("disabled"),$phoneCode.html("再次获取"))},1e3),actions.getCode({userMobile:$vercode,mess:"bindMobile"},function(re){"200"==re.resultCode?dialog("发送验证码成功"):dialog("tips","抱歉,验证手机失败...")})}),$("#verifyPhone").click(function(){var $up=$("#phone").val().trim(),$code=$("#vercode").val().trim();return $up?$code?void(rules.MOBILE.test($up)&&$code&&actions.verifyMobile({userMobile:$up,code:$code},function(re){"200"==re.resultCode?(dialog("恭喜您绑定手机成功"),setTimeout(function(){location.href="ucenter.html"},3e3)):dialog("tips",re.data)})):void dialog("tips","请输入正确验证码"):void dialog("tips","请输入正确的手机号")})}function completeInfo(){function userComplete(){var r=Math.random()>.5;r?step2():step3()}function step2(){$("#complete-info-step1").animate({opacity:"0",height:"0"},500,function(){$("#complete-info-step1").hide()}),$("#complete-info-step2").animate(600).show();var $phoneCode=$(".wzl-getverify-phone"),timei=60,timer=null;$phoneCode.on("click",function(){timer=setInterval(function(){timei--,$phoneCode.addClass("disabled"),$phoneCode.html("再次获取("+timei+")秒"),0==timei&&(clearInterval(timer),$phoneCode.removeClass("disabled"),$phoneCode.html("再次获取"))},1e3)}),$("#bind1").on("click",function(){var $code=$(".wzl-verify-input").val().trim(),$pwd=$("#password1").val().trim();$code?!$pwd||$pwd.length<6?dialog("密码格式有误"):(dialog("loading","完善信息中..."),setTimeout(function(){dialog("完善成功！")},4e3)):dialog("请输入验证码")})}function step3(){$("#complete-info-step1").animate({opacity:"0",height:"0"},500,function(){$("#complete-info-step1").hide()}),$("#complete-info-step3").animate(600).show(),$("#bind2").on("click",function(){var $up2=$("#phone1").val().trim();rules.MOBILE.test($up2)?(dialog("loading","正在绑定"),setTimeout(function(){dialog({type:"tips",message:"绑定失败，请重试"})},2e3)):dialog("手机号码有误")})}{var $phone=$("#phone"),$checkbtn=$("#checkphone");$("#bind1"),$("#bind2")}$checkbtn.on("click",function(){var $up=$phone.val().trim();rules.MOBILE.test($up)?userComplete($up):dialog("手机号码有误！")})}function findpwd(){function setPwd(){$("#findstep1").animate({opacity:0,height:0},500,function(){$("#findstep1").hide()}),$("#findstep2").animate(600).show(),$("#checkok").click(function(){var $old=$("#oldpwd").val().trim(),$new=$("#newpwd").val().trim(),$uname=$("#uname").val().trim(),$verifycode=$("#verifycode").val().trim();$old&&$new?$old!==$new?dialog("tips","重复密码错误"):actions.backPwd({userMobile:$uname,nPass:$new,code:$verifycode},function(re){"200"==re.resultCode?(dialog("恭喜您修改成功.2秒后跳转登录页."),setTimeout(function(){location.href="login.html"},2e3)):dialog(re.data)}):dialog("tips","请填写完整！")})}$("#glyphicon-wzl-eye").on("click",function(){"text"==$("#oldpwd").attr("type")?$("#oldpwd,#newpwd").attr("type","password"):$("#oldpwd,#newpwd").attr("type","text")});var $phoneCode=$(".wzl-getverify-phone"),$uname=$("#uname"),$code=$("#verifycode"),timei=60,timer=null;$phoneCode.on("click",function(){timer=setInterval(function(){timei--,$phoneCode.addClass("disabled"),$phoneCode.html("再次获取("+timei+")秒"),0>=timei&&(clearInterval(timer),$phoneCode.removeClass("disabled"),$phoneCode.html("再次获取"),timei=60)},1e3),actions.backPwdCode({userMobile:$uname.val()},function(re){dialog("200"==re.resultCode?"验证成功":re.data)})}),$("#verifyphone").on("click",function(){var $un=$uname.val().trim(),$co=$code.val().trim();$un&&$co?actions.verifyCode({userMobile:$un,code:$co},function(re){"200"==re.resultCode?setPwd():dialog(re.data)}):dialog("tips","手机号或验证码不能为空...")})}function modifypwd(){loginJudge("ucenter"),$("#glyphicon-wzl-eye").on("click",function(){"password"==$("#newpwd").attr("type")?($("#newpwd").attr("type","text"),$("#repwd").attr("type","text")):($("#newpwd").attr("type","password"),$("#repwd").attr("type","password"))}),$("#newpwd,#oldpwd,#repwd").on("keyup focusout",function(){function checklen(v){return v.length>5}function checknew(newpwd,repwd){return checklen(newpwd)&&checklen(repwd)&&newpwd==repwd}var $val1=$("#oldpwd").val().trim(),$val2=$("#newpwd").val().trim(),$val=$("#repwd").val().trim();checklen($val)&&checklen($val1)&&checklen($val2)&&checknew($val2,$val)?$("#modifybtn").removeClass("disabled"):$("#modifybtn").addClass("disabled")}),$("#modifybtn").on("click",function(){var $old=$("#oldpwd").val().trim(),$new=$("#newpwd").val().trim(),$re=$("#repwd").val().trim();if($old==$new)return dialog("tips","新旧密码不能一致"),!1;if($old&&$new&&$re)if($new!==$re)dialog("tips","重复密码错误");else{var dia=dialog("loading","发送改密码请求");action.updatePwd({userMobile:Ls.get("username"),oPass:$old,nPass:$new},function(re){"200"==re.resultCode?(dia.hide(),setTimeout(function(){dialog("恭喜您修改密码成功！")},300),setTimeout(function(){location.href="ucenter.html"},3e3)):(dia.hide(),setTimeout(function(){dialog("tips",re.data)},2e3))})}else dialog("tips","请填写完整！")})}function ucenter(){setTimeout(function(){$(".container-mask").hide(),$(".container").removeClass("hidden")},500),action.queryUserAllInfo({},function(re){if("200"==re.resultCode&&"用户没有登录"!=re.data){$(".ubar").text("您好，"+re.data.userinfo.username),null==re.data.userinfo.mobile?($("#bondPhone").show(),$("#bondPhone").parent().attr("href","verifyphone.html")):$("#bondPhone").text("绑定号为 "+re.data.userinfo.mobile),null==re.data.userinfo.idcard?$("#bondIdcard").show():$("#bondIdcard").remove(),re.data.bindInfo.length?$("#bondBankcard").hide():$("#bondBankcard").show(),re.data.u_xj=re.data.accountInfo[0].balance,re.data.u_cj=parseInt(re.data.accountInfo[1].balance)+parseInt(re.data.accountInfo[2].balance)+"";var moneyTemplate=Handlebars.compile($("#money-template").html());$("#money_info_block").html(moneyTemplate({data:re.data})),$("#paycenter").on("click",function(){location.href="paycenter.html"}),$("#cashcenter").on("click",function(){location.href="cashcenter.html"})}else location.href="login.html"}),$("#logout").on("click",function(){dialog({type:"select",message:"您确认退出吗？",onConfirm:function(){action.logout({},function(re){"200"==re.resultCode&&(location.href="login.html")})},onCancel:function(){}})})}function udata(){action.queryUserInfo({},function(re){if("200"==re.resultCode&&"0"==re.data.statusCode){re.data.userinfo.realName&&Ls.set("realname",re.data.userinfo.realName),re.data.userinfo.idcard&&Ls.set("idcard",re.data.userinfo.idcard),re.data.userinfo.address&&Ls.set("address",re.data.userinfo.address);var reg=/wzl/;null!=re.data.userinfo.mobile&&reg.test(re.data.userinfo.username)?$("#motifyusername").removeClass("hidden"):$("#motifyusername").remove(),$(".udatam-uname").html(re.data.userinfo.username),null==re.data.userinfo.idcard?$("#motifyid").removeClass("hidden"):($("#motifyid").removeClass("hidden"),$(".udatam-uidname").html(re.data.userinfo.realName),$(".udatam-uid").html(re.data.userinfo.idcard),$(".udatam-address").html(re.data.userinfo.address))}else dialog("tips","暂无数据显示"),location.href("login.html")}),loginJudge("ucenter"),setTimeout(function(){$(".container-mask").hide(),$(".container").removeClass("hidden")},1e3)}function udataName(){loginJudge("ucenter");var $un=$('input[name="username"]');$("#udata-name").on("click",function(){var $unv=$un.val().trim();$unv?(dialog("保存信息中"),actions.uchangeName({username:encodeURIComponent($unv)},function(re){"200"==re.resultCode?(dialog("tips","恭喜您修改用户名成功"),setTimeout(function(){location.href="ucenter.html"},3e3)):dialog(re.data)})):dialog("请填写用户名")})}function udataId(){loginJudge("ucenter"),action.queryUserInfo({},function(re){if("200"==re.resultCode&&"0"==re.data.statusCode){var relname=re.data.userinfo.realName,idcard=re.data.userinfo.idcard,address=re.data.userinfo.address;null!=relname&&$("#realname").attr("disabled","disabled").val(relname),null!=idcard&&$("#idcard").attr("disabled","disabled").val(idcard),null!=address&&$("#address").val(address)}else dialog("tips","暂未查到您的身份信息，可能导致修改资料失败...")});var $un=$('input[name="username"]'),$ud=$('input[name="useraddress"]'),$uid=$('input[name="userid"]');$("#udata-id").on("click",function(){var reg=/^\d{17}\w{1}$/,$unv=$un.val().trim(),$udv=$ud.val().trim(),$uidv=$uid.val().trim();return reg.test($uidv)?$unv&&$uidv?void actions.modifyId({realname:encodeURIComponent($unv),idcard:$uidv,address:encodeURIComponent($udv)},function(re){"200"==re.resultCode?(dialog("tips","恭喜您绑定资料成功"),setTimeout(function(){location.href="udatamanage.html"},2e3)):"400"==re.resultCode?dialog("tips",re.data):dialog("tips","绑定资料失败，请重试...")}):void dialog("请填写完整信息"):void dialog("请输入正确的18位身份证号!")})}var actions=action,utils=util(),rules=utils.RULES,verifyCode=verify();switch(ac){case"verifyPhone":verifyPhone();break;case"completeInfo":completeInfo();break;case"findpwd":findpwd();break;case"modifypwd":modifypwd();break;case"udata":udata();break;case"udataname":udataName();break;case"udataid":udataId();break;default:ucenter()}},pay=function(ac){function loginJudge(){action.queryUserInfo({},function(re){return"200"==re.resultCode&&"用户没有登录"==re.data.message?void utils.ref("login",location.search):void 0})}function alipayCz(){$(".alipay-cz").on("keyup",function(){var $val=$(this).val().trim();$(this).val($val.replace(/\D/g,""))}),$("#alipaycz").on("click",function(){var dig=dialog("loading","正在发起支付请求，请稍等片刻..."),$money=$(".alipay-cz").val().trim();return!$money||1>$money?(dialog("tips","请输入正确充值金额！"),!1):void actions.queyrUserAccount({},function(re){"200"!=re.resultCode?location.href="login.html":actions.doAlipayCharge({amount:$money},function(re){re.status?document.write(re.data):(dig.hide(),setTimeout(function(){dialog({type:"select",message:re.data,onConfirm:function(){location.href="login.html"}})},500))})})})}function weixinCz(){$(".weixin-cz").on("keyup",function(){var $val=$(this).val().trim();$(this).val($val.replace(/\D/g,""))}),$("#weixincz").on("click",function(){var $money=$(".weixin-cz").val().trim();$money?dialog("loading","正在跳转至微信..."):dialog("请输入充值金额！")})}function cjcard(){$("#alipaycz").on("click",function(){$(this).attr("disabled","disabled");var card=$("#charge-username").val().trim(),pass=$("#charge-password").val().trim();return card?pass?void actions.wzlCardCharge({cardNumber:card,cardPassword:pass},function(re){$("#alipaycz").removeAttr("disabled"),dialog("tips",re.data),"用户未登录"==re.data&&setTimeout(function(){location.href="login.html"},2e3)}):(dialog("tips","请填写正确的密码！"),$(this).removeAttr("disabled"),!1):(dialog("tips","请填写正确的卡号！"),$(this).removeAttr("disabled"),!1)})}function unioncallcz(){var $phone=$(".union-call-phone"),$money=$(".unicon-pay"),$bank=$('input[name="u-crads"]:checked');$("#unicon-cz").on("click",function(){{var $p=$phone.val().trim();$money.val(),$bank.val().trim()}rules.MOBILE.test($p)?dialog("loading","正在提交！"):dialog("请填写完整信息！")}),$(".pay-addcard").on("click",function(){})}function unionpay(){loginJudge("savingscard");var $cash=$("#cash");$pay=$("#pay"),$pay.on("click",function(){var dia=dialog("loading","正在跳转银联支付，请稍等片刻...");return($cashval=$cash.val())?void actions.queyrUserAccount({},function(re){dia.hide(),"200"!=re.resultCode?location.href="login.html":actions.doMobileCharge({amount:$cashval},function(re){dia.hide(),re.status?($("#warp").fadeOut(),$("#warp2").fadeIn(),$("#payurl").attr("href","uppay://uppayservice/?style=token&paydata="+re.data)):dia.hide()})}):(dialog("tips","请输入正确的充值金额..."),!1)})}function ubankcrads(){allBankData=eval("("+allBankData+")"),actions.queryBankInfo({},function(re){"200"==re.resultCode?(("3"==re.data.statusCode||null==re.data.bindInfo[0].accounts)&&($(".banks-nobind").removeClass("hidden"),$("#tocash").show()),"0"==re.data.statusCode&&null!=re.data.bindInfo[0].accounts&&($(".banks-bind").removeClass("hidden"),$("#tocash").show(),$(".pay-items-subtitie").text("尾号"+re.data.bindInfo[0].accounts.substring(re.data.bindInfo[0].accounts.length-4,re.data.bindInfo[0].accounts.length)))):dialog({type:"select",message:"查询出现异常，确认进入首页",onConfirm:function(){location.href="../index.html"},onCancel:function(){}})});var pop=iscrollPop({title:"添加银行卡",content:$("#add-crads-temp").html(),onclose:function(){}});$("#pay-addcard").on("click",function(){pop.show(function(){$("#add-crads-temp").html(""),$("#provinceinfo").on("change",function(){var val=$(this).val();$("#cityinfo").html('<option value="-1" selected="selected">请选择市</option>');for(var s=allBankData.data.link[val],i=0,len=s.length;len>i;i++){var str="";str+='<option value="'+allBankData.data.def[s[i]]+'">'+allBankData.data.def[s[i]]+"</option>",$("#cityinfo").append(str)}}),$("#addcard").click(function(){var reg=/^\d{17}\w{1}$/,reg2=/^\d{16,19}$/,s=$("#provinceinfo").val(),pro=allBankData.data.def[s],city=$("#cityinfo").val(),obank=$("#bankinfo").val(),account=$("#account").val(),opass=$("#pass").val();return reg2.test(account)?reg.test($("#idcards").val().trim())?"-1"==$("#bankinfo").val()?(dialog("tips","请选择银行！"),!1):"-1"==$("#provinceinfo").val()?(dialog("tips","请选择银行所在省份"),!1):"-1"==$("#cityinfo").val()?(dialog("tips","请选择银行所在市"),!1):pro?city?opass?account?void action.bindBank({openBank:obank,accounts:account,password:opass,province:pro,city:city},function(re){"200"==re.resultCode&&setTimeout(function(){dialog(re.data),location.reload()},2e3),"15"==re.resultCode&&setTimeout(function(){dialog({type:"tips",message:re.data})},500)}):(dialog("tips","银行卡号不能为空"),!1):(dialog("tips","密码不能为空"),!1):(dialog("tips","请填写市区"),!1):(dialog("tips","请填写省份"),!1):(dialog("tips","请输入正确的18位身份证号!"),!1):(dialog("tips","请输入正确的银行卡号!"),!1)})})})}function bindbank(){$("#submit-btn").on("click",function(){var $ubank=$("#bankname").val().trim(),$uprov=$("#chose-province").val().trim(),$ucity=$("#chose-city").val().trim(),$wzlAccount=$("#wzl-account").val().trim(),$realname=$("#realname").val().trim(),$bankcard=$("#bankcard").val().trim(),$password=$("#password").val().trim();return"default"==$ubank?(dialog("请您选择银行"),!1):"default"==$uprov?(dialog("请您选择省份"),!1):"default"==$ucity?(dialog("请您选择市"),!1):$wzlAccount?$realname?$bankcard?$password?void dialog("loading","正在发送提现请求"):(dialog("请您填写正确的密码"),!1):(dialog("请您填写正确的银行卡号"),!1):(dialog("请填写您的真实姓名"),!1):(dialog("我中啦账号不能为空"),!1)})}function paycenter(){function isWeixinBrowser(){var ua=navigator.userAgent.toLowerCase();
return/micromessenger/.test(ua)?!0:!1}isWeixinBrowser()&&$(".list-group").removeClass("hidden"),actions.queyrUserAccount({},function(re){if("200"==re.resultCode){if("用户没有登录"==re.data.message)return utils.ref("login","ucenter"),!1;$(".uname").text(re.data.username),$("#balance").text("余额:"+re.data.accountInfo[0].balance+"元"),$("#getmoney").on("click",function(){location.href="cards2cash.html?balance="+re.data.accountInfo[0].balance})}else dialog("暂无数据")})}function bindalipay(){var isLoad=Math.random()>.5;isLoad?($(".accomplish-block").show(),$(".input-block").hide(),$("#alipay-name").text(),$("#alipay-card2").text(),$("#submit-bind2").on("click",function(){var alipayUsername=$("#alipay-username2").val().trim(),password=$("#password2").val().trim();alipayUsername?password||dialog("密码不能为空，请您进行完善。"):dialog("支付宝账号不能为空，请您进行完善。"),dialog("loading","正在发送提现请求")})):($(".accomplish-block").hide(),$(".input-block").show(),$("#submit-bind1").on("click",function(){var alipayUsername=$("#alipay-username1").val().trim(),alipayName=$("#alipay-name1").val().trim(),alipayCard=$("#alipay-card1").val().trim(),password=$("#password1").val().trim();alipayUsername?alipayName?alipayCard?password||dialog("密码不能为空，请您进行完善。"):dialog("卡号不能为空，请您进行完善。"):dialog("姓名不能为空，请您进行完善。"):dialog("支付宝账号不能为空，请您进行完善。"),dialog("loading","正在发送提现请求")}))}function card2cash(){loginJudge("ucenter"),actions.queryBankInfo({},function(re){if("200"==re.resultCode&&"0"==re.data.statusCode&&null!=re.data.bindInfo[0].accounts){$(".banks-bind").removeClass("hidden"),$(".pay-items-subtitie").text("尾号"+re.data.bindInfo[0].accounts.substring(re.data.bindInfo[0].accounts.length-4,re.data.bindInfo[0].accounts.length));var openBank=re.data.bindInfo[0].openbank,Accounts=re.data.bindInfo[0].accounts,Province=re.data.bindInfo[0].province,City=re.data.bindInfo[0].city;$("#tocash").on("click",function(){function draw(){var dig=dialog("loading","正在发送提现请求");actions.draw({cash:$money,openBank:openBank,Accounts:Accounts,Province:Province,City:City},function(re){"0"==re.resultCode?(dig.hide(),setTimeout(function(){dialog({type:"tips",message:re.data,onConfirm:function(){location.href="ucenter.html"}})},2e3)):(dig.hide(),setTimeout(function(){dialog({type:"tips",message:re.data,onConfirm:function(){}})},2e3))})}{var $bank=$("input[name='bankcrad']:checked"),$money=parseInt($input.val().trim());$bank.val()}return $money?parseInt(utils.getRequestParameter("balance"))<$money?(dialog("tips","账户余额不足，请重新填写"),!1):5>=$money?(dialog("tips","最低金额为<span class='wzl-text-warning'>5</span>元，请重新填写金额..."),!1):void dialog($money>5&&2e4>$money?{type:"select",message:"提现手续费为<span class='wzl-text-warning'>2</span>元，确认继续提现...",onCancel:function(){},onConfirm:function(){draw()}}:$money>=2e4&&5e4>$money?{type:"select",message:"提现手续费为<span class='wzl-text-warning'>5</span>元，确认继续提现...",onCancel:function(){},onConfirm:function(){draw()}}:$money>=5e4&&5e5>$money?{type:"select",message:"提现手续费为<span class='wzl-text-warning'>15</span>元，确认继续提现...",onCancel:function(){},onConfirm:function(){draw()}}:$money>=5e5&&1e6>$money?{type:"select",message:"提现手续费为<span class='wzl-text-warning'>20</span>元，确认继续提现...",onCancel:function(){},onConfirm:function(){draw()}}:{type:"select",message:"提现手续费以实际为准，确认继续...",onCancel:function(){},onConfirm:function(){draw()}}):(dialog("tips","请填写提现金额"),!1)})}else $(".banks-nobind").removeClass("hidden")}),allBankData=eval("("+allBankData+")");var $input=$("input[name='tocash']");$input.on("keyup",function(){var $val=$(this).val().trim();$(this).val($val.replace(/\D/g,""))});var pop=iscrollPop({title:"添加银行卡",content:$("#add-crads-temp").html(),onclose:function(){}});$("#pay-addcard").on("click",function(){pop.show(function(){$("#add-crads-temp").html(""),$("#provinceinfo").on("change",function(){var val=$(this).val();$("#cityinfo").html('<option value="-1" selected="selected">请选择市</option>');for(var s=allBankData.data.link[val],i=0,len=s.length;len>i;i++){var str="";str+='<option value="'+allBankData.data.def[s[i]]+'">'+allBankData.data.def[s[i]]+"</option>",$("#cityinfo").append(str)}}),$("#addcard").click(function(){var reg=/^\d{17}\w{1}$/,reg2=/^\d{16,19}$/,s=$("#provinceinfo").val(),pro=allBankData.data.def[s],city=$("#cityinfo").val(),obank=$("#bankinfo").val(),account=$("#account").val(),opass=$("#pass").val();return reg2.test(account)?reg.test($("#idcards").val().trim())?"-1"==$("#bankinfo").val()?(dialog("tips","请选择银行！"),!1):"-1"==$("#provinceinfo").val()?(dialog("tips","请选择银行所在省份"),!1):"-1"==$("#cityinfo").val()?(dialog("tips","请选择银行所在市"),!1):pro?city?opass?account?void action.bindBank({openBank:obank,accounts:account,password:opass,province:pro,city:city},function(re){"200"==re.resultCode&&location.reload(),"15"==re.resultCode&&setTimeout(function(){dialog({type:"tips",message:re.data})},500)}):void dialog("银行卡号不能为空"):void dialog("密码不能为空"):void dialog("请填写市区"):void dialog("请填写省份"):(dialog("tips","请输入正确的18位身份证号!"),!1):(dialog("tips","请输入正确的银行卡号!"),!1)})})})}function alipay2cash(){var $input=$("input[name='tocash']");$input.on("keyup",function(){var $val=$(this).val().trim();$(this).val($val.replace(/\D/g,""))}),$("#tocash").on("click",function(){var $alipay=$('input[name="alipayaccount"]:checked'),$money=$input.val().trim(),$alipayAccount=$alipay.val();return $money?$alipayAccount?void 0:void dialog("请选择支付宝账号或者绑定支付宝账号！"):void dialog("请填写提现金额")});var pop=iscrollPop({title:"添加支付宝账号",content:$("#add-alipay-temp").html(),onclose:function(){}});$(".alipay-add").on("click",function(){pop.show()})}function telecom(){var operator=0;$(".icon-operators").on("click",function(){$(this).addClass("onselect").siblings().removeClass("onselect"),operator=$(this).data("name")}),$("#submit-btn").click(function(){var card=($("#money").val(),$("#cardNumber").val()),password=$("#cardPass").val();operator?card?password||dialog("请您输入正确的充值卡密码。"):dialog("请您输入正确的充值卡号。"):dialog("请您选择运营商。")})}var actions=action,utils=util(),rules=utils.RULES;switch(ac){case"acz":alipayCz();break;case"wxcz":weixinCz();break;case"unioncz":unioncallcz();break;case"unionpay":unionpay();break;case"ubankcrads":ubankcrads();break;case"bindalipay":bindalipay();break;case"card2cash":card2cash();break;case"alipay2cash":alipay2cash();break;case"telecom":telecom();break;case"bindbank":bindbank();break;case"binkpay":binkpay();break;case"cashcenter":cashcenter();break;case"cjcard":cjcard();break;default:paycenter()}};var Y_Y=function(fn){function deviceMotionHandler(){var speed=15,x=y=z=lastX=lastY=lastZ=0,acceleration=event.accelerationIncludingGravity;if(x=acceleration.x,y=acceleration.y,Math.abs(x-lastX)>speed||Math.abs(y-lastY)>speed){var d=new Date,t=d.getTime();t-n>=1500&&(fn&&fn(),n=t)}lastX=x,lastY=y,_fn=!0}var n=0,_fn=!1;window.DeviceMotionEvent&&(window.removeEventListener("devicemotion",deviceMotionHandler,!1),window.addEventListener("devicemotion",deviceMotionHandler,!1)),$(".ball-yaoyiyao").unbind().bind("click",function(){fn&&fn()})},TZ_INFO=function(info,fn){function needLogin(){dialog({type:"tips",message:s,onConfirm:function(){utils.ref("login",location.pathname)}})}function needCz(){dialog({type:"tips",message:s,onConfirm:function(){utils.ref("paycenter",location.pathname)},onCancel:function(){}})}function needInfo(){dialog({type:"tips",message:s,onConfirm:function(){utils.ref("ucenter",location.pathname)}})}function commenError(){dialog({type:"tips",message:s,onConfirm:function(){location.reload()}})}function success(){dialog({type:"tips",message:s,onConfirm:function(){fn&&fn(info)}})}var utils=util(),s="投注异常",code=Number(info.resultCode);switch(code){case 200:s="投注成功",success();break;case 300:s="投注失败",commenError();break;case 301:s="非法用户，投注信息已变更",commenError();break;case 302:s="重复提交",commenError();break;case 303:s="投注信息不完整",commenError();break;case 304:commenError();break;case 305:commenError();break;case 306:s="单场上传内容为空",commenError();break;case 307:s="投注期次未开售或已过期",commenError();break;case 308:s="解析票错误",commenError();break;case 309:s="用户未登录",needLogin();break;case 310:s="购票异常",commenError();break;case 311:s="用户信息不全，请补全。",needInfo();break;case 312:s="账户余额不足，充值请点击确认。",needCz();break;case 501:s="投注异常",dialog(s)}};ssq=function(){function init(){$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle()}),$.wzlmore(function(){}),$.wzlhistory("ssq",function(d){SSQ_NOWQI=d.issue}),action.queryUserInfo({},function(){})}function ssqcar(){function renderCar(){if(SSQ_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ball-select-group  .ball-select-remove").on("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){dialog("购物车为空！")}),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){SSQ_BEI=bei,SSQ_QI=qi,SSQ_ZJSTOP=zjstop,renderCar()})}function countCar(){function type(t){var r="";switch(t){case"ssq_ds":r="单式投注";break;case"ssq_fs":r="复式投注";break;case"ssq_dt":r="胆拖投注"}return r}function remove(id){for(var j=0;j<SSQ_CAR.length;j++)SSQ_CAR[j].SSQ_ID==id&&SSQ_CAR.splice(j,1)}function clear(){SSQ_CAR.length=0,SSQ_BEI=1,SSQ_QI=1,SSQ_ZJ=!1,SSQ_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<SSQ_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(SSQ_CAR[i]),ritem.price=ritem.count*CPCONFIG.SSQ.UNIT_PRICE,ritem.redStr=$.isArray(SSQ_CAR[i].groups[0].dan)?SSQ_CAR[i].groups[0].dan.join(" ")+" "+SSQ_CAR[i].groups[0].tuo.join(" "):SSQ_CAR[i].groups[0].tuo.join(" "),ritem.blueStr=$.isArray(SSQ_CAR[i].groups[1].dan)?SSQ_CAR[i].groups[1].dan.join(" ")+" "+SSQ_CAR[i].groups[1].tuo.join(" "):SSQ_CAR[i].groups[1].tuo.join(" "),ritem.groups=SSQ_CAR[i].groups,ritem.type=type(SSQ_CAR[i].code),ritem.code=SSQ_CAR[i].code,ritem.id=SSQ_CAR[i].SSQ_ID,car_count+=ritem.count,car_price+=ritem.price,r.push(ritem)}return total={bei:SSQ_BEI,qi:SSQ_QI,count:car_count,price:car_price*SSQ_QI*SSQ_BEI,zjstop:SSQ_ZJSTOP,zj:SSQ_ZJ},{list:r,count:car_count,price:car_price,remove:remove,total:total,clear:clear}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjstopInput=($("input#ball-zj"),$("input#ball-zjstop")),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()})}function getOneSsq(){function uniqe(arr){for(var r=[],f=1,n=1;33>=n;n++)r.push(n);arr.sort(function(n1,n2){var s1=parseInt(n1,10),s2=parseInt(n2,10);return s1-s2});for(var i=0;i<arr.length;i++){var s=parseInt(arr[i],10);r.splice(s-f,1)&&f++}return r}var redNumber=cp.shuffle({min:1,max:33,padding:1,sort:!0,count:CPCONFIG.SSQ.RED_MIN}),blueNumber=cp.shuffle({min:1,max:16,padding:1,sort:!0,count:CPCONFIG.SSQ.BLUE_MIN}),sn=[1,2,3,4,5],srd=sn.sort(function(){return Math.random()-.5>0}),srt=7,redDnumber=cp.shuffle({min:1,max:33,padding:1,sort:!0,count:srd[0]}),ssq=(cp.shuffle({pool:uniqe(redDnumber),min:1,max:32,padding:1,sort:!0,count:srt-srd[0]}),{code:"ssq_ds",groups:[{dan:null,tuo:redNumber},{dan:null,tuo:blueNumber}]});return ssq.SSQ_ID=++CACHE_ID,ssq}function tzsuccess(){$("#car,#selectssq,#carfixed").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!ssqCar)return!1;var need={gameType:"001",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(ssqCar.total.price),need.isStop=ssqCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(ssqCar.list),need.buyType=ssqCar.total.qi>1?1:0,need.title=ssqCar.total.qi>1?"双色球"+SSQ_NOWQI+"期追号方案":"双色球"+SSQ_NOWQI+"期追号方案",need}function countDt(item){function c(arr,num){var r=[];return function f(t,a,n){if(0==n)return r.push(t);for(var i=0,l=a.length-n;l>=i;i++)f(t.concat(a[i]),a.slice(i+1),n-1)}([],arr,num),r}for(var dm=item.groups[0].dan,tm=item.groups[0].tuo,bm=item.groups[1].tuo,re=[],arr=c(tm,6-dm.length),i=0;i<arr.length;i++)for(var nn=dm.concat(arr[i]).sort(),n=0;n<bm.length;n++)re.push({blueStr:bm[n],code:"ssq_ds",count:1,price:2,redStr:nn.join(" "),type:"单式投注"});return re}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0,multiple:0,status:0,num:0,lastMatch:0,hbcls:0};if(!item||!item.count)return!1;var rs=item.redStr.split(" ").join(","),bs=item.blueStr.split(" ").join(",");switch(dataTmp.buyNumber=rs+"#"+bs,dataTmp.sum=CPCONFIG.SSQ.UNIT_PRICE,dataTmp.num=item.count,dataTmp.multiple=ssqCar.total.bei,item.code){case"ssq_ds":dataTmp.seleId="01";break;case"ssq_fs":dataTmp.seleId="02",dataTmp.sum=item.count*CPCONFIG.SSQ.UNIT_PRICE;break;case"ssq_dt":dataTmp.seleId="03"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it;if("ssq_dt"==item.code){var dtitem=countDt(item);$(dtitem).each(function(index,item2){r.push(join(item2))})}else it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function merge(list){var r=[];return $(list).each(function(index,item){r.push({issue:item.issue,multiple:ssqCar.total.bei})}),r}var r=[];action.getIssue({lottery:"SSQ",issues:ssqCar.total.qi||SSQ_QI},function(re){r=merge(re),fn(r)})}var ssqCar=countCar();if(!ssqCar)return null;var d={gameType:"001",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=ssqCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){r&&r.length||dialog("投注异常，请重试"),udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),action.ssqTz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})})}$("#selectssq,.wzl-fixed").fadeOut(function(){$(".wzl-nav-bar").children().eq(1).hide(),$(".wzl-cartext").removeClass("hidden"),$(".ball-status-bar").addClass("disabled").html("至少选择6个红球与1个蓝球"),$("#car,#carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/dg"}),$("#car-addjx").unbind().bind("click",function(){var ssq=getOneSsq();SSQ_CAR.push(ssq),renderCar()}),$(".glyphicon.icon-trash").unbind().bind("click",function(){var s=countCar();s.clear(),renderCar()})}function ssqdg(){function total(){var ssq=countSsq(),count=0;if(ssq!==!1){count=PlayTypeRule.count(ssq);var price=count*CPCONFIG.SSQ.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("至少选择6个红球与1个蓝球")}function countSsq(){var redBall=red.getSelected(),blueBall=blue.getSelected(),SSQREQUIRE=CPCONFIG.SSQ,code="";if(redBall.length<SSQREQUIRE.RED_MIN||blueBall.length<SSQREQUIRE.BLUE_MIN)return!1;code=redBall.length==SSQREQUIRE.RED_MIN&&blueBall.length==SSQREQUIRE.BLUE_MIN?"ssq_ds":"ssq_fs";var groups=[{dan:null,tuo:redBall},{dan:null,tuo:blueBall}];return{code:code,groups:groups}}var red=cp.numberSelect({min:1,max:32,numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#dg"}),blue=cp.numberSelect({min:1,max:16,numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".blue_balls",containerId:"#dg"});$("#dt,#car,#carfixed,#tzsuccess").fadeOut(function(){$(".wzl-nav-dropdown").text("双色球-代购").show(),$(".wzl-cartext").addClass("hidden"),$(".red_balls ,.blue_balls").removeClass("active"),$("#buycarfixedbtn .ball-status-bar").addClass("disabled").html("至少选择6个红球与1个蓝球"),$("#dg, #selectssq,#buycarfixedbtn").fadeIn(),u_type="dg"}),$(".redBalls .ballcon-js-n").randombox(function(n){var number=cp.shuffle({min:1,max:32,padding:1,count:n});red.clear().select(number)}),$(".blueBalls .ballcon-js-n").randombox(function(n){var number=cp.shuffle({min:1,max:16,padding:1,count:n});blue.clear().select(number)}),Y_Y(function(){red.clear(),blue.clear();var number=cp.shuffle({min:1,max:33,padding:1,count:6});red.clear().select(number);var number=cp.shuffle({min:1,max:16,padding:1,count:1});blue.clear().select(number)}),$(".ball-status-bar").unbind().bind("click",function(){var ssq=countSsq();if(ssq!==!1){var count=PlayTypeRule.count(ssq),price=count*CPCONFIG.SSQ.UNIT_PRICE;if(price>CPCONFIG.SSQ.MAX_AMOUNT)return dialog("单注投注不能超过20000元"),!1;ssq.SSQ_ID=++CACHE_ID,SSQ_CAR.push(ssq),red.clear(),blue.clear(),location.href="#!/car"}else dialog("请至少选择<span class='wzl-text-warning'>6</span>个红球与<span class='wzl-text-warning'>1</span>个蓝球")}),$(".glyphicon.icon-trash").unbind().bind("click",function(){red.clear(),blue.clear(),total()})}function ssqdt(){function total(){var count,ssq=countSsq();if(ssq!==!1){count=PlayTypeRule.count(ssq);var price=count*CPCONFIG.SSQ.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("至少选择6个红球与1个蓝球")}function countSsq(){var redDnumber=redD.getSelected(),redTnumber=redT.getSelected(),blueNumber=blue.getSelected(),SSQDTREQUIRE=CPCONFIG.SSQ;if(redDnumber.length>SSQDTREQUIRE.RED_D_MAX)return!1;if(redTnumber.length<SSQDTREQUIRE.RED_T_MIN)return!1;if(!blueNumber.length||redDnumber.length+redTnumber.length<6)return!1;var groups=[{dan:redDnumber,tuo:redTnumber},{dan:null,tuo:blueNumber}];return{code:"ssq_dt",groups:groups}}var redD=cp.numberSelect({min:1,max:32,numberSelectBefore:function(f){var d=redD.getSelected();return redD.isSelected(f)?!0:d.length==CPCONFIG.SSQ.RED_D_MAX?(dialog("胆码不能超过"+CPCONFIG.SSQ.RED_D_MAX+"个"),!1):redT.isSelected(f)?(dialog("已经选择了相同的胆码"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#dt-red-d"}),redT=cp.numberSelect({min:1,max:32,numberSelectBefore:function(f){if(redD.isSelected(f))return dialog("已经选择了相同的胆码"),!1;var d=redT.getSelected();return redT.isSelected(f)?!0:d.length==CPCONFIG.SSQ.RED_T_MAX?(dialog("拖码不能超过"+CPCONFIG.SSQ.RED_T_MAX+"个"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#dt-red-t"}),blue=cp.numberSelect({min:1,max:16,numberSelectAfter:function(){total()},numberUnSelectAfter:function(){},selectStyle:".blue_balls",containerId:"#dt-blue"});$("#dg,#car,#carfixed,#tzsuccess").fadeOut(function(){$(".wzl-nav-dropdown").text("双色球-胆拖").show(),$(".wzl-cartext").addClass("hidden"),$(".red_balls ,.blue_balls").removeClass("active"),$("#buycarfixedbtn .ball-status-bar").addClass("disabled").html("至少选择6个红球与1个蓝球"),$("#dt, #selectssq,#buycarfixedbtn").fadeIn(),u_type="dt"}),$(".ball-status-bar").unbind().bind("click",function(){var ssq=countSsq();if(ssq===!1)return dialog("请至少选择<span class='wzl-text-warning'>6</span>个红球与<span class='wzl-text-warning'>1</span>个蓝球"),!1;var count=PlayTypeRule.count(ssq),price=count*CPCONFIG.SSQ.UNIT_PRICE;return price>CPCONFIG.SSQ.MAX_AMOUNT?(dialog("单注投注不能超过20000元"),!1):(ssq.SSQ_ID=++CACHE_ID,SSQ_CAR.push(ssq),redD.clear(),redT.clear(),blue.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").unbind().bind("click",function(){redD.clear(),redT.clear(),blue.clear(),total()}),Y_Y(function(){total()})}var SSQ_CAR=[],SSQ_BEI=1,SSQ_QI=1,SSQ_ZJ=!1,SSQ_ZJSTOP=!1,SSQ_NOWQI=null,CACHE_ID=0,PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,u_type="dg",routes={"/dt":function(){ssqdt()},"/dg":function(){ssqdg()},"/car":function(){ssqcar()},index:function(){ssqdg()},init:function(){init()}};Router(routes)},dlt=function(){function init(){$.wzlhistory("dlt",function(d){DLT_NOWQI=d.issue}),$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle()}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),action.queryUserInfo({},function(){})}function dltcar(){function renderCar(){if(DLT_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#car").delegate(".ball-select-remove","click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})}),$("#ball-select-group  .ball-select-remove").unbind().bind("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zj,zjstop){DLT_BEI=bei,DLT_QI=qi,DLT_ZJ=zj,DLT_ZJSTOP=zjstop,renderCar()})}function countCar(){function type2Str(t,redOrBlue){var s="",s1="";return"dlt_dt"==t&&(s=DLT_CAR[i].groups[0].dan.join(" ")+"@"+DLT_CAR[i].groups[0].tuo.join(" "),s1=DLT_CAR[i].groups[1].dan.join(" ")+"@"+DLT_CAR[i].groups[1].tuo.join(" ")),"dlt_ds"==t&&(s=DLT_CAR[i].groups[0].tuo.join(" "),s1=DLT_CAR[i].groups[1].tuo.join(" ")),"dlt_fs"==t&&(s=DLT_CAR[i].groups[0].tuo.join(" "),s1=DLT_CAR[i].groups[1].tuo.join(" ")),"r"==redOrBlue?s:s1}function type(t){var r="";switch(t){case"dlt_ds":r="单式投注";break;case"dlt_fs":r="复式投注";break;case"dlt_dt":r="胆拖投注"}return r}function remove(id){for(var j=0;j<DLT_CAR.length;j++)DLT_CAR[j].DLT_ID==id&&DLT_CAR.splice(j,1)}function clear(){DLT_CAR=[],DLT_BEI=1,DLT_QI=1,DLT_ZJ=!1,DLT_ZJSTOP=!1}var total,r=[],car_count=0,car_price=0,UNIT_PRICE=CPCONFIG.DLT.UNIT_PRICE;DLT_ZJ&&(UNIT_PRICE=3);for(var i=0;i<DLT_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(DLT_CAR[i]),ritem.price=ritem.count*UNIT_PRICE,ritem.redStr=type2Str(DLT_CAR[i].code,"r",DLT_CAR[i].groups),ritem.blueStr=type2Str(DLT_CAR[i].code,"b",DLT_CAR[i].groups),ritem.type=type(DLT_CAR[i].code),ritem.code=DLT_CAR[i].code,ritem.id=DLT_CAR[i].DLT_ID,car_count+=ritem.count,car_price+=ritem.price,r.push(ritem)}return total={bei:DLT_BEI,qi:DLT_QI,count:car_count,price:car_price*DLT_QI*DLT_BEI,zjstop:DLT_ZJSTOP,zj:DLT_ZJ},{list:r,count:car_count,price:car_price,remove:remove,clear:clear,total:total}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zj,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOneDLT(){function uniqe(arr){for(var r=[],f=1,n=1;32>=n;n++)r.push(n);arr.sort(function(n1,n2){var s1=parseInt(n1,10),s2=parseInt(n2,10);return s1-s2});for(var i=0;i<arr.length;i++){var s=parseInt(arr[i],10);r.splice(s-f,1)&&f++}return r}var redNumber=cp.shuffle({min:1,max:32,padding:1,count:CPCONFIG.DLT.RED_MIN,sort:!0}),blueNumber=cp.shuffle({min:1,max:12,padding:1,count:CPCONFIG.DLT.BLUE_MIN,sort:!0}),sn=[1,2,3,4],srd=sn.sort(function(){return Math.random()-.5>0}),srt=7,redTNumber=cp.shuffle({min:1,max:32,padding:1,count:srd[0],sort:!0}),dlt=(cp.shuffle({pool:uniqe(redTNumber),min:1,max:32,padding:1,count:srt-srd[0],sort:!0}),cp.shuffle({pool:uniqe(blueNumber),min:1,max:12,padding:2,count:CPCONFIG.DLT.BLUE_MIN,sort:!0}),{code:"dlt_ds",groups:[{dan:null,tuo:redNumber},{dan:null,tuo:blueNumber}]});return dlt.DLT_ID=++CACHE_ID,dlt}function tzsuccess(){$("#car,#selectdlt,#carfixed").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!dltCar)return!1;var need={gameType:"113",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(dltCar.total.price).toFixed(1),need.isStop=dltCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(dltCar.list),need.buyType=dltCar.total.qi>1?1:0,need.title=dltCar.total.qi>1?"大乐透"+DLT_NOWQI+"期追号方案":"大乐透"+DLT_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0,multiple:0,status:0,num:0,lastMatch:0,hbcls:0};if(!item||!item.count)return!1;var rs=item.redStr.split(" ").join(","),bs=item.blueStr.split(" ").join(","),UNIT_PRICE=2;switch(dltCar.total.zj&&(UNIT_PRICE=3),dataTmp.buyNumber=rs+"#"+bs,dataTmp.sum=CPCONFIG.DLT.UNIT_PRICE,dataTmp.num=item.count,dataTmp.multiple=dltCar.total.bei,dltCar.total.zj&&(dataTmp.sum=3,dataTmp.typeId="01"),item.code){case"dlt_ds":dataTmp.seleId="01";break;case"dlt_fs":dataTmp.seleId="02",dataTmp.sum=item.count*UNIT_PRICE;break;case"dlt_dt":dataTmp.seleId="03",dataTmp.sum=item.count*UNIT_PRICE}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function merge(list){var r=[];return $(list).each(function(index,item){r.push({issue:item.issue,multiple:dltCar.total.bei})}),r}var r=[];action.getIssue({lottery:"DLT",issues:dltCar.total.qi||DLT_QI},function(re){r=merge(re),fn(r)})}var dltCar=countCar();if(!dltCar)return null;var d={gameType:"113",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=dltCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.dltTz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectdlt,#dlt-fixed").fadeOut(function(){$(".wzl-nav-dropdown").hide(),$(".wzl-cartext").removeClass("hidden"),$("#car,#carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/dg"}),$("#car-addjx").unbind().bind("click",function(){var dlt=getOneDLT();DLT_CAR.push(dlt),renderCar()}),$(".glyphicon.icon-trash").unbind().bind("click",function(){var s=countCar();s.clear(),renderCar()})}function dltdg(){function total(){var dlt=countDlt(),count=0;if(dlt!==!1){count=PlayTypeRule.count(dlt);var price=count*CPCONFIG.DLT.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("至少选择5个红球与2个蓝球")}function countDlt(){var redNumber=red.getSelected(),blueNumber=blue.getSelected(),DLTREQUIRE=CPCONFIG.DLT,code="";if(redNumber.length<DLTREQUIRE.RED_MIN||blueNumber.length<DLTREQUIRE.BLUE_MIN)return!1;code=redNumber.length==DLTREQUIRE.RED_MIN&&blueNumber.length==DLTREQUIRE.BLUE_MIN?"dlt_ds":"dlt_fs";var groups=[{dan:null,tuo:redNumber},{dan:null,tuo:blueNumber}];return{code:code,groups:groups}}var red=cp.numberSelect({min:1,max:35,numberSelectAfter:function(){total()},numberUnSelectAfter:function(){},selectStyle:".red_balls",containerId:"#dg"}),blue=cp.numberSelect({min:1,max:12,numberSelectAfter:function(){total()},numberUnSelectAfter:function(){},selectStyle:".blue_balls",containerId:"#dg"});$("#dt,#car, #carfixed,#tzsuccess").fadeOut(function(){$(".wzl-nav-dropdown").text("大乐透-代购").show(),$(".wzl-cartext").addClass("hidden"),$(".red_balls ,.blue_balls").removeClass("active"),$(".ball-status-bar").addClass("disabled").html("至少选择5个红球与2个蓝球"),$("#dg, #selectdlt ,#dlt-fixed").fadeIn(),u_type="dg"}),$(".redBalls .ballcon-js-n").randombox(function(n){var number=cp.shuffle({min:1,max:35,count:n});red.clear().select(number)}),$(".blueBalls .ballcon-js-n").randombox(function(n){var number=cp.shuffle({min:1,max:12,count:n});blue.clear().select(number)}),Y_Y(function(){red.clear(),blue.clear();var dnumber=cp.shuffle({min:1,max:35,padding:1,count:5});red.clear().select(dnumber);var btnumber=cp.shuffle({min:1,max:12,padding:1,count:2});blue.clear().select(btnumber)}),$(".ball-status-bar").unbind().bind("click",function(){var dlt=countDlt();if(dlt===!1)return dialog("请至少选择<span class='wzl-text-warning'>5</span>个红球与<span class='wzl-text-warning'>2</span>个蓝球"),!1;var count=PlayTypeRule.count(dlt),price=count*CPCONFIG.DLT.UNIT_PRICE;return price>CPCONFIG.DLT.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.DLT.MAX_AMOUNT+"元"),!1):(dlt.DLT_ID=++CACHE_ID,DLT_CAR.push(dlt),red.clear(),blue.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").unbind().bind("click",function(){red.clear(),blue.clear(),total()})}function dltdt(){function total(){var dltdt=countDLTDT();if(0!=dltdt){var count=PlayTypeRule.count(dltdt),price=count*CPCONFIG.SSQ.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("至少选择6个红球与3个蓝球")}function countDLTDT(){var redDNumber=redD.getSelected(),redTNumber=redT.getSelected(),blueDNumber=blueD.getSelected(),blueTNumber=blueT.getSelected();if(!redDNumber.length||!redTNumber.length||!blueDNumber.length||!blueTNumber.length||blueTNumber.length<2)return!1;if(redDNumber.length+redTNumber.length<playType.groupdef[0].required||blueDNumber.length+blueTNumber.length<playType.groupdef[1].required)return!1;var dlt=[{dan:redDNumber,tuo:redTNumber},{dan:blueDNumber,tuo:blueTNumber}];return{code:"dlt_dt",groups:dlt}}var playType=PlayTypeRule.dlt_dt,redD=cp.numberSelect({min:1,max:35,numberSelectBefore:function(f){var len=redD.getSelected().length;return redT.isSelected(f)?(dialog("已经选择了相同的拖码"),!1):redD.isSelected(f)?!0:len==playType.groupdef[0].dan_max?(dialog("前区胆码不能多于"+playType.groupdef[0].dan_max+"个"),!1):void 0
},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#dt .dlt-front-d"}),redT=cp.numberSelect({min:1,max:35,numberSelectBefore:function(f){var len=redT.getSelected().length;return redD.isSelected(f)?(dialog("已经选择了相同的胆码"),!1):redT.isSelected(f)?!0:len==playType.groupdef[0].tuo_max?(dialog("前区拖码不能多于"+playType.groupdef[0].tuo_max+"个"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#dt .dlt-front-t"}),blueD=cp.numberSelect({min:1,max:12,numberSelectBefore:function(f){var len=blueD.getSelected().length;return blueD.isSelected(f)?!0:blueT.isSelected(f)?(dialog("已经选择了相同的拖码"),!1):len==playType.groupdef[1].dan_max?(dialog("后区胆码不能超过"+playType.groupdef[1].dan_max+"个"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".blue_balls",containerId:"#dt .dlt-back-d"}),blueT=cp.numberSelect({min:1,max:12,numberSelectBefore:function(f){var len=blueT.getSelected().length;return blueT.isSelected(f)?!0:blueD.isSelected(f)?(dialog("已经选择了相同的胆码"),!1):len==playType.groupdef[1].tuo_max?(dialog("后区拖码不能超过"+playType.groupdef[1].tuo_max+"个"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".blue_balls",containerId:"#dt .dlt-back-t"});$("#dg,#car,#carfixed,#tzsuccess").fadeOut(function(){$(".wzl-nav-dropdown").text("大乐透-胆拖").show(),$(".wzl-cartext").addClass("hidden"),$(".red_balls ,.blue_balls").removeClass("active"),$(".ball-status-bar").addClass("disabled").html("至少选择6个红球与3个蓝球"),$("#dt, #selectdlt,#dlt-fixed").fadeIn(),u_type="dt",redD.clear(),redT.clear()}),$(".ball-status-bar").unbind().bind("click",function(){var dlt=countDLTDT();if(dlt===!1)return dialog("请至少从前区选择<span class='wzl-text-warning'>6</span>个红球，后区选择<span class='wzl-text-warning'>3</span>个蓝球"),!1;var count=PlayTypeRule.count(dlt),price=count*CPCONFIG.DLT.UNIT_PRICE;return price>CPCONFIG.DLT.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.DLT.MAX_AMOUNT+"元"),!1):(dlt.DLT_ID=++CACHE_ID,DLT_CAR.push(dlt),redD.clear(),redT.clear(),redD.clear(),blueT.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").unbind().bind("click",function(){redD.clear(),redT.clear(),blueD.clear(),blueT.clear(),total()}),Y_Y(function(){total()})}var DLT_CAR=[],DLT_BEI=1,DLT_QI=1,DLT_ZJ=!1,DLT_ZJSTOP=!1,CACHE_ID=0,DLT_NOWQI=null,PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,u_type="dg",routes=(util(),{"/dt":function(){dltdt()},"/dg":function(){dltdg()},"/car":function(){dltcar()},index:function(){dltdg()},init:function(){init()}});Router(routes)},f3d=function(){function init(){function fomatYl(d){var allArr=d.split(",");for(i=4;13>=i;i++)$("#yla em").eq(i-4).text(allArr[i]);for(i=14;23>=i;i++)$("#ylb em").eq(i-14).text(allArr[i]);for(i=24;33>=i;i++)$("#ylc em").eq(i-24).text(allArr[i])}$.wzlhistory("fc3d",function(d){F3D_NOWQI=d.issue}),$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle()}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),action.queryUserInfo({},function(){}),action.yl("sd",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function publicShow(v,title,fn){$("#carfixed,#f3dcar,#tzsuccess").hide(),$(".red_balls").removeClass("active"),$(".wzl-cartext").addClass("hidden"),$("#selectfc3d,#fc3dplays").show(),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球"),$("#fc3dplays>div,#f3dcar").not("#"+v).hide(function(){$("#"+v+", #buycarfixedbtn").show(),$(".wzl-nav-dropdown").text(title).show(),fn&&fn()})}function fc3dNumberSelect(containerId,total,before){return cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId})}function zxfs(){function total(){var fc3d=countZxfs();if(0!=fc3d){var count=PlayTypeRule.count(fc3d),price=count*CPCONFIG.FC3D.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZxfs(){var baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),type=PlayTypeRule.fc3d_fs,baiRequired=type.groupdef[0].required,shiRequired=type.groupdef[1].required,geRequired=type.groupdef[2].required;if(!(baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;if(baiN.length<baiRequired||shiN.length<shiRequired||geN.length<geRequired)return!1;var fc3dtype;fc3dtype=baiN.length==baiRequired&&shiN.length==shiRequired&&geN.length==geRequired?"fc3d_ds":"fc3d_fs";var groups=[{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:fc3dtype,groups:groups}}publicShow("selectzxfs","福彩3D-直选复式"),u_type="zxfs";var bai=fc3dNumberSelect("#selectzxfs .fc3d-bai",total),shi=fc3dNumberSelect("#selectzxfs .fc3d-shi",total),ge=fc3dNumberSelect("#selectzxfs .fc3d-ge",total);$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var fc3d=countZxfs();if(0!=fc3d){var count=PlayTypeRule.count(dlt),price=count*CPCONFIG.FC3D.UNIT_PRICE;if(price>CPCONFIG.FC3D.MAX_AMOUNT)return dialog("单注投注不能超过"+CPCONFIG.FC3D.MAX_AMOUNT+"元"),!1;fc3d.F3D_ID=++CACHE_ID,F3D_CAR.push(fc3d),bai.clear(),shi.clear(),ge.clear(),location.href="#!/car"}else dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").unbind().bind("click",function(){bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n2=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n2);var n3=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n3)})}function zxhz(){function total(){var fc3d=countZxhz(),count=0;if(0!=fc3d){count=PlayTypeRule.count(fc3d);var price=count*CPCONFIG.FC3D.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZxhz(){var hzN=heizhi.getSelected(),type=PlayTypeRule.fc3d_hz,hzRequired=type.groupdef[0].required;if(!hzN||!hzN.length)return!1;if(hzN.length<hzRequired)return!1;var fc3dtype="fc3d_hz",groups=[{dan:null,tuo:hzN}];return{code:fc3dtype,groups:groups}}publicShow("selectzxhz","福彩3D-直选和值"),u_type="zxhz";var heizhi=cp.numberSelect({min:0,max:27,ispad:!1,numberSelectBefore:function(){heizhi.clear()},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectzxhz .fc3d-hezhi"});$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var fc3d=countZxhz();if(0!=fc3d){var count=PlayTypeRule.count(dlt),price=count*CPCONFIG.FC3D.UNIT_PRICE;if(price>CPCONFIG.FC3D.MAX_AMOUNT)return dialog("单注投注不能超过"+CPCONFIG.FC3D.MAX_AMOUNT+"元"),!1;fc3d.F3D_ID=++CACHE_ID,F3D_CAR.push(fc3d),heizhi.clear(),location.href="#!/car"}else dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").unbind().bind("click",function(){heizhi.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:1,max:27,count:1});heizhi.clear().select(n1)})}function z3fs(){function total(){var fc3d=countZ3fs();if(0!=fc3d){var count=PlayTypeRule.count(fc3d),price=count*CPCONFIG.FC3D.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZ3fs(){var baiN=bai.getSelected(),type=PlayTypeRule.fc3d_z3fs,baiRequired=type.groupdef[0].required;if(!baiN||!baiN.length)return!1;if(baiN.length<baiRequired)return!1;var fc3dtype="fc3d_z3fs",groups=[{dan:null,tuo:baiN}];return{code:fc3dtype,groups:groups}}publicShow("selectz3fs","福彩3D-组三复式"),u_type="z3fs";var bai=fc3dNumberSelect("#selectz3fs .fc3d-bai",total);$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var fc3d=countZ3fs();if(0!=fc3d){var count=PlayTypeRule.count(dlt),price=count*CPCONFIG.FC3D.UNIT_PRICE;if(price>CPCONFIG.FC3D.MAX_AMOUNT)return dialog("单注投注不能超过"+CPCONFIG.FC3D.MAX_AMOUNT+"元"),!1;fc3d.F3D_ID=++CACHE_ID,F3D_CAR.push(fc3d),bai.clear(),location.href="#!/car"}else dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").unbind().bind("click",function(){bai.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:9,count:2});bai.clear().select(n1)})}function z3ds(){function total(){var fc3d=countZ3ds();if(0!=fc3d){var count=PlayTypeRule.count(fc3d),price=count*CPCONFIG.FC3D.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZ3ds(){var chongN=chong.getSelected(),danN=dan.getSelected(),type=PlayTypeRule.fc3d_z3ds,baiRequired=type.groupdef[0].required;if(!(chongN&&chongN.length&&danN&&danN.length))return!1;if(chongN.length<baiRequired||danN.length<baiRequired)return!1;var fc3dtype="fc3d_z3ds",groups=[{dan:chongN.concat(chongN),tuo:danN}];return{code:fc3dtype,groups:groups}}publicShow("selectz3ds","福彩3D-组三单式"),u_type="z3ds";var chong=cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){return dan.isSelected(f)?(dialog("单号和重号不能重复！"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectz3ds .fc3d-bai",multipleSelect:!1}),dan=cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){return chong.isSelected(f)?(dialog("单号和重号不能重复！"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectz3ds .fc3d-shi",multipleSelect:!1});$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var fc3d=countZ3ds();if(0!=fc3d){var count=PlayTypeRule.count(dlt),price=count*CPCONFIG.FC3D.UNIT_PRICE;if(price>CPCONFIG.FC3D.MAX_AMOUNT)return dialog("单注投注不能超过"+CPCONFIG.FC3D.MAX_AMOUNT+"元"),!1;fc3d.F3D_ID=++CACHE_ID,F3D_CAR.push(fc3d),chong.clear(),dan.clear(),location.href="#!/car"}else dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").unbind().bind("click",function(){chong.clear(),dan.clear(),total()}),Y_Y(function(){function uniqe(arr){for(var r=[],f=0,n=0;9>=n;n++)r.push(n);arr.sort(function(n1,n2){var s1=parseInt(n1,10),s2=parseInt(n2,10);return s1-s2});for(var i=0;i<arr.length;i++){var s=parseInt(arr[i],10);r.splice(s-f,1)&&f++}return r}chong.clear(),dan.clear();var n1=cp.shuffle({min:0,max:9,count:1});chong.select(n1);var n2=cp.shuffle({pool:uniqe(n1),min:0,max:9,count:1});dan.select(n2)})}function z6fs(){function total(){var fc3d=countZ6fs();if(0!=fc3d){var count=PlayTypeRule.count(fc3d),price=count*CPCONFIG.FC3D.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZ6fs(){var haoN=hao.getSelected(),type=PlayTypeRule.fc3d_z6fs,baiRequired=type.groupdef[0].required;if(!haoN||!haoN.length)return!1;if(haoN.length<baiRequired)return!1;var fc3dtype="fc3d_z6fs",groups=[{dan:null,tuo:haoN}];return{code:fc3dtype,groups:groups}}publicShow("selectz6fs","福彩3D-组六复式"),u_type="z6fs";var hao=fc3dNumberSelect("#selectz6fs .fc3d-bai",total);$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var fc3d=countZ6fs();if(0!=fc3d){var count=PlayTypeRule.count(dlt),price=count*CPCONFIG.FC3D.UNIT_PRICE;if(price>CPCONFIG.FC3D.MAX_AMOUNT)return dialog("单注投注不能超过"+CPCONFIG.FC3D.MAX_AMOUNT+"元"),!1;fc3d.F3D_ID=++CACHE_ID,F3D_CAR.push(fc3d),hao.clear(),location.href="#!/car"}else dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").unbind().bind("click",function(){hao.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:9,count:3});hao.clear().select(n1)})}function f3dcar(){function renderCar(){if(F3D_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#car").delegate(".ball-select-remove","click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})}),$("#ball-select-group  .ball-select-remove").unbind().bind("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){F3D_BEI=bei,F3D_QI=qi,F3D_ZJSTOP=zjstop,renderCar()})}function countCar(){function strBtype(type,item,notext){var s="",_s="";return("fc3d_fs"==type||"fc3d_ds"==type)&&(s+="百位:"+item.groups[0].tuo.join(" ")+" ",s+="十位:"+item.groups[1].tuo.join(" ")+" ",s+="个位:"+item.groups[2].tuo.join(" ")+" ",_s+=item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")),"fc3d_hz"==type&&(s+=item.groups[0].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")),"fc3d_z3ds"==type&&(s+="重号:"+item.groups[0].dan[0],s+="单号:"+item.groups[0].tuo.join(" "),_s+=item.groups[0].dan.join(" ")+" ",_s+=item.groups[0].tuo.join(" ")),"fc3d_z3fs"==type&&(s+=item.groups[0].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")),"fc3d_z6fs"==type&&(s+=item.groups[0].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")),notext?_s:s}function type(t){var r="";switch(t){case"fc3d_hz":r="直选和值";break;case"fc3d_fs":r="直选复式";break;case"fc3d_ds":r="直选单式";break;case"fc3d_z3ds":r="组三单式";break;case"fc3d_z3fs":r="组三复式";break;case"fc3d_z6fs":r="组六复式"}return r}function remove(id){for(var j=0;j<F3D_CAR.length;j++)F3D_CAR[j].F3D_ID==id&&F3D_CAR.splice(j,1)}function clear(){F3D_CAR=[],F3D_BEI=1,F3D_QI=1,F3D_ZJ=!1,F3D_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<F3D_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(F3D_CAR[i]),ritem.price=ritem.count*CPCONFIG.FC3D.UNIT_PRICE,ritem.type=type(F3D_CAR[i].code),ritem.code=F3D_CAR[i].code,ritem.id=F3D_CAR[i].F3D_ID,car_count+=ritem.count,car_price+=ritem.price,ritem.redStr=strBtype(F3D_CAR[i].code,F3D_CAR[i]),ritem._redStr=strBtype(F3D_CAR[i].code,F3D_CAR[i],!0),r.push(ritem)}return total={bei:F3D_BEI,qi:F3D_QI,count:car_count,price:car_price*F3D_QI*F3D_BEI,zjstop:F3D_ZJSTOP,zj:F3D_ZJ},{list:r,count:car_count,price:car_price,remove:remove,clear:clear,total:total}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOneF3d(){function uniqe(arr){for(var r=[],f=0,n=0;9>=n;n++)r.push(n);arr.sort(function(n1,n2){var s1=parseInt(n1,10),s2=parseInt(n2,10);return s1-s2});for(var i=0;i<arr.length;i++){var s=parseInt(arr[i],10);r.splice(s-f,1)&&f++}return r}function replaceHz(arr){for(var re=[],i=0;i<arr.length;i++)re.push(String(arr[i]));return re}var fc3d,bai=cp.shuffle({min:0,max:9,count:1}),shi=cp.shuffle({min:0,max:9,count:1}),ge=cp.shuffle({min:0,max:9,count:1}),hezhi=cp.shuffle({min:0,max:27,count:1}),z3fs=cp.shuffle({min:0,max:9,count:2}),z3dsc=cp.shuffle({min:0,max:9,count:1}),z3dsd=(uniqe(z3dsc),cp.shuffle({pool:uniqe(z3dsc),min:0,max:9,count:1})),z6fs=cp.shuffle({min:0,max:9,count:3});switch(u_type){case"zxfs":fc3d={code:"fc3d_ds",groups:[{dan:null,tuo:bai},{dan:null,tuo:shi},{dan:null,tuo:ge}]};break;case"zxhz":fc3d={code:"fc3d_hz",groups:[{dan:null,tuo:replaceHz(hezhi)}]};break;case"z3ds":fc3d={code:"fc3d_z3ds",groups:[{dan:z3dsc.concat(z3dsc),tuo:z3dsd}]};break;case"z3fs":fc3d={code:"fc3d_z3fs",groups:[{dan:null,tuo:z3fs}]};break;case"z6fs":fc3d={code:"fc3d_z6fs",groups:[{dan:null,tuo:z6fs}]}}return fc3d.F3D_ID=++CACHE_ID,fc3d}function tzsuccess(){$("#car,#selectfc3d,#f3dcar,#carfixed,#buycarfixedbtn").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!f3dCar)return!1;var need={gameType:"002",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(f3dCar.total.price),need.isStop=f3dCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(f3dCar.list),need.buyType=f3dCar.total.qi>1?1:0,need.title=f3dCar.total.qi>1?"福彩3d"+F3D_NOWQI+"期追号方案":"福彩3d"+F3D_NOWQI+"期追号方案",need}function countZ3fs(arr1){for(var re=[],len=arr1.length,k=0;len-1>k;k++)for(var l=k+1;len>l;l++)arr1[k]<arr1[l]?(re.push({_redStr:arr1[k]+" "+arr1[k]+" "+arr1[l],code:"fc3d_z3ds",count:1,price:2,type:"组三单式"}),re.push({_redStr:arr1[k]+" "+arr1[l]+" "+arr1[l],code:"fc3d_z3ds",count:1,price:2,type:"组三单式"})):(re.push({_redStr:arr1[l]+","+arr1[k]+","+arr1[k],code:"fc3d_z3ds",count:1,price:2,type:"组三单式"}),re.push({_redStr:arr1[l]+","+arr1[l]+","+arr1[k],code:"fc3d_z3ds",count:1,price:2,type:"组三单式"}));return re}function countZ6fs(arr1){function sortA(arr){return arr.sort(function(a,b){return a-b})}for(var re=[],len=arr1.length,j=0;len-2>j;j++)for(var k=j+1;len-1>k;k++)for(var l=k+1;len>l;l++){var arr2=[];arr2.push(arr1[j]),arr2.push(arr1[k]),arr2.push(arr1[l]),arr2=sortA(arr2),re.push({_redStr:arr2[0]+" "+arr2[1]+" "+arr2[2],code:"fc3d_z6ds",count:1,price:2,type:"组六"})}return re}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0,multiple:0,status:0,num:0,lastMatch:0,hbcls:0};if(!item||!item.count)return!1;var rs=item._redStr.split(" ").join(",");switch(dataTmp.buyNumber=rs,dataTmp.sum=CPCONFIG.FC3D.UNIT_PRICE,dataTmp.num=item.count,dataTmp.multiple=f3dCar.total.bei,item.code){case"fc3d_fs":dataTmp.typeId="01",dataTmp.seleId="02",dataTmp.sum=item.price,dataTmp.buyNumber=item._redStr;break;case"fc3d_ds":dataTmp.typeId="01",dataTmp.seleId="01";break;case"fc3d_hz":dataTmp.typeId="01",dataTmp.seleId="04",dataTmp.sum=item.price;break;case"fc3d_z3ds":dataTmp.typeId="02",dataTmp.seleId="01";break;case"fc3d_z3fs":dataTmp.typeId="02",dataTmp.seleId="02";break;case"fc3d_z6ds":dataTmp.typeId="03",dataTmp.seleId="01";break;case"fc3d_z6fs":dataTmp.typeId="03",dataTmp.seleId="02"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it;if("fc3d_z3fs"==item.code){var zxfsArr=countZ3fs(item.redStr.split(" "));$(zxfsArr).each(function(index,item2){r.push(join(item2))})}else if("fc3d_z6fs"==item.code){var z6fsArr=countZ6fs(item.redStr.split(" "));$(z6fsArr).each(function(index,item2){r.push(join(item2))})}else it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function merge(list){var r=[];return $(list).each(function(index,item){r.push({issue:item.issue,multiple:f3dCar.total.bei})}),r}var r=[];action.getIssue({lottery:"FC3D",issues:f3dCar.total.qi||F3D_QI},function(re){r=merge(re),fn(r)})}var f3dCar=countCar();if(!f3dCar)return null;var d={gameType:"002",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=f3dCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.ssqTz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectfc3d").fadeOut(function(){$(".wzl-nav-dropdown").hide(),$(".wzl-cartext").removeClass("hidden"),$("#f3dcar,#carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/zxfs"}),$("#car-addjx").unbind().bind("click",function(){var fc3d=getOneF3d();F3D_CAR.push(fc3d),renderCar()}),$(".glyphicon.icon-trash").unbind().bind("click",function(){var s=countCar();s.clear(),renderCar()})}var F3D_CAR=[],F3D_BEI=1,F3D_QI=1,F3D_ZJ=!1,F3D_ZJSTOP=!1,F3D_NOWQI=null,CACHE_ID=0,u_type="zxfs",PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,routes=(util(),{"/zxfs":function(){zxfs()},"/zxhz":function(){zxhz()},"/z3fs":function(){z3fs()},"/z3ds":function(){z3ds()},"/z6fs":function(){z6fs()},"/car":function(){f3dcar()},index:function(){zxfs()},init:function(){init()}});Router(routes)},ssc=function(){function init(){function kjdjs(){function issue(){function setIssue(d){function setCountDown(s){timer=setInterval(function(){s--,120>=s&&($(".history-bar").html("该其次已经截止,下一期预售中。"),issue());var v=formatSeconds(s-120);$(".history-bar .history-bar-dropdown").html(v)},1e3)}function formatSeconds(value){function pad(n){return 10>n?"0"+n:n}var theTime=parseInt(value),theTime1=0,theTime2=0;theTime>60&&(theTime1=parseInt(theTime/60),theTime=parseInt(theTime%60),theTime1>60&&(theTime2=parseInt(theTime1/60),theTime1=parseInt(theTime1%60)));var result="<span class='redballs'>"+pad(parseInt(theTime))+"</span>秒";return theTime1>0&&(result="<span class='redballs'>"+pad(parseInt(theTime1))+"</span>分"+result),theTime2>0&&(result="<span class='redballs'>"+pad(parseInt(theTime2))+"</span>时"+result),result}SSC_NOWQI=d.issue,setCountDown(d.endTime),$(".history-bar").html(" <span>第"+d.issue+"期销售中</span><div class='pull-right history-bar-dropdown icon-dropdown-gray'> <span class='redballs'>00</span>时<span class='redballs'>00</span>分<span class='redballs'>00</span>秒</div>")}clearInterval(timer),action.getIssue({lottery:"JXSSC",issues:25},function(re){issueA=re,re[0].endTime<=120&&(re=re.slice(1)),setIssue(re[0])})}var issueA=[],timer=null;issue()}function fomatYl(d){var allArr=d.split(",");for(i=6;15>=i;i++)$(".yla em").eq(i-6).text(allArr[i]),$(".yla2 em").eq(i-6).text(allArr[i]),$(".yla3 em").eq(i-6).text(allArr[i]),$(".yla4 em").eq(i-6).text(allArr[i]),$(".yla5 em").eq(i-6).text(allArr[i]);for(i=16;25>=i;i++)$(".ylb em").eq(i-16).text(allArr[i]),$(".ylb2 em").eq(i-16).text(allArr[i]),$(".ylb3 em").eq(i-16).text(allArr[i]),$(".ylb4 em").eq(i-16).text(allArr[i]);for(i=26;35>=i;i++)$(".ylc em").eq(i-26).text(allArr[i]),$(".ylc2 em").eq(i-26).text(allArr[i]),$(".ylc3 em").eq(i-26).text(allArr[i]);for(i=36;45>=i;i++)$(".yld em").eq(i-36).text(allArr[i]),$(".yld2 em").eq(i-36).text(allArr[i]);for(i=46;55>=i;i++)$(".yle em").eq(i-46).text(allArr[i])}kjdjs(),$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle()}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),action.queryUserInfo({},function(){}),action.queryJxssc({pageno:1,pagesize:10},function(d){function fomatIssue2(d,name){for(var arr=[],i=0;i<d.length;i++){var obj={};obj.issue=d[i].lotIssue,obj.ball=d[i].kjCode,arr.push(obj)}var myTemplate=Handlebars.compile($("#history-template").html());$("#"+name).append(myTemplate({data:arr})),$(".history-bar").undelegate(),$(".history-bar").delegate(".history-bar-dropdown","click",function(){var $this=$(this);$(".history-list").slideToggle(function(){$(".history-bar-dropdown").hasClass("icon-dropdown-gray")?$this.addClass("icon-dropup-gray").removeClass("icon-dropdown-gray"):$this.removeClass("icon-dropup-gray").addClass("icon-dropdown-gray")})})}fomatIssue2(d.lotolist,"ssc-history")}),action.yl("ssc",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function publicShow(v,title,fn){$("#carfixed,#ssccar,#tzsuccess").hide(),$("#selectssc,#sscplays").show(),$(".wzl-cartext").addClass("hidden"),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码"),$("#sscplays>div").not("#"+v).hide(function(){$("#"+v+", #buycarfixedbtn").show(),$(".wzl-nav-dropdown").text(title).show(),fn&&fn()})}function sscNumberSelect(containerId,total,before,multipleSelect){return cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId,multipleSelect:!multipleSelect})}function sscSelect(ssc){if(ssc!==!1){var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码")}function sscAdd2Car(fn){$("#buycarfixedbtn a.ball-status-bar").unbind().bind("click",function(){fn&&fn(),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")})}function yxzx(){function total(){var yx=countYx();sscSelect(yx,function(){})}function countYx(){var yxN=yx.getSelected();if(!yxN||!yxN.length)return!1;var groups=[{dan:null,tuo:yxN}];return{code:"ssc_yxzx",groups:groups}}publicShow("selectyxzx","江西时时彩-一星直选"),u_type="yxzx";var yx=sscNumberSelect("#selectyxzx .ballcon",total,function(){},!0);sscAdd2Car(function(){var ssc=countYx();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),yx.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){yx.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:9,count:1});yx.clear().select(n1)})}function rx1(){publicShow("selectrx1","江西时时彩-任选一")}function rx2(){publicShow("selectrx2","江西时时彩-任选二")}function exzx(){function total(){var ex=countEx();sscSelect(ex)}function countEx(){var shiN=shi.getSelected(),geN=ge.getSelected();if(!(shiN&&shiN.length&&geN&&geN.length))return!1;var ssctype="ssc_exfx";1==shiN.length&&1==geN.length&&(ssctype="ssc_exzx");var groups=[{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:ssctype,groups:groups}}publicShow("selectexzx","江西时时彩-二星直选"),u_type="exzx";var shi=sscNumberSelect("#selectexzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectexzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=countEx();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){shi.clear(),ge.clear(),total()}),Y_Y(function(){shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function exfx(){publicShow("selectexfx","江西时时彩-二星复选")}function exhz(){publicShow("selectexhz","江西时时彩-二星和值")}function sanxzx(){function total(){var ex=countSx();sscSelect(ex)}function countSx(){var baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_3xds;if(!(baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_3xfs";baiN.length==dsType.groupdef[0].required&&shiN.length==dsType.groupdef[1].required&&geN.length==dsType.groupdef[2].required&&(type="ssc_3xds");var groups=[{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectsanxzx","江西时时彩-三星直选"),u_type="3xzx";var bai=sscNumberSelect("#selectsanxzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectsanxzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectsanxzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=countSx();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),bai.clear(),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function sanxfx(){publicShow("selectsanxfx","江西时时彩-三星复选")}function zsdx(){publicShow("selectzsdx","江西时时彩-组三单选")}function zsfx(){publicShow("selectzsfx","江西时时彩-组三复选")}function wxzx(){function total(){var ex=count5x();sscSelect(ex)}function count5x(){var wanN=wan.getSelected(),qianN=qian.getSelected(),baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_5xds;if(!(wanN&&wanN.length&&qianN&&qianN.length&&baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_5xfs";wanN.length==dsType.groupdef[0].required&&qianN.length==dsType.groupdef[1].required&&baiN.length==dsType.groupdef[2].required&&shiN.length==dsType.groupdef[3].required&&geN.length==dsType.groupdef[4].required&&(type="ssc_5xds");var groups=[{dan:null,tuo:wanN},{dan:null,tuo:qianN},{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectwxzx","江西时时彩-五星直选"),u_type="wxzx";var wan=sscNumberSelect("#selectwxzx .ssc-wan",total,function(){}),qian=sscNumberSelect("#selectwxzx .ssc-qian",total,function(){}),bai=sscNumberSelect("#selectwxzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectwxzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectwxzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=count5x();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});wan.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qian.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function wxfx(){publicShow("selectwxfx","江西时时彩-五星复选")}function wxnx(){publicShow("selectwxnx","江西时时彩-五星通选")}function sixzx(){function total(){var ex=count4x();sscSelect(ex)}function count4x(){var qianN=qian.getSelected(),baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_4xds;
if(!(qianN&&qianN.length&&baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_4xfs";qianN.length==dsType.groupdef[0].required&&baiN.length==dsType.groupdef[1].required&&shiN.length==dsType.groupdef[2].required&&geN.length==dsType.groupdef[3].required&&(type="ssc_4xds");var groups=[{dan:null,tuo:qianN},{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectsixzx","江西时时彩-四星直选"),u_type="4xzx";var qian=sscNumberSelect("#selectsixzx .ssc-qian",total,function(){}),bai=sscNumberSelect("#selectsixzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectsixzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectsixzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=count4x();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;return price>CPCONFIG.JXSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.JXSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),qian.clear(),bai.clear(),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){qian.clear(),bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){qian.clear(),bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});qian.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function sixfx(){publicShow("selectsixfx","江西时时彩-四星复选")}function ssccar(){function renderCar(){if(SSC_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssccar").delegate(".ball-select-remove","click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){SSC_BEI=bei,SSC_QI=qi,SSC_ZJSTOP=zjstop,renderCar()})}function countCar(){function strBtype(type,item,notext){var s="",_s="";return"ssc_yxzx"==type&&(s+=item.groups[0].tuo.join(" "),_s+="_,_,_,_,"+item.groups[0].tuo.join(" ")),("ssc_exzx"==type||"ssc_exfx"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" "),_s+="_,_,_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")),("ssc_3xds"==type||"ssc_3xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" "),_s+="_,_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")),("ssc_4xds"==type||"ssc_4xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" ")+" ",s+=item.groups[3].tuo.join(" "),_s+="_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")),("ssc_5xds"==type||"ssc_5xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" ")+" ",s+=item.groups[3].tuo.join(" ")+" ",s+=item.groups[4].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")+",",_s+=item.groups[4].tuo.join(" ")),notext?_s:s}function type(t){var r="";switch(t){case"ssc_yxzx":r="一星直选";break;case"ssc_exzx":r="二星直选";break;case"ssc_exfx":r="二星复选";break;case"ssc_3xds":r="三星单式";break;case"ssc_3xfs":r="三星复式";break;case"ssc_4xds":r="四星单式";break;case"ssc_4xfs":r="四星复式";break;case"ssc_5xds":r="五星单式";break;case"ssc_5xfs":r="五星复式"}return r}function remove(id){for(var j=0;j<SSC_CAR.length;j++)SSC_CAR[j].SSC_ID==id&&SSC_CAR.splice(j,1)}function clear(){SSC_CAR=[],SSC_BEI=1,SSC_QI=1,SSC_ZJ=!1,SSC_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<SSC_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(SSC_CAR[i]),ritem.price=ritem.count*CPCONFIG.JXSSC.UNIT_PRICE,ritem.type=type(SSC_CAR[i].code),ritem.code=SSC_CAR[i].code,ritem.id=SSC_CAR[i].SSC_ID,car_count+=ritem.count,car_price+=ritem.price,ritem.redStr=strBtype(SSC_CAR[i].code,SSC_CAR[i]),ritem._redStr=strBtype(SSC_CAR[i].code,SSC_CAR[i],!0),r.push(ritem)}return total={bei:SSC_BEI,qi:SSC_QI,count:car_count,price:car_price*SSC_QI*SSC_BEI,zjstop:SSC_ZJSTOP,zj:SSC_ZJ},{list:r,count:car_count,price:car_price,clear:clear,remove:remove,total:total}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOneSSC(){var wan=cp.shuffle({min:0,max:9,count:1}),qian=cp.shuffle({min:0,max:9,count:1}),bai=cp.shuffle({min:0,max:9,count:1}),shi=cp.shuffle({min:0,max:9,count:1}),ge=cp.shuffle({min:0,max:9,padding:!1,count:1}),ssc={code:"ssc_yxzx",groups:[{dan:null,tuo:ge}]};switch(u_type){case"yxzx":ssc={code:"ssc_yxzx",groups:[{dan:null,tuo:ge}]};break;case"exzx":ssc={code:"ssc_exzx",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi}]};break;case"3xzx":ssc={code:"ssc_3xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai}]};break;case"4xzx":ssc={code:"ssc_4xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian}]};break;case"wxzx":ssc={code:"ssc_5xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian},{dan:null,tuo:wan}]}}return ssc.SSC_ID=++CACHE_ID,ssc}function tzsuccess(){$("#car,#selectssc,#carfixed,#ssccar,#buycarfixedbtn").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!sscCar)return!1;var need={gameType:"006",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(sscCar.total.price),need.isStop=sscCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(sscCar.list),need.buyType=sscCar.total.qi>1?1:0,need.title=sscCar.total.qi>1?"时时彩"+SSC_NOWQI+"期追号方案":"时时彩"+SSC_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0,multiple:0,status:0,num:0,lastMatch:0,hbcls:0};if(!item||!item.count)return!1;var rs=item._redStr;switch(dataTmp.buyNumber=rs,dataTmp.sum=item.price,dataTmp.num=item.count,dataTmp.multiple=sscCar.total.bei,item.code){case"ssc_yxzx":dataTmp.typeId="01",dataTmp.seleId="01";break;case"ssc_exzx":dataTmp.typeId="02",dataTmp.seleId="01";break;case"ssc_exfx":dataTmp.typeId="02",dataTmp.seleId="02";break;case"ssc_3xds":dataTmp.typeId="03",dataTmp.seleId="01";break;case"ssc_3xfs":dataTmp.typeId="03",dataTmp.seleId="02";break;case"ssc_4xds":dataTmp.typeId="04",dataTmp.seleId="01";break;case"ssc_4xfs":dataTmp.typeId="04",dataTmp.seleId="02";break;case"ssc_5xds":dataTmp.typeId="05",dataTmp.seleId="01";break;case"ssc_5xfs":dataTmp.typeId="05",dataTmp.seleId="02"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function getRightIssue(now,r,len){for(var n=0,re=[],i=0;i<r.length;i++)if(r[i].issue==now){n=i;for(var j=0;len>j;j++)re.push(r[n+j])}return re}function merge(list){var r=[];return $(list).each(function(index,item){r.push({issue:item.issue,multiple:sscCar.total.bei})}),r}var r=[];action.getIssue({lottery:"JXSSC",issues:sscCar.total.qi+1||SSC_QI+1},function(re){var rr=getRightIssue(SSC_NOWQI,re,sscCar.total.qi||SSC_QI);r=merge(rr),fn(r)})}var sscCar=countCar();if(!sscCar)return null;var d={gameType:"006",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=sscCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.pl3Tz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectssc").fadeOut(function(){$(".wzl-cartext").removeClass("hidden"),$(".wzl-nav-dropdown").hide(),$("#ssccar, #carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/yxzx"}),$("#car-addjx").unbind().bind("click",function(){var ssc=getOneSSC();SSC_CAR.push(ssc),renderCar()}),$(".glyphicon.icon-trash").on("click",function(){var s=countCar();s.clear(),renderCar()})}var SSC_CAR=[],SSC_BEI=1,SSC_QI=1,SSC_ZJ=!1,SSC_ZJSTOP=!1,SSC_NOWQI=null,CACHE_ID=0,u_type="yxzx",PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,routes=(util(),{"/yxzx":function(){yxzx()},"/rx1":function(){rx1()},"/rx2":function(){rx2()},"/exzx":function(){exzx()},"/exfx":function(){exfx()},"/exhz":function(){exhz()},"/sanxzx":function(){sanxzx()},"/sanxfx":function(){sanxfx()},"/zsdx":function(){zsdx()},"/zsfx":function(){zsfx()},"/wxzx":function(){wxzx()},"/wxfx":function(){wxfx()},"/wxnx":function(){wxnx()},"/sixzx":function(){sixzx()},"/sixfx":function(){sixfx()},"/car":function(){ssccar()},index:function(){yxzx()},init:function(){init()}});Router(routes)},cqssc=function(){function init(){function kjdjs(){function issue(){function setIssue(d){function setCountDown(s){timer=setInterval(function(){s--,90>=s&&($(".history-bar").html("该其次已经截止,下一期预售中。"),issue());var v=formatSeconds(s-90);$(".history-bar .history-bar-dropdown").html(v)},1e3)}function formatSeconds(value){function pad(n){return 10>n?"0"+n:n}var theTime=parseInt(value),theTime1=0,theTime2=0;theTime>60&&(theTime1=parseInt(theTime/60),theTime=parseInt(theTime%60),theTime1>60&&(theTime2=parseInt(theTime1/60),theTime1=parseInt(theTime1%60)));var result="<span class='redballs'>"+pad(parseInt(theTime))+"</span>秒";return theTime1>0&&(result="<span class='redballs'>"+pad(parseInt(theTime1))+"</span>分"+result),theTime2>0&&(result="<span class='redballs'>"+pad(parseInt(theTime2))+"</span>时"+result),result}SSC_NOWQI=d.issue,setCountDown(d.endTime),$(".history-bar").html(" <span>第"+d.issue+"期销售中</span><div class='pull-right history-bar-dropdown icon-dropdown-gray'> <span class='redballs'>00</span>时<span class='redballs'>00</span>分<span class='redballs'>00</span>秒</div>")}clearInterval(timer),action.getIssue({lottery:"CQSSC",issues:25},function(re){issueA=re,re[0].endTime<=90&&(re=re.slice(1)),setIssue(re[0])})}var issueA=[],timer=null;issue()}function fomatYl(d){var allArr=d.split(",");for(i=6;15>=i;i++)$(".yla em").eq(i-6).text(allArr[i]),$(".yla2 em").eq(i-6).text(allArr[i]),$(".yla3 em").eq(i-6).text(allArr[i]),$(".yla4 em").eq(i-6).text(allArr[i]),$(".yla5 em").eq(i-6).text(allArr[i]);for(i=16;25>=i;i++)$(".ylb em").eq(i-16).text(allArr[i]),$(".ylb2 em").eq(i-16).text(allArr[i]),$(".ylb3 em").eq(i-16).text(allArr[i]),$(".ylb4 em").eq(i-16).text(allArr[i]);for(i=26;35>=i;i++)$(".ylc em").eq(i-26).text(allArr[i]),$(".ylc2 em").eq(i-26).text(allArr[i]),$(".ylc3 em").eq(i-26).text(allArr[i]);for(i=36;45>=i;i++)$(".yld em").eq(i-36).text(allArr[i]),$(".yld2 em").eq(i-36).text(allArr[i]);for(i=46;55>=i;i++)$(".yle em").eq(i-46).text(allArr[i])}kjdjs(),$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle()}),$.wzlmore(function(){}),action.queryUserInfo({},function(){}),action.queryCqssc({pageno:1,pagesize:10},function(d){function fomatIssue2(d,name){for(var arr=[],i=0;i<d.length;i++){var obj={};obj.issue=d[i].lotIssue,obj.ball=d[i].kjCode,arr.push(obj)}var myTemplate=Handlebars.compile($("#history-template").html());$("#"+name).append(myTemplate({data:arr})),$(".history-bar").undelegate(),$(".history-bar").delegate(".history-bar-dropdown","click",function(){var $this=$(this);$(".history-list").slideToggle(function(){$(".history-bar-dropdown").hasClass("icon-dropdown-gray")?$this.addClass("icon-dropup-gray").removeClass("icon-dropdown-gray"):$this.removeClass("icon-dropup-gray").addClass("icon-dropdown-gray")})})}fomatIssue2(d.lotolist,"cqssc-history")}),action.yl("cqssc",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function publicShow(v,title,fn){$("#carfixed,#ssccar,#tzsuccess").hide(),$("#selectssc,#sscplays").show(),$(".wzl-cartext").addClass("hidden"),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码"),$("#sscplays>div").not("#"+v).hide(function(){$("#"+v+", #buycarfixedbtn").show(),$(".wzl-nav-dropdown").text(title).show(),fn&&fn()})}function sscNumberSelect(containerId,total,before,multipleSelect){return cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId,multipleSelect:!multipleSelect})}function sscSelect(ssc){if(ssc!==!1){var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.JXSSC.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码")}function sscAdd2Car(fn){$("#buycarfixedbtn a.ball-status-bar").unbind().bind("click",function(){fn&&fn(),$(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")})}function yxzx(){function total(){var yx=countYx();sscSelect(yx,function(){})}function countYx(){var yxN=yx.getSelected();if(!yxN||!yxN.length)return!1;var groups=[{dan:null,tuo:yxN}];return{code:"ssc_yxzx",groups:groups}}publicShow("selectyxzx","重庆时时彩-一星直选"),u_type="yxzx";var yx=sscNumberSelect("#selectyxzx .ballcon",total,function(){},!0);sscAdd2Car(function(){var ssc=countYx();return ssc===!1?(dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),yx.clear(),location.href="#!/car",void 0)}),$(".glyphicon.icon-trash").on("click",function(){yx.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:9,count:1});yx.clear().select(n1)})}function rx1(){publicShow("selectrx1","重庆时时彩-任选一")}function rx2(){publicShow("selectrx2","重庆时时彩-任选二")}function exzx(){function total(){var ex=countEx();sscSelect(ex)}function countEx(){var shiN=shi.getSelected(),geN=ge.getSelected();if(!(shiN&&shiN.length&&geN&&geN.length))return!1;var ssctype="ssc_exfx";1==shiN.length&&1==geN.length&&(ssctype="ssc_exzx");var groups=[{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:ssctype,groups:groups}}publicShow("selectexzx","重庆时时彩-二星直选"),u_type="exzx";var shi=sscNumberSelect("#selectexzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectexzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=countEx();return ssc===!1?(dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),shi.clear(),ge.clear(),location.href="#!/car",void 0)}),$(".glyphicon.icon-trash").on("click",function(){shi.clear(),ge.clear(),total()}),Y_Y(function(){shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function exfx(){publicShow("selectexfx","重庆时时彩-二星复选")}function exhz(){publicShow("selectexhz","重庆时时彩-二星和值")}function sanxzx(){function total(){var ex=countSx();sscSelect(ex)}function countSx(){var baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_3xds;if(!(baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_3xfs";baiN.length==dsType.groupdef[0].required&&shiN.length==dsType.groupdef[1].required&&geN.length==dsType.groupdef[2].required&&(type="ssc_3xds");var groups=[{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectsanxzx","重庆时时彩-三星直选"),u_type="3xzx";var bai=sscNumberSelect("#selectsanxzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectsanxzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectsanxzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=countSx();return ssc===!1?(dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),bai.clear(),shi.clear(),ge.clear(),location.href="#!/car",void 0)}),$(".glyphicon.icon-trash").on("click",function(){bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function sanxfx(){publicShow("selectsanxfx","重庆时时彩-三星复选")}function zsdx(){publicShow("selectzsdx","重庆时时彩-组三单选")}function zsfx(){publicShow("selectzsfx","重庆时时彩-组三复选")}function wxzx(){function total(){var ex=count5x();sscSelect(ex)}function count5x(){var wanN=wan.getSelected(),qianN=qian.getSelected(),baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.ssc_5xds;if(!(wanN&&wanN.length&&qianN&&qianN.length&&baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="ssc_5xfs";wanN.length==dsType.groupdef[0].required&&qianN.length==dsType.groupdef[1].required&&baiN.length==dsType.groupdef[2].required&&shiN.length==dsType.groupdef[3].required&&geN.length==dsType.groupdef[4].required&&(type="ssc_5xds");var groups=[{dan:null,tuo:wanN},{dan:null,tuo:qianN},{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}publicShow("selectwxzx","重庆时时彩-五星直选"),u_type="wxzx";var wan=sscNumberSelect("#selectwxzx .ssc-wan",total,function(){}),qian=sscNumberSelect("#selectwxzx .ssc-qian",total,function(){}),bai=sscNumberSelect("#selectwxzx .ssc-bai",total,function(){}),shi=sscNumberSelect("#selectwxzx .ssc-shi",total,function(){}),ge=sscNumberSelect("#selectwxzx .ssc-ge",total,function(){});sscAdd2Car(function(){var ssc=count5x();if(ssc===!1)return dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码球"),!1;var count=PlayTypeRule.count(ssc),price=count*CPCONFIG.CQSSC.UNIT_PRICE;return price>CPCONFIG.CQSSC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.CQSSC.MAX_AMOUNT+"元"),!1):(ssc.SSC_ID=++CACHE_ID,SSC_CAR.push(ssc),wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),void(location.href="#!/car"))}),$(".glyphicon.icon-trash").on("click",function(){wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){qian.clear(),bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});wan.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qian.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function wxfx(){publicShow("selectwxfx","重庆时时彩-五星复选")}function wxnx(){publicShow("selectwxnx","重庆时时彩-五星通选")}function ssccar(){function renderCar(){if(SSC_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssccar .ball-select-remove").unbind().bind("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){SSC_BEI=bei,SSC_QI=qi,SSC_ZJSTOP=zjstop,renderCar()})}function countCar(){function strBtype(type,item,notext){var s="",_s="";return"ssc_yxzx"==type&&(s+=item.groups[0].tuo.join(" "),_s+="_,_,_,_,"+item.groups[0].tuo.join(" ")),("ssc_exzx"==type||"ssc_exfx"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" "),_s+="_,_,_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")),("ssc_3xds"==type||"ssc_3xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" "),_s+="_,_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")),("ssc_4xds"==type||"ssc_4xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" ")+" ",s+=item.groups[3].tuo.join(" "),_s+="_,"+item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")),("ssc_5xds"==type||"ssc_5xfs"==type)&&(s+=item.groups[0].tuo.join(" ")+" ",s+=item.groups[1].tuo.join(" ")+" ",s+=item.groups[2].tuo.join(" ")+" ",s+=item.groups[3].tuo.join(" ")+" ",s+=item.groups[4].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")+",",_s+=item.groups[4].tuo.join(" ")),notext?_s:s}function type(t){var r="";switch(t){case"ssc_yxzx":r="一星直选";break;case"ssc_exzx":r="二星直选";break;case"ssc_exfx":r="二星复选";break;case"ssc_3xds":r="三星单式";break;case"ssc_3xfs":r="三星复式";break;case"ssc_4xds":r="四星单式";break;case"ssc_4xfs":r="四星复式";break;case"ssc_5xds":r="五星单式";break;case"ssc_5xfs":r="五星复式"}return r}function remove(id){for(var j=0;j<SSC_CAR.length;j++)SSC_CAR[j].SSC_ID==id&&SSC_CAR.splice(j,1)}function clear(){SSC_CAR=[],SSC_BEI=1,SSC_QI=1,SSC_ZJ=!1,SSC_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<SSC_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(SSC_CAR[i]),ritem.price=ritem.count*CPCONFIG.JXSSC.UNIT_PRICE,ritem.type=type(SSC_CAR[i].code),ritem.code=SSC_CAR[i].code,ritem.id=SSC_CAR[i].SSC_ID,car_count+=ritem.count,car_price+=ritem.price,ritem.redStr=strBtype(SSC_CAR[i].code,SSC_CAR[i]),ritem._redStr=strBtype(SSC_CAR[i].code,SSC_CAR[i],!0),r.push(ritem)}return total={bei:SSC_BEI,qi:SSC_QI,count:car_count,price:car_price*SSC_QI*SSC_BEI,zjstop:SSC_ZJSTOP,zj:SSC_ZJ},{list:r,count:car_count,price:car_price,clear:clear,remove:remove,total:total}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOneSSC(){var wan=cp.shuffle({min:0,max:9,count:1}),qian=cp.shuffle({min:0,max:9,count:1}),bai=cp.shuffle({min:0,max:9,count:1}),shi=cp.shuffle({min:0,max:9,count:1}),ge=cp.shuffle({min:0,max:9,padding:!1,count:1}),ssc={code:"ssc_yxzx",groups:[{dan:null,tuo:ge}]};switch(u_type){case"yxzx":ssc={code:"ssc_yxzx",groups:[{dan:null,tuo:ge}]};break;case"exzx":ssc={code:"ssc_exzx",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi}]};break;case"3xzx":ssc={code:"ssc_3xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai}]};break;case"4xzx":ssc={code:"ssc_4xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian}]};break;case"wxzx":ssc={code:"ssc_5xds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian},{dan:null,tuo:wan}]}}return ssc.SSC_ID=++CACHE_ID,ssc}function tzsuccess(){$("#car,#selectssc,#carfixed,#ssccar,#buycarfixedbtn").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!sscCar)return!1;var need={gameType:"018",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(sscCar.total.price),need.isStop=sscCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(sscCar.list),need.buyType=sscCar.total.qi>1?1:0,need.title=sscCar.total.qi>1?"重庆时时彩"+SSC_NOWQI+"期追号方案":"重庆时时彩"+SSC_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0,multiple:0,status:0,num:0,lastMatch:0,hbcls:0};if(!item||!item.count)return!1;var rs=item._redStr;switch(dataTmp.buyNumber=rs,dataTmp.sum=item.price,dataTmp.num=item.count,dataTmp.multiple=sscCar.total.bei,item.code){case"ssc_yxzx":dataTmp.typeId="01",dataTmp.seleId="01";break;case"ssc_exzx":dataTmp.typeId="02",dataTmp.seleId="01";break;case"ssc_exfx":dataTmp.typeId="02",dataTmp.seleId="02";break;case"ssc_3xds":dataTmp.typeId="03",dataTmp.seleId="01";break;case"ssc_3xfs":dataTmp.typeId="03",dataTmp.seleId="02";break;case"ssc_4xds":dataTmp.typeId="04",dataTmp.seleId="01";break;case"ssc_4xfs":dataTmp.typeId="04",dataTmp.seleId="02";break;case"ssc_5xds":dataTmp.typeId="05",dataTmp.seleId="02";break;case"ssc_5xfs":dataTmp.typeId="05",dataTmp.seleId="02"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function getRightIssue(now,r,len){for(var n=0,re=[],i=0;i<r.length;i++)if(r[i].issue==now){n=i;for(var j=0;len>j;j++)re.push(r[n+j])}return re}function merge(list){var r=[];return $(list).each(function(index,item){item.issue>=SSC_NOWQI&&r.length<SSC_QI&&r.push({issue:item.issue,multiple:sscCar.total.bei})}),r}var r=[];action.getIssue({lottery:"CQSSC",issues:sscCar.total.qi||SSC_QI},function(re){var rr=getRightIssue(SSC_NOWQI,re,sscCar.total.qi||SSC_QI);r=merge(rr),fn(r)})}var sscCar=countCar();if(!sscCar)return null;var d={gameType:"018",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=sscCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.pl3Tz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectssc").fadeOut(function(){$(".wzl-nav-dropdown").hide(),$(".wzl-cartext").removeClass("hidden"),$("#ssccar, #carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/yxzx"}),$("#car-addjx").unbind().bind("click",function(){var ssc=getOneSSC();SSC_CAR.push(ssc),renderCar()}),$(".glyphicon.icon-trash").on("click",function(){var s=countCar();s.clear(),renderCar()})}var SSC_CAR=[],SSC_BEI=1,SSC_QI=1,SSC_ZJ=!1,SSC_ZJSTOP=!1,SSC_NOWQI=null,CACHE_ID=0,u_type="yxzx",PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,routes=(util(),{"/yxzx":function(){yxzx()},"/rx1":function(){rx1()},"/rx2":function(){rx2()},"/exzx":function(){exzx()},"/exfx":function(){exfx()},"/exhz":function(){exhz()},"/sanxzx":function(){sanxzx()},"/sanxfx":function(){sanxfx()},"/zsdx":function(){zsdx()},"/zsfx":function(){zsfx()},"/wxzx":function(){wxzx()},"/wxfx":function(){wxfx()},"/wxnx":function(){wxnx()},"/sixzx":function(){},"/sixfx":function(){},"/car":function(){ssccar()},index:function(){yxzx()},init:function(){init()}});Router(routes)},pl3=function(){function init(){function fomatYl(d){var allArr=d.split(",");for(i=4;13>=i;i++)$("#yla em").eq(i-4).text(allArr[i]);for(i=14;23>=i;i++)$("#ylb em").eq(i-14).text(allArr[i]);for(i=24;33>=i;i++)$("#ylc em").eq(i-24).text(allArr[i])}$.wzlhistory("pl3",function(d){PL3_NOWQI=d.issue}),$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle()}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),action.queryUserInfo({},function(){}),action.yl("pls",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function publicShow(v,title,fn){$("#carfixed,#f3dcar,#tzsuccess").hide(),$(".wzl-cartext").addClass("hidden"),$("#fc3dplays").show(),$("#fc3dplays>div,#f3dcar").not("#"+v).hide(function(){$("#"+v+", #buycarfixedbtn").show(),$(".wzl-nav-dropdown").text(title).show(),fn&&fn()}),$(".ball-status-bar.icon-right").addClass("disabled").html("每位至少选择 1 个号码球")}function fc3dNumberSelect(containerId,total,before){return cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId})}function zxfs(){function total(){var fc3d=countZxfs();if(0!=fc3d){var count=PlayTypeRule.count(fc3d),price=count*CPCONFIG.PL3.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZxfs(){var baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),type=PlayTypeRule.pl3_fs,baiRequired=type.groupdef[0].required,shiRequired=type.groupdef[1].required,geRequired=type.groupdef[2].required;if(!(baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;if(baiN.length<baiRequired||shiN.length<shiRequired||geN.length<geRequired)return!1;var pl3type;pl3type=baiN.length==baiRequired&&shiN.length==shiRequired&&geN.length==geRequired?"pl3_ds":"pl3_fs";var groups=[{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];
return{code:pl3type,groups:groups}}publicShow("selectzxfs","排列三-直选复式"),u_type="zxfs";var bai=fc3dNumberSelect("#selectzxfs .fc3d-bai",total),shi=fc3dNumberSelect("#selectzxfs .fc3d-shi",total),ge=fc3dNumberSelect("#selectzxfs .fc3d-ge",total);$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var pl3=countZxfs();0!=pl3?(pl3.PL3_ID=++CACHE_ID,PL3_CAR.push(pl3),bai.clear(),shi.clear(),ge.clear(),location.href="#!/car"):dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").on("click",function(){bai.clear(),shi.clear(),ge.clear(),total()}),Y_Y(function(){bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)})}function zxhz(){function total(){var fc3d=countZxhz(),count=0;if(0!=fc3d){count=PlayTypeRule.count(fc3d);var price=count*CPCONFIG.PL3.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZxhz(){var hzN=heizhi.getSelected(),type=PlayTypeRule.pl3_hz,hzRequired=type.groupdef[0].required;if(!hzN||!hzN.length)return!1;if(hzN.length<hzRequired)return!1;var fc3dtype="pl3_hz",groups=[{dan:null,tuo:hzN}];return{code:fc3dtype,groups:groups}}publicShow("selectzxhz","排列三-直选和值"),u_type="zxhz";var heizhi=cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(){},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectzxhz .fc3d-hezhi",multipleSelect:!1});$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var pl3=countZxhz();0!=pl3?(pl3.PL3_ID=++CACHE_ID,PL3_CAR.push(pl3),heizhi.clear(),location.href="#!/car"):dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").on("click",function(){heizhi.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:27,count:1});heizhi.clear().select(n1)})}function z3fs(){function total(){var fc3d=countZ3fs();if(0!=fc3d){var count=PlayTypeRule.count(fc3d),price=count*CPCONFIG.PL3.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZ3fs(){var baiN=bai.getSelected(),type=PlayTypeRule.pl3_z3fs,baiRequired=type.groupdef[0].required;if(!baiN||!baiN.length)return!1;if(baiN.length<baiRequired)return!1;var fc3dtype="pl3_z3fs",groups=[{dan:null,tuo:baiN}];return{code:fc3dtype,groups:groups}}publicShow("selectz3fs","排列三-组三复式"),u_type="z3fs";var bai=fc3dNumberSelect("#selectz3fs .fc3d-bai",total);$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var pl3=countZ3fs();0!=pl3?(pl3.PL3_ID=++CACHE_ID,PL3_CAR.push(pl3),bai.clear(),location.href="#!/car"):dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").on("click",function(){bai.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:9,count:2});bai.clear().select(n1)})}function z3ds(){function total(){var fc3d=countZ3ds();if(0!=fc3d){var count=PlayTypeRule.count(fc3d),price=count*CPCONFIG.PL3.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZ3ds(){var chongN=chong.getSelected(),danN=dan.getSelected(),type=PlayTypeRule.pl3_z3ds,baiRequired=type.groupdef[0].required;if(!(chongN&&chongN.length&&danN&&danN.length))return!1;if(chongN.length<baiRequired||danN.length<baiRequired)return!1;var fc3dtype="pl3_z3ds",groups=[{dan:chongN.concat(chongN),tuo:danN}];return{code:fc3dtype,groups:groups}}publicShow("selectz3ds","排列三-组三单式"),u_type="z3ds";var chong=cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){return dan.isSelected(f)?(dialog("已经选择了相同的单号"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectz3ds .fc3d-bai",multipleSelect:!1}),dan=cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){return chong.isSelected(f)?(dialog("已经选择了相同的重号"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectz3ds .fc3d-shi",multipleSelect:!1});$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var pl3=countZ3ds();0!=pl3?(pl3.PL3_ID=++CACHE_ID,PL3_CAR.push(pl3),chong.clear(),dan.clear(),location.href="#!/car"):dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").on("click",function(){chong.clear(),dan.clear(),total()}),Y_Y(function(){chong.clear(),dan.clear();var n1=cp.shuffle({min:0,max:9,count:1});chong.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});dan.clear().select(n1)})}function z6fs(){function total(){var fc3d=countZ6fs();if(0!=fc3d){var count=PlayTypeRule.count(fc3d),price=count*CPCONFIG.PL3.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码球")}function countZ6fs(){var haoN=hao.getSelected(),type=PlayTypeRule.pl3_z6fs,baiRequired=type.groupdef[0].required;if(!haoN||!haoN.length)return!1;if(haoN.length<baiRequired)return!1;var fc3dtype="pl3_z6fs";haoN.length==baiRequired&&(fc3dtype="pl3_z6ds");var groups=[{dan:null,tuo:haoN}];return{code:fc3dtype,groups:groups}}publicShow("selectz6fs","排列三-组六复式"),u_type="z6fs";var hao=fc3dNumberSelect("#selectz6fs .fc3d-bai",total);$("#buycarfixedbtn .ball-status-bar").unbind().bind("click",function(){var pl3=countZ6fs();0!=pl3?(pl3.PL3_ID=++CACHE_ID,PL3_CAR.push(pl3),hao.clear(),location.href="#!/car"):dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),$(".glyphicon.icon-trash").on("click",function(){hao.clear(),total()}),Y_Y(function(){var n1=cp.shuffle({min:0,max:9,count:3});hao.clear().select(n1)})}function PL3car(){function renderCar(){if(PL3_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#f3dcar").delegate(".ball-select-remove","click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){PL3_BEI=bei,PL3_QI=qi,PL3_ZJSTOP=zjstop,renderCar()})}function countCar(){function strBtype(type,item,notext){function pl3pad(r){for(var s=[],i=0;i<r.length;i++)s.push(r[i]<10?"0"+r[i]:r[i]);return s}var s="",_s="";return("pl3_fs"==type||"pl3_ds"==type)&&(s+="百位:"+item.groups[0].tuo.join(" ")+" ",s+="十位:"+item.groups[1].tuo.join(" ")+" ",s+="个位:"+item.groups[2].tuo.join(" ")+" ",_s+=item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")),"pl3_hz"==type&&(s+=item.groups[0].tuo.join(" "),_s+=pl3pad(item.groups[0].tuo).join(" ")),"pl3_z3ds"==type&&(s+="重号:"+item.groups[0].dan.join(" "),s+="单号:"+item.groups[0].tuo.join(" "),_s+=item.groups[0].dan.join(" ")+" ",_s+=item.groups[0].tuo.join(" ")),"pl3_z3fs"==type&&(s+=item.groups[0].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")),("pl3_z6fs"==type||"pl3_z6ds"==type)&&(s+=item.groups[0].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")),notext?_s:s}function type(t){var r="";switch(t){case"pl3_hz":r="直选和值";break;case"pl3_fs":r="直选复式";break;case"pl3_ds":r="直选单式";break;case"pl3_z3ds":r="组三单式";break;case"pl3_z3fs":r="组三复式";break;case"pl3_z6fs":r="组六复式";break;case"pl3_z6ds":r="组六单式"}return r}function remove(id){for(var j=0;j<PL3_CAR.length;j++)PL3_CAR[j].PL3_ID==id&&PL3_CAR.splice(j,1)}function clear(){PL3_CAR=[],PL3_BEI=1,PL3_QI=1,PL3_ZJ=!1,PL3_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<PL3_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(PL3_CAR[i]),ritem.price=ritem.count*CPCONFIG.PL3.UNIT_PRICE,ritem.type=type(PL3_CAR[i].code),ritem.code=PL3_CAR[i].code,ritem.id=PL3_CAR[i].PL3_ID,car_count+=ritem.count,car_price+=ritem.price,ritem.redStr=strBtype(PL3_CAR[i].code,PL3_CAR[i]),ritem._redStr=strBtype(PL3_CAR[i].code,PL3_CAR[i],!0),r.push(ritem)}return total={bei:PL3_BEI,qi:PL3_QI,count:car_count,price:car_price*PL3_QI*PL3_BEI,zjstop:PL3_ZJSTOP,zj:PL3_ZJ},{list:r,count:car_count,price:car_price,remove:remove,clear:clear,total:total}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOnePL3(){function uniqe(arr){for(var r=[],f=0,n=0;9>=n;n++)r.push(n);arr.sort(function(n1,n2){var s1=parseInt(n1,10),s2=parseInt(n2,10);return s1-s2});for(var i=0;i<arr.length;i++){var s=parseInt(arr[i],10);r.splice(s-f,1)&&f++}return r}function replaceHz(arr){for(var re=[],i=0;i<arr.length;i++)re.push(String(arr[i]));return re}var bai=cp.shuffle({min:0,max:9,count:1}),shi=cp.shuffle({min:0,max:9,count:1}),ge=cp.shuffle({min:0,max:9,count:1}),hezhi=(cp.shuffle({pool:uniqe(ge),min:0,max:9,count:1}),cp.shuffle({min:0,max:27,count:1})),z6fs=cp.shuffle({min:0,max:9,count:3}),pl3={code:"pl3_ds",groups:[{dan:null,tuo:bai},{dan:null,tuo:shi},{dan:null,tuo:ge}]};switch(u_type){case"zxfs":pl3={code:"pl3_ds",groups:[{dan:null,tuo:bai},{dan:null,tuo:shi},{dan:null,tuo:ge}]};break;case"zxhz":pl3={code:"pl3_hz",groups:[{dan:null,tuo:replaceHz(hezhi)}]};break;case"z3ds":pl3={code:"pl3_z3ds",groups:[{dan:ge.concat(ge),tuo:shi}]};break;case"z3fs":pl3={code:"pl3_z3fs",groups:[{dan:null,tuo:shi.concat(bai)}]};break;case"z6fs":pl3={code:"pl3_z6fs",groups:[{dan:null,tuo:z6fs}]}}return pl3.PL3_ID=++CACHE_ID,pl3}function tzsuccess(){$("#car,#selectfc3d,#f3dcar,#carfixed,#buycarfixedbtn").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!pl3Car)return!1;var need={gameType:"108",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(pl3Car.total.price),need.isStop=pl3Car.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(pl3Car.list),need.buyType=pl3Car.total.qi>1?1:0,need.title=pl3Car.total.qi>1?"排列三"+PL3_NOWQI+"期追号方案":"排列三"+PL3_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0,multiple:0};if(!item||!item.count)return!1;var rs=item._redStr.split(" ").join(",");switch(dataTmp.buyNumber=rs,dataTmp.sum=CPCONFIG.PL3.UNIT_PRICE,dataTmp.multiple=pl3Car.total.bei,item.code){case"pl3_fs":dataTmp.typeId="01",dataTmp.seleId="02",dataTmp.sum=item.price,dataTmp.buyNumber=item._redStr;break;case"pl3_ds":dataTmp.typeId="01",dataTmp.seleId="01";break;case"pl3_hz":dataTmp.typeId="01",dataTmp.seleId="04",dataTmp.sum=item.price;break;case"pl3_z3ds":dataTmp.typeId="03",dataTmp.seleId="01";break;case"pl3_z3fs":dataTmp.typeId="03",dataTmp.seleId="02",dataTmp.sum=item.price;break;case"pl3_z6fs":dataTmp.typeId="04",dataTmp.seleId="02",dataTmp.sum=item.price;break;case"pl3_z6ds":dataTmp.typeId="04",dataTmp.seleId="01",dataTmp.sum=item.price}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it;it=join(item),it&&r.push(it)}}),r}function getIssues(fn){function merge(list){var r=[];return $(list).each(function(index,item){r.push({issue:item.issue,multiple:pl3Car.total.bei})}),r}var r=[];action.getIssue({lottery:"PL3",issues:pl3Car.total.qi||PL3_QI},function(re){r=merge(re),fn(r)})}var pl3Car=countCar();if(!pl3Car)return null;var d={gameType:"108",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=pl3Car.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.ssqTz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#fc3dplays,#pl3-history").fadeOut(function(){$(".wzl-nav-dropdown").hide(),$(".wzl-cartext").removeClass("hidden"),$("#f3dcar,#carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/zxfs"}),$("#car-addjx").unbind().bind("click",function(){var pl3=getOnePL3();PL3_CAR.push(pl3),renderCar()}),$(".glyphicon.icon-trash").on("click",function(){var s=countCar();s.clear(),renderCar()})}var PL3_CAR=[],PL3_BEI=1,PL3_QI=1,PL3_ZJ=!1,PL3_ZJSTOP=!1,PL3_NOWQI=null,CACHE_ID=0,u_type="zxfs",PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,routes=(util(),{"/zxfs":function(){zxfs()},"/zxhz":function(){zxhz()},"/z3fs":function(){z3fs()},"/z3ds":function(){z3ds()},"/z6fs":function(){z6fs()},"/car":function(){PL3car()},index:function(){zxfs()},init:function(){init()}});Router(routes)},pl5=function(){function init(){function fomatYl(d){var allArr=d.split(",");for(i=6;15>=i;i++)$("#yla em").eq(i-6).text(allArr[i]);for(i=16;25>=i;i++)$("#ylb em").eq(i-16).text(allArr[i]);for(i=26;35>=i;i++)$("#ylc em").eq(i-26).text(allArr[i]);for(i=36;45>=i;i++)$("#yld em").eq(i-36).text(allArr[i]);for(i=46;55>=i;i++)$("#yle em").eq(i-46).text(allArr[i])}$.wzlmore(),$.wzlhistory("pl5",function(d){PL5_NOWQI=d.issue}),$(".jc-match-i").on("click",function(){$("#selectjc,#jc-match").slideToggle()}),action.queryUserInfo({},function(){}),action.yl("plw",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function pl5NumberSelect(containerId,total,before,multipleSelect){return cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId,multipleSelect:!multipleSelect})}function index(){function total(){var pl5c=countPl5();if(0!=pl5c){var count=PlayTypeRule.count(pl5c),price=count*CPCONFIG.PL5.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码")}function countPl5(){var wanN=wan.getSelected(),qianN=qian.getSelected(),baiN=bai.getSelected(),shiN=shi.getSelected(),geN=ge.getSelected(),dsType=PlayTypeRule.pl5_ds;if(!(wanN&&wanN.length&&qianN&&qianN.length&&baiN&&baiN.length&&shiN&&shiN.length&&geN&&geN.length))return!1;var type="pl5_fs";wanN.length==dsType.groupdef[0].required&&qianN.length==dsType.groupdef[1].required&&baiN.length==dsType.groupdef[2].required&&shiN.length==dsType.groupdef[3].required&&geN.length==dsType.groupdef[4].required&&(type="pl5_ds");var groups=[{dan:null,tuo:wanN},{dan:null,tuo:qianN},{dan:null,tuo:baiN},{dan:null,tuo:shiN},{dan:null,tuo:geN}];return{code:type,groups:groups}}$(".wzl-nav-dropdown,#pl5plays,#pl5-history").show(),$("#f3dcar, #carfixed").hide(),$(".wzl-cartext").addClass("hidden");var wan=pl5NumberSelect("#pl5plays .pl5-wan",total,function(){}),qian=pl5NumberSelect("#pl5plays .pl5-qian",total,function(){}),bai=pl5NumberSelect("#pl5plays .pl5-bai",total,function(){}),shi=pl5NumberSelect("#pl5plays .pl5-shi",total,function(){}),ge=pl5NumberSelect("#pl5plays .pl5-ge",total,function(){});$(".ball-status-bar").unbind().bind("click",function(){var pl5c=countPl5();if(pl5c!==!1){var count=PlayTypeRule.count(pl5c),price=count*CPCONFIG.PL5.UNIT_PRICE;if(price>CPCONFIG.PL5.MAX_AMOUNT)return dialog("单注投注不能超过"+CPCONFIG.PL5.MAX_AMOUNT+"元"),!1;pl5c.PL5_ID=++CACHE_ID,PL5_CAR.push(pl5c),wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),location.href="#!/car"}else dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),Y_Y(function(){wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear();var n1=cp.shuffle({min:0,max:9,count:1});wan.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qian.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});bai.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});shi.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});ge.clear().select(n1)}),$(".glyphicon.icon-trash").on("click",function(){wan.clear(),qian.clear(),bai.clear(),shi.clear(),ge.clear(),total()})}function PL5car(){function countCar(){function strBtype(type,item,notext){var s="",_s="";return s+=item.groups[0].tuo.join(" ")+",",s+=item.groups[1].tuo.join(" ")+",",s+=item.groups[2].tuo.join(" ")+",",s+=item.groups[3].tuo.join(" ")+",",s+=item.groups[4].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")+",",_s+=item.groups[4].tuo.join(" "),notext?_s:s}function type(t){var r="";switch(t){case"pl5_fs":r="复式";break;case"pl5_ds":r="单式"}return r}function remove(id){for(var j=0;j<PL5_CAR.length;j++)PL5_CAR[j].PL5_ID==id&&PL5_CAR.splice(j,1)}function clear(){PL5_CAR=[],PL5_BEI=1,PL5_QI=1,PL5_ZJ=!1,PL5_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<PL5_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(PL5_CAR[i]),ritem.price=ritem.count*CPCONFIG.PL5.UNIT_PRICE,ritem.type=type(PL5_CAR[i].code),ritem.code=PL5_CAR[i].code,ritem.id=PL5_CAR[i].PL5_ID,car_count+=ritem.count,car_price+=ritem.price,ritem.redStr=strBtype(PL5_CAR[i].code,PL5_CAR[i]),ritem._redStr=strBtype(PL5_CAR[i].code,PL5_CAR[i],!0),r.push(ritem)}return total={bei:PL5_BEI,qi:PL5_QI,count:car_count,price:car_price*PL5_QI*PL5_BEI,zjstop:PL5_ZJSTOP,zj:PL5_ZJ},{list:r,count:car_count,price:car_price,clear:clear,remove:remove,total:total}}function renderCar(){if(PL5_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#f3dcar .ball-select-remove").unbind().bind("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){PL5_BEI=bei,PL5_QI=qi,PL5_ZJSTOP=zjstop,renderCar()})}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOnePL5(){var wan=cp.shuffle({min:0,max:9,count:1}),qian=cp.shuffle({min:0,max:9,count:1}),bai=cp.shuffle({min:0,max:9,count:1}),shi=cp.shuffle({min:0,max:9,count:1}),ge=cp.shuffle({min:0,max:9,padding:!1,count:1}),pl5c={code:"pl5_ds",groups:[{dan:null,tuo:ge},{dan:null,tuo:shi},{dan:null,tuo:bai},{dan:null,tuo:qian},{dan:null,tuo:wan}]};return pl5c.PL5_ID=++CACHE_ID,pl5c}function tzsuccess(){$("#car,#pl5plays,#carfixed,#f3dcar,#buycarfixedbtn").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!sscCar)return!1;var need={gameType:"109",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(sscCar.total.price),need.isStop=sscCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(sscCar.list),need.buyType=sscCar.total.qi>1?1:0,need.title=sscCar.total.qi>1?"排列五"+PL5_NOWQI+"期追号方案":"排列五"+PL5_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0};if(!item||!item.count)return!1;var rs=item._redStr;switch(dataTmp.buyNumber=rs,dataTmp.sum=item.price,dataTmp.num=item.count,dataTmp.multiple=sscCar.total.bei,item.code){case"pl5_fs":dataTmp.typeId="00",dataTmp.seleId="02";break;case"pl5_ds":dataTmp.typeId="00",dataTmp.seleId="01"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function merge(list){var r=[];return $(list).each(function(index,item){item.issue>=PL5_NOWQI&&r.length<PL5_QI&&r.push({issue:item.issue,multiple:sscCar.total.bei})}),r}var r=[];action.getIssue({lottery:"PL5",issues:sscCar.total.qi||PL5_QI},function(re){r=merge(re),fn(r)})}var sscCar=countCar();if(!sscCar)return null;var d={gameType:"109",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=sscCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.pl3Tz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#pl5plays,#pl5-history").fadeOut(function(){$(".wzl-nav-dropdown,#f3d-history").hide(),$(".wzl-cartext").removeClass("hidden"),$("#f3dcar, #carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/dg"}),$("#car-addjx").unbind().bind("click",function(){var pl5c=getOnePL5();PL5_CAR.push(pl5c),renderCar()}),$(".glyphicon.icon-trash").on("click",function(){var s=countCar();s.clear(),renderCar()})}var routes={"/car":function(){PL5car()},"/dg":function(){index()},index:function(){index()},init:function(){init()}};Router(routes);var PL5_CAR=[],PL5_BEI=1,PL5_QI=1,PL5_ZJ=!1,PL5_ZJSTOP=!1,PL5_NOWQI=null,CACHE_ID=0,PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG},qxc=function(){function init(){function fomatYl(d){var allArr=d.split(",");for(i=8;17>=i;i++)$("#yla em").eq(i-8).text(allArr[i]);for(i=18;27>=i;i++)$("#ylb em").eq(i-18).text(allArr[i]);for(i=28;37>=i;i++)$("#ylc em").eq(i-28).text(allArr[i]);for(i=38;47>=i;i++)$("#yld em").eq(i-38).text(allArr[i]);for(i=48;57>=i;i++)$("#yle em").eq(i-48).text(allArr[i]);for(i=58;67>=i;i++)$("#ylf em").eq(i-58).text(allArr[i]);for(i=68;77>=i;i++)$("#ylj em").eq(i-68).text(allArr[i])}$(".wzl-nav-dropdown").click(function(){$("#wzl-dropdown a").click(function(){})}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),$.wzlhistory("qxc",function(d){QXC_NOWQI=d.issue}),$(".jc-match-i").on("click",function(){$("#selectjc,#jc-match").slideToggle()}),action.queryUserInfo({},function(){}),action.yl("qxc",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function qxcNumberSelect(containerId,total,before,multipleSelect){return cp.numberSelect({min:0,max:9,ispad:!1,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId,multipleSelect:!multipleSelect})}function index(){function total(){var pl5c=countPl5();if(0!=pl5c){var count=PlayTypeRule.count(pl5c),price=count*CPCONFIG.QXC.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("每位至少选择 1 个号码")}function countPl5(){var qxc1=qxc_1.getSelected(),qxc2=qxc_2.getSelected(),qxc3=qxc_3.getSelected(),qxc4=qxc_4.getSelected(),qxc5=qxc_5.getSelected(),qxc6=qxc_6.getSelected(),qxc7=qxc_7.getSelected(),dsType=PlayTypeRule.qxc_ds;if(!(qxc1&&qxc1.length&&qxc2&&qxc2.length&&qxc3&&qxc3.length&&qxc4&&qxc4.length&&qxc5&&qxc5.length&&qxc6&&qxc6.length&&qxc7&&qxc7.length))return!1;var type="qxc_fs";qxc1.length==dsType.groupdef[0].required&&qxc2.length==dsType.groupdef[1].required&&qxc3.length==dsType.groupdef[2].required&&qxc4.length==dsType.groupdef[3].required&&qxc5.length==dsType.groupdef[4].required&&qxc6.length==dsType.groupdef[5].required&&qxc7.length==dsType.groupdef[6].required&&(type="pl5_ds");var groups=[{dan:null,tuo:qxc1},{dan:null,tuo:qxc2},{dan:null,tuo:qxc3},{dan:null,tuo:qxc4},{dan:null,tuo:qxc5},{dan:null,tuo:qxc6},{dan:null,tuo:qxc7}];return{code:type,groups:groups}}$("#f3dcar,#carfixed").fadeOut(function(){$(".wzl-cartext").addClass("hidden"),$(".wzl-nav-dropdown").show(),$("#selectqxc").fadeIn()});var qxc_1=qxcNumberSelect("#selectqxc .qxc-1",total,function(){}),qxc_2=qxcNumberSelect("#selectqxc .qxc-2",total,function(){}),qxc_3=qxcNumberSelect("#selectqxc .qxc-3",total,function(){}),qxc_4=qxcNumberSelect("#selectqxc .qxc-4",total,function(){}),qxc_5=qxcNumberSelect("#selectqxc .qxc-5",total,function(){}),qxc_6=qxcNumberSelect("#selectqxc .qxc-6",total,function(){}),qxc_7=qxcNumberSelect("#selectqxc .qxc-7",total,function(){});$(".ball-status-bar").unbind().bind("click",function(){var qxcc=countPl5();if(qxcc!==!1){var count=PlayTypeRule.count(qxcc),price=count*CPCONFIG.QXC.UNIT_PRICE;if(price>=CPCONFIG.QXC.MAX_AMOUNT)return dialog("单注投注不能超过"+CPCONFIG.QXC.MAX_AMOUNT+"元"),!1;qxcc.QXC_ID=++CACHE_ID,QXC_CAR.push(qxcc),qxc_1.clear(),qxc_2.clear(),qxc_3.clear(),qxc_4.clear(),qxc_5.clear(),qxc_6.clear(),qxc_7.clear(),location.href="#!/car"}else dialog("每位至少选择<span class='wzl-text-warning'>1</span>个号码")}),Y_Y(function(){qxc_1.clear(),qxc_2.clear(),qxc_3.clear(),qxc_4.clear(),qxc_5.clear(),qxc_6.clear(),qxc_7.clear();var n1=cp.shuffle({min:0,max:9,count:1});qxc_1.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qxc_2.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qxc_3.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qxc_4.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qxc_5.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qxc_6.clear().select(n1);var n1=cp.shuffle({min:0,max:9,count:1});qxc_7.clear().select(n1)}),$(".glyphicon.icon-trash").on("click",function(){qxc_1.clear(),qxc_2.clear(),qxc_3.clear(),qxc_4.clear(),qxc_5.clear(),qxc_6.clear(),qxc_7.clear(),total()})}function qxccar(){function countCar(){function strBtype(type,item,notext){var s="",_s="";return s+=item.groups[0].tuo.join(" ")+",",s+=item.groups[1].tuo.join(" ")+",",s+=item.groups[2].tuo.join(" ")+",",s+=item.groups[3].tuo.join(" ")+",",s+=item.groups[4].tuo.join(" ")+",",s+=item.groups[5].tuo.join(" ")+",",s+=item.groups[6].tuo.join(" "),_s+=item.groups[0].tuo.join(" ")+",",_s+=item.groups[1].tuo.join(" ")+",",_s+=item.groups[2].tuo.join(" ")+",",_s+=item.groups[3].tuo.join(" ")+",",_s+=item.groups[4].tuo.join(" ")+",",_s+=item.groups[5].tuo.join(" ")+",",_s+=item.groups[6].tuo.join(" "),notext?_s:s}function type(t){var r="";switch(t){case"qxc_fs":r="复式";break;case"qxc_ds":r="单式"}return r}function remove(id){for(var j=0;j<QXC_CAR.length;j++)QXC_CAR[j].QXC_ID==id&&QXC_CAR.splice(j,1)}function clear(){QXC_CAR=[],QXC_BEI=1,QXC_QI=1,QXC_ZJ=!1,QXC_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<QXC_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(QXC_CAR[i]),ritem.price=ritem.count*CPCONFIG.QXC.UNIT_PRICE,ritem.type=type(QXC_CAR[i].code),ritem.code=QXC_CAR[i].code,ritem.id=QXC_CAR[i].QXC_ID,car_count+=ritem.count,car_price+=ritem.price,ritem.redStr=strBtype(QXC_CAR[i].code,QXC_CAR[i]),ritem._redStr=strBtype(QXC_CAR[i].code,QXC_CAR[i],!0),r.push(ritem)}return total={bei:QXC_BEI,qi:QXC_QI,count:car_count,price:car_price*QXC_QI*QXC_BEI,zjstop:QXC_ZJSTOP,zj:QXC_ZJ},{list:r,count:car_count,price:car_price,clear:clear,remove:remove,total:total}}function renderCar(){if(QXC_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#f3dcar .ball-select-remove").unbind().bind("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){QXC_BEI=bei,QXC_QI=qi,QXC_ZJSTOP=zjstop,renderCar()})}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjInput=$("input#ball-zj"),$zjstopInput=$("input#ball-zjstop"),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zj=$zjInput.prop("checked"),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()
}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()}),$("input#ball-zj").unbind().bind("click",function(){var $checked=$(this).prop("checked");zj=$checked,syanc()})}function getOneQXC(){var qxc_1=cp.shuffle({min:0,max:9,count:1}),qxc_2=cp.shuffle({min:0,max:9,count:1}),qxc_3=cp.shuffle({min:0,max:9,count:1}),qxc_4=cp.shuffle({min:0,max:9,count:1}),qxc_5=cp.shuffle({min:0,max:9,padding:!1,count:1}),qxc_6=cp.shuffle({min:0,max:9,padding:!1,count:1}),qxc_7=cp.shuffle({min:0,max:9,padding:!1,count:1}),QXCc={code:"qxc_ds",groups:[{dan:null,tuo:qxc_1},{dan:null,tuo:qxc_2},{dan:null,tuo:qxc_3},{dan:null,tuo:qxc_4},{dan:null,tuo:qxc_5},{dan:null,tuo:qxc_6},{dan:null,tuo:qxc_7}]};return QXCc.QXC_ID=++CACHE_ID,QXCc}function tzsuccess(){$("#car,#pl5plays,#carfixed,#f3dcar,#buycarfixedbtn").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!sscCar)return!1;var need={gameType:"110",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",projectid:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(sscCar.total.price),need.isStop=sscCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(sscCar.list),need.buyType=sscCar.total.qi>1?1:0,need.title=sscCar.total.qi>1?"七星彩"+QXC_NOWQI+"期追号方案":"七星彩"+QXC_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0};if(!item||!item.count)return!1;var rs=item._redStr;switch(dataTmp.buyNumber=rs,dataTmp.sum=item.price,dataTmp.num=item.count,dataTmp.multiple=sscCar.total.bei,item.code){case"qxc_fs":dataTmp.typeId="00",dataTmp.seleId="02";break;case"qxc_ds":dataTmp.typeId="00",dataTmp.seleId="01"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function merge(list){var r=[];return $(list).each(function(index,item){item.issue>=QXC_NOWQI&&r.length<QXC_QI&&r.push({issue:item.issue,multiple:sscCar.total.bei})}),r}var r=[];action.getIssue({lottery:"QXC",issues:sscCar.total.qi||QXC_QI},function(re){r=merge(re),fn(r)})}var sscCar=countCar();if(!sscCar)return null;var d={gameType:"110",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=sscCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){return r&&r.length?(udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),void action.pl3Tz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectqxc").fadeOut(function(){$(".wzl-nav-dropdown,#f3d-history").hide(),$(".wzl-cartext").removeClass("hidden"),$("#f3dcar, #carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/dg"}),$("#car-addjx").unbind().bind("click",function(){var QXCc=getOneQXC();QXC_CAR.push(QXCc),renderCar()}),$(".glyphicon.icon-trash").on("click",function(){var s=countCar();s.clear(),renderCar()})}var routes={"/car":function(){qxccar()},"/dg":function(){index()},index:function(){index()},init:function(){init()}};Router(routes);var QXC_CAR=[],QXC_BEI=1,QXC_QI=1,QXC_ZJ=!1,QXC_ZJSTOP=!1,QXC_NOWQI=null,CACHE_ID=0,PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG},qlc=function(){function publicShow(v,title,barstr,fn){$("#carfixed,#car,#tzsuccess").hide(),$("#selectzxhz,#qlcplays,#qlc-history").show(),$(".wzl-cartext").addClass("hidden"),$(".ball-status-bar").addClass("disabled").html(barstr),$("#qlcplays>div").not("#"+v).hide(function(){$("#"+v+", #buycarfixedbtn").show(),$(".wzl-nav-dropdown").text(title).show(),fn&&fn()})}function init(){$(".ballcon-right em,.ballcon-yilou").hide(),$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle(),$("#wzl-dropdown a").click(function(){})}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),$.wzlhistory("qlc",function(d){QLC_NOWQI=d.issue}),$(".jc-match-i").on("click",function(){$("#selectjc,#jc-match").slideToggle()}),action.queryUserInfo({},function(){})}function QLCfs(){function total(){var s=countQLC();if(s!==!1){var count=PlayTypeRule.count(s),price=count*CPCONFIG.QLC.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("至少选择7个号码")}function countQLC(){var redBall=red.getSelected(),QLCREQUIRE=CPCONFIG.QLC,code="qlc_ds";if(redBall.length<QLCREQUIRE.RED_MIN)return!1;code=redBall.length==QLCREQUIRE.RED_MIN?"qlc_ds":"qlc_fs";var groups=[{dan:null,tuo:redBall}];return{code:code,groups:groups}}publicShow("selectfs","七乐彩-复式","至少选择7个号码"),u_type="fs";var red=cp.numberSelect({min:1,max:30,numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectfs"});$(".redBalls .ballcon-js-n").randombox(function(n){var number=cp.shuffle({min:1,max:30,padding:1,count:n});red.clear().select(number)}),Y_Y(function(){red.clear();var number=cp.shuffle({min:1,max:30,padding:1,count:7});red.clear().select(number)}),$(".glyphicon.icon-trash").unbind().bind("click",function(){red.clear(),total()}),$(".ball-status-bar").unbind().bind("click",function(){var QLCc=countQLC();if(QLCc===!1)return dialog("请至少选择<span class='wzl-text-warning'>7</span>个号码"),!1;var count=PlayTypeRule.count(QLCc),price=count*CPCONFIG.QLC.UNIT_PRICE;return price>CPCONFIG.QLC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.QLC.MAX_AMOUNT+"元"),!1):(QLCc.QLC_ID=++CACHE_ID,QLC_CAR.push(QLCc),red.clear(),void(location.href="#!/car"))})}function QLCdt(){function total(){var s=countQLC();if(s!==!1){var count=PlayTypeRule.count(s),price=count*CPCONFIG.QLC.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元")}else $(".ball-status-bar").addClass("disabled").html("至少选择8个号码")}function countQLC(){var dN=redD.getSelected(),tN=redT.getSelected(),code=(CPCONFIG.QLC,"qlc_dt");if(!dN||!tN||!dN.length||!tN.length||tN.length<3||dN.length+tN.length<7)return!1;var groups=[{dan:dN,tuo:tN}];return{code:code,groups:groups}}publicShow("selectdt","七乐彩-胆拖","至少选择8个号码"),u_type="dt";var redD=cp.numberSelect({min:1,max:30,numberSelectBefore:function(f){var d=redD.getSelected();return redD.isSelected(f)?!0:6==d.length?(dialog("胆码不能超过<span class='wzl-text-warning'>6</span>个"),!1):redT.isSelected(f)?(dialog("已经选择了相同的拖码"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#dt-red-d"}),redT=cp.numberSelect({min:1,max:30,numberSelectBefore:function(f){redT.getSelected();return redD.isSelected(f)?(dialog("已经选择了相同的胆码"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#dt-red-t"});$(".glyphicon.icon-trash").unbind().bind("click",function(){redD.clear(),redT.clear(),total()}),$(".ball-status-bar").unbind().bind("click",function(){var QLCc=countQLC();if(QLCc===!1)return dialog("请至少选择<span class='wzl-text-warning'>7</span>个号码"),!1;var count=PlayTypeRule.count(QLCc),price=count*CPCONFIG.QLC.UNIT_PRICE;return price>CPCONFIG.QLC.MAX_AMOUNT?(dialog("单注投注不能超过"+CPCONFIG.QLC.MAX_AMOUNT+"元"),!1):(QLCc.QLC_ID=++CACHE_ID,QLC_CAR.push(QLCc),redD.clear(),redT.clear(),void(location.href="#!/car"))}),Y_Y(function(){total()})}function QLCcar(){function renderCar(){if(QLC_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ball-select-group  .ball-select-remove").unbind().bind("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()}),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){dialog("购物车为空！")}),$("#ssq_buy").addClass("disabled")}totalBoard(function(qi,bei,zjstop){QLC_BEI=bei,QLC_QI=qi,QLC_ZJSTOP=zjstop,renderCar()})}function countCar(){function type2str(t,item){var s="";return"qlc_ds"==t&&(s=item.groups[0].tuo.join(" ")),"qlc_fs"==t&&(s=item.groups[0].tuo.join(" ")),"qlc_dt"==t&&(s=item.groups[0].dan.join(" "),s+="@"+item.groups[0].tuo.join(" ")),s}function type(t){var r="";switch(t){case"qlc_ds":r="单式投注";break;case"qlc_fs":r="复式投注";break;case"qlc_dt":r="胆拖投注"}return r}function remove(id){for(var j=0;j<QLC_CAR.length;j++)QLC_CAR[j].QLC_ID==id&&QLC_CAR.splice(j,1)}function clear(){QLC_CAR.length=0,QLC_BEI=1,QLC_QI=1,QLC_ZJ=!1,QLC_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<QLC_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(QLC_CAR[i]),ritem.price=ritem.count*CPCONFIG.QLC.UNIT_PRICE,ritem.redStr=type2str(QLC_CAR[i].code,QLC_CAR[i]),ritem.groups=QLC_CAR[i].groups,ritem.type=type(QLC_CAR[i].code),ritem.code=QLC_CAR[i].code,ritem.id=QLC_CAR[i].QLC_ID,car_count+=ritem.count,car_price+=ritem.price,r.push(ritem)}return total={bei:QLC_BEI,qi:QLC_QI,count:car_count,price:car_price*QLC_QI*QLC_BEI,zjstop:QLC_ZJSTOP,zj:QLC_ZJ},{list:r,count:car_count,price:car_price,remove:remove,total:total,clear:clear}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjstopInput=($("input#ball-zj"),$("input#ball-zjstop")),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>99?99:$val,1>$val&&($val=1),$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>9999?9999:$val,1>$val&&($val=1),$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()})}function getOneQLC(){function uniqe(arr){for(var r=[],f=1,n=1;33>=n;n++)r.push(n);arr.sort(function(n1,n2){var s1=parseInt(n1,10),s2=parseInt(n2,10);return s1-s2});for(var i=0;i<arr.length;i++){var s=parseInt(arr[i],10);r.splice(s-f,1)&&f++}return r}var red=cp.shuffle({min:1,max:30,padding:1,sort:!0,count:7}),sn=[1,2,3,4,5],srd=sn.sort(function(){return Math.random()-.5>0}),srt=8,redDnumber=cp.shuffle({min:1,max:30,padding:1,sort:!0,count:srd[0]}),QLC=(cp.shuffle({pool:uniqe(redDnumber),min:1,max:30,padding:1,sort:!0,count:srt-srd[0]}),{code:"qlc_ds",groups:[{dan:null,tuo:red}]});return QLC.QLC_ID=++CACHE_ID,QLC}function tzsuccess(){$("#car,#selectqlc,#carfixed").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!QLCCar)return!1;var need={gameType:"003",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(QLCCar.total.price),need.isStop=QLCCar.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(QLCCar.list),need.buyType=QLCCar.total.qi>1?1:0,need.title=QLCCar.total.qi>1?"七乐彩"+QLC_NOWQI+"期追号方案":"七乐彩"+QLC_NOWQI+"期追号方案",need}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0};if(!item||!item.count)return!1;var rs=item.redStr.split(" ").join(",");switch(dataTmp.buyNumber=rs,dataTmp.sum=CPCONFIG.QLC.UNIT_PRICE,dataTmp.multiple=QLCCar.total.bei,item.code){case"qlc_ds":dataTmp.seleId="01",dataTmp.sum=item.price;break;case"qlc_fs":dataTmp.seleId="02",dataTmp.sum=item.price;break;case"qlc_dt":dataTmp.seleId="03",dataTmp.buyNumber=rs,dataTmp.sum=item.price}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it;it=join(item),it&&r.push(it)}}),r}function getIssues(fn){function merge(list){var r=[];return $(list).each(function(index,item){r.push({issue:item.issue,multiple:QLCCar.total.bei})}),r}var r=[];action.getIssue({lottery:"QLC",issues:QLCCar.total.qi||QLC_QI},function(re){r=merge(re),fn(r)})}var QLCCar=countCar();if(!QLCCar)return null;var d={gameType:"003",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=QLCCar.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){r&&r.length||dialog("投注异常，请重试"),udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),action.ssqTz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})})}$("#qlcplays,#qlc-history,.wzl-fixed").fadeOut(function(){$(".wzl-nav-bar").children().eq(1).hide(),$(".wzl-cartext").removeClass("hidden"),$(".ball-status-bar").addClass("disabled").html("至少选择7个号码"),$("#car,#carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/fs"}),$("#car-addjx").unbind().bind("click",function(){var QLC=getOneQLC();QLC_CAR.push(QLC),renderCar()}),$(".glyphicon.icon-trash").unbind().bind("click",function(){var s=countCar();s.clear(),renderCar()})}var QLC_CAR=[],QLC_BEI=1,QLC_QI=1,QLC_ZJ=!1,QLC_ZJSTOP=!1,QLC_NOWQI=null,CACHE_ID=0,u_type="fs",PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,routes={"/fs":function(){QLCfs()},"/dt":function(){QLCdt()},"/car":function(){QLCcar()},index:function(){QLCfs()},init:function(){init()}};Router(routes)},x115=function(){function publicNmuberSelector(containerId,total,before){return cp.numberSelect({min:1,max:11,ispad:!0,numberSelectBefore:function(f){before&&before(f)},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:containerId})}function publicShow(v,title,type,text,fn){$("#carfixed,#f3dcar,#tzsuccess").hide(),$("#selectfc3d,#x115dplays,#jx11x5-history").show(),$(".wzl-cartext").addClass("hidden"),$(".ball-status-bar").addClass("disabled").html(text||"请选择号码"),$("#x115dplays>div").not("#"+v).hide(function(){$("#"+v+", #buycarfixedbtn").show(),$("#"+v+" .red_balls").removeClass("active"),$(".wzl-nav-dropdown").text("江西"+title).show(),fn&&fn()}),u_type=type}function publicTotal(number,type){function formatLottery(number,type){var groups=[{dan:null,tuo:number}];return{code:type,groups:groups}}var select=number.getSelected(),dstype="11x5_"+type+"ds",rule=PlayTypeRule[dstype];if(select&&select.length){var len=select.length,count=0,price=0,lottery=formatLottery(select,dstype);if(len>rule.groupdef[0].required&&(dstype="11x5_"+type+"fs",rule=PlayTypeRule[dstype],lottery=formatLottery(select,dstype)),len<rule.groupdef[0].required)return void $(".ball-status-bar").addClass("disabled").html("至少选择"+rule.groupdef[0].required+"个号码");count=PlayTypeRule.count(lottery),price=count*CPCONFIG.JX11X5.UNIT_PRICE,$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元"),$(".ball-status-bar").unbind().bind("click",function(){lottery.X115_ID=++CACHE_ID,X115_CAR.push(lottery),number.clear(),location.href="#!/car"})}else $(".ball-status-bar").addClass("disabled").html("至少选择"+rule.groupdef[0].required+"个号码"),$(".ball-status-bar").unbind().bind("click",function(){return dialog("请至少选择"+rule.groupdef[0].required+"个号码"),!1});$(".glyphicon.icon-trash").on("click",function(){number.clear(),publicTotal(number,type)})}function init(){function kjdjs(){function issue(){function setIssue(d){function setCountDown(s){timer=setInterval(function(){s--,150>=s&&($(".history-bar").html("该其次已经截止,下一期预售中。"),issue());var v=formatSeconds(s-150);$(".history-bar .history-bar-dropdown").html(v)},1e3)}function formatSeconds(value){function pad(n){return 10>n?"0"+n:n}var theTime=parseInt(value),theTime1=0,theTime2=0;theTime>60&&(theTime1=parseInt(theTime/60),theTime=parseInt(theTime%60),theTime1>60&&(theTime2=parseInt(theTime1/60),theTime1=parseInt(theTime1%60)));var result="<span class='redballs'>"+pad(parseInt(theTime))+"</span>秒";return theTime1>0&&(result="<span class='redballs'>"+pad(parseInt(theTime1))+"</span>分"+result),theTime2>0&&(result="<span class='redballs'>"+pad(parseInt(theTime2))+"</span>时"+result),result}X115_NOWQI=d.issue,setCountDown(d.endTime),$(".history-bar").html(" <span>第"+d.issue+"期销售中</span><div class='pull-right history-bar-dropdown icon-dropdown-gray'> <span class='redballs'>00</span>时<span class='redballs'>00</span>分<span class='redballs'>00</span>秒</div>")}clearInterval(timer),action.getIssue({lottery:"JX11X5",issues:25},function(re){issueA=re,re[0].endTime<=150&&(re=re.slice(1)),setIssue(re[0])})}var issueA=[],timer=null;issue()}function fomatYl(d){for(var allArr=d.split(","),i=6;16>=i;i++)$(".yla em").eq(i-6).text(allArr[i]),$(".yla2 em").eq(i-6).text(allArr[i]),$(".yla3 em").eq(i-6).text(allArr[i]),$(".yla4 em").eq(i-6).text(allArr[i]),$(".yla5 em").eq(i-6).text(allArr[i]),$(".yla6 em").eq(i-6).text(allArr[i]),$(".yla7 em").eq(i-6).text(allArr[i]),$(".yla8 em").eq(i-6).text(allArr[i])}$(".wzl-nav-dropdown").on("click",function(){dropdownMask.toggle()}),$.wzlmore(),$(".jc-match-i").on("click",function(){$("#selectjc,#jc-match").slideToggle()}),kjdjs(),action.queryUserInfo({},function(){}),action.queryX115({pageno:1,pagesize:10},function(d){function fomatIssue2(d,name){for(var arr=[],i=0;i<d.length;i++){var obj={};obj.issue=d[i].lotIssue,obj.ball=d[i].kjCode,arr.push(obj)}var myTemplate=Handlebars.compile($("#history-template").html());$("#"+name).append(myTemplate({data:arr})),$(".history-bar").undelegate(),$(".history-bar").delegate(".history-bar-dropdown","click",function(){var $this=$(this);$(".history-list").slideToggle(function(){$(".history-bar-dropdown").hasClass("icon-dropdown-gray")?$this.addClass("icon-dropup-gray").removeClass("icon-dropdown-gray"):$this.removeClass("icon-dropup-gray").addClass("icon-dropdown-gray")})})}fomatIssue2(d.lotolist,"jx11x5-history")}),action.yl("dlc",{},function(re){"200"==re.resultCode&&fomatYl(re.data)}),$(".ballcon-yilou").on("click",function(){$(".ballcon-right em").toggle()})}function rx1(){publicShow("selectrx1","11选5-任选一","rx1","至少选择1个号码");var rx1N=publicNmuberSelector("#selectrx1",function(){publicTotal(rx1N,"r1")})}function rx2(){publicShow("selectrx2","11选5-任选二","rx2","至少选择2个号码");var rx2N=publicNmuberSelector("#selectrx2",function(){publicTotal(rx2N,"r2")})}function rx3(){publicShow("selectrx3","11选5-任选三","rx3","至少选择3个号码");var rx3N=publicNmuberSelector("#selectrx3",function(){publicTotal(rx3N,"r3")})}function rx4(){publicShow("selectrx4","11选5-任选四","rx4","至少选择4个号码");var rx4N=publicNmuberSelector("#selectrx4",function(){publicTotal(rx4N,"r4")})}function rx5(){publicShow("selectrx5","11选5-任选五","rx5","至少选择5个号码");var rx5N=publicNmuberSelector("#selectrx5",function(){publicTotal(rx5N,"r5")})}function rx6(){publicShow("selectrx6","11选5-任选六","rx6","至少选择6个号码");var rx6N=publicNmuberSelector("#selectrx6",function(){publicTotal(rx6N,"r6")})}function rx7(){publicShow("selectrx7","11选5-任选七","rx7","至少选择7个号码");var rx7N=publicNmuberSelector("#selectrx7",function(){publicTotal(rx7N,"r7")})}function rx8(){publicShow("selectrx8","11选5-任选八","rx8","至少选择8个号码");var rx8N=publicNmuberSelector("#selectrx8",function(){publicTotal(rx8N,"r8")})}function q2(){function countNmuber(){{var q2select1=q2N1.getSelected(),q2select2=q2N2.getSelected(),dstype="11x5_q2ds";PlayTypeRule[dstype]}if(!(q2select1&&q2select2&&q2select1.length&&q2select2.length))return!1;(q2select1.length>1||q2select2.length>1)&&(dstype="11x5_q2fs");var groups=[{dan:null,tuo:q2select1},{dan:null,tuo:q2select2}];return{code:dstype,groups:groups}}function total(){var n=countNmuber();if(0!=n){var count=PlayTypeRule.count(n),price=count*CPCONFIG.JX11X5.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元"),$(".ball-status-bar").unbind().bind("click",function(){n.X115_ID=++CACHE_ID,X115_CAR.push(n),q2N1.clear(),q2N2.clear(),location.href="#!/car"})}else $(".ball-status-bar").addClass("disabled").html("至少选择2个号码"),$(".ball-status-bar").unbind().bind("click",function(){return dialog("请至少选择2个号码"),!1})}publicShow("selectq2","11选5-前二","q2","至少选择2个号码");var q2N1=cp.numberSelect({min:1,max:11,ispad:!0,numberSelectBefore:function(f){return q2N1.isSelected(f)?!0:q2N2.isSelected(f)?(dialog("相同号码不能组成有效注数！"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectq2 .q2-1"}),q2N2=cp.numberSelect({min:1,max:11,ispad:!0,numberSelectBefore:function(f){return q2N2.isSelected(f)?!0:q2N1.isSelected(f)?(dialog("相同号码不能组成有效注数！"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectq2 .q2-2"});$(".glyphicon.icon-trash").on("click",function(){q2N1.clear(),q2N2.clear()})}function q3(){function countNmuber(){{var q3select1=q3N1.getSelected(),q3select2=q3N2.getSelected(),q3select3=q3N3.getSelected(),dstype="11x5_q3ds";PlayTypeRule[dstype]}if(!(q3select1&&q3select2&&q3select3&&q3select1.length&&q3select2.length&&q3select3.length))return!1;(q3select1.length>1||q3select2.length>1||q3select3.length>1)&&(dstype="11x5_q3fs");var groups=[{dan:null,tuo:q3select1},{dan:null,tuo:q3select2},{dan:null,tuo:q3select3}];return{code:dstype,groups:groups}}function total(){var n=countNmuber();if(0!=n){var count=PlayTypeRule.count(n),price=count*CPCONFIG.JX11X5.UNIT_PRICE;$(".ball-status-bar").removeClass("disabled").html("共"+count+"注,"+price+"元"),$(".ball-status-bar").unbind().bind("click",function(){n.X115_ID=++CACHE_ID,X115_CAR.push(n),q3N1.clear(),q3N2.clear(),q3N3.clear(),location.href="#!/car"})}else $(".ball-status-bar").addClass("disabled").html("至少选择3个号码"),$(".ball-status-bar").unbind().bind("click",function(){return dialog("请至少选择2个号码"),!1})}publicShow("selectq3","11选5-前三","q3","至少选择3个号码");var q3N1=cp.numberSelect({min:1,max:11,ispad:!0,numberSelectBefore:function(f){return q3N1.isSelected(f)?!0:q3N2.isSelected(f)||q3N3.isSelected(f)?(dialog("相同号码不能组成有效注数！"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectq3 .q3-1"}),q3N2=cp.numberSelect({min:1,max:11,ispad:!0,numberSelectBefore:function(f){return q3N2.isSelected(f)?!0:q3N1.isSelected(f)||q3N3.isSelected(f)?(dialog("相同号码不能组成有效注数！"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectq3 .q3-2"}),q3N3=cp.numberSelect({min:1,max:11,ispad:!0,numberSelectBefore:function(f){return q3N3.isSelected(f)?!0:q3N2.isSelected(f)||q3N1.isSelected(f)?(dialog("相同号码不能组成有效注数！"),!1):void 0},numberSelectAfter:function(){total()},numberUnSelectAfter:function(){total()},selectStyle:".red_balls",containerId:"#selectq3 .q3-3"});$(".glyphicon.icon-trash").on("click",function(){q3N1.clear(),q3N2.clear(),q3N3.clear()})}function car(){function renderCar(){if(X115_CAR.length){$("#car-no-select").addClass("hidden");var result=countCar(),listTemplate=Handlebars.compile($("#ball-select-item").html());$("#ball-select-group").html(listTemplate({list:result.list}));var totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){$(this).attr("disabled"),postBuy(function(re){"200"==re.resultCode&&(result.clear(),renderCar(),tzsuccess())})}),$("#ball-select-group  .ball-select-remove").on("click",function(){var $id=$(this).parent().data("id");result.remove($id),renderCar()})}else{$("#ball-select-group").html(""),$("#car-no-select").removeClass("hidden");var result=countCar(),totalTemplate=Handlebars.compile($("#car-total-template").html());$("#car-total").html(totalTemplate(result.total)),$("#ssq_hm").unbind().bind("click",function(){dialog("合买暂未开放！")}),$("#ssq_buy").unbind().bind("click",function(){dialog("购物车为空！")}).addClass("disabled")}totalBoard(function(qi,bei,zjstop){X115_BEI=bei,X115_QI=qi,X115_ZJSTOP=zjstop,renderCar()})}function countCar(){function type2str(t,item){var s="";return s=item.groups[0].tuo.join(","),"11x5_q2ds"==t&&(s=item.groups[0].tuo.join(",")+",",s+=item.groups[1].tuo.join(",")),"11x5_q3ds"==t&&(s=item.groups[0].tuo.join(",")+",",s+=item.groups[1].tuo.join(",")+",",s+=item.groups[2].tuo.join(",")),"11x5_q2fs"==t&&(s=item.groups[0].tuo.join(",")+" | ",s+=item.groups[1].tuo.join(",")),"11x5_q3fs"==t&&(s=item.groups[0].tuo.join(",")+" | ",s+=item.groups[1].tuo.join(",")+" | ",s+=item.groups[2].tuo.join(",")),s}function type(t){var r="";switch(t){case"11x5_q1ds":r="前一单式";break;case"11x5_q1fs":r="前一复式";break;case"11x5_r1ds":r="任选一单式";break;case"11x5_r1fs":r="任选一复式";break;case"11x5_r2ds":r="任选二单式";break;case"11x5_r2fs":r="任选二复式";break;case"11x5_r2dt":r="任选二胆拖";break;case"11x5_r3ds":r="任选三单式";break;case"11x5_r3fs":r="任选三复式";break;case"11x5_r3dt":r="任选三胆拖";break;case"11x5_r4ds":r="任选四单式";break;case"11x5_r4fs":r="任选四复式";break;case"11x5_r4dt":r="任选四胆拖";break;case"11x5_r5ds":r="任选五单式";break;case"11x5_r5fs":r="任选五复式";break;case"11x5_r5dt":r="任选五胆拖";break;case"11x5_r6ds":r="任选六单式";break;case"11x5_r6fs":r="任选六复式";break;case"11x5_r6dt":r="任选六胆拖";break;case"11x5_r7ds":r="任选七单式";break;case"11x5_r7fs":r="任选七复式";break;case"11x5_r7dt":r="任选七胆拖";break;case"11x5_r8ds":r="任选八单式";break;case"11x5_r8fs":r="任选八复式";break;case"11x5_r8dt":r="任选八胆拖";break;case"11x5_q2ds":r="前二单式";break;case"11x5_q2fs":r="前二复式";break;case"11x5_q2zxds":r="前二组选单式";break;case"11x5_q2zxfs":r="前二组选复式";break;case"11x5_q3ds":r="前三单式";break;case"11x5_q3fs":r="前三复式";break;case"11x5_q3zxds":r="前三组选单式";break;case"11x5_q3zxfs":r="前三组选复式"}return r}function remove(id){for(var j=0;j<X115_CAR.length;j++)X115_CAR[j].X115_ID==id&&X115_CAR.splice(j,1)}function clear(){X115_CAR.length=0,X115_BEI=1,X115_QI=1,X115_ZJ=!1,X115_ZJSTOP=!1}for(var total,r=[],car_count=0,car_price=0,i=0;i<X115_CAR.length;i++){var ritem={};ritem.count=PlayTypeRule.count(X115_CAR[i]),ritem.price=ritem.count*CPCONFIG.JX11X5.UNIT_PRICE,ritem.redStr=type2str(X115_CAR[i].code,X115_CAR[i]),ritem.groups=X115_CAR[i].groups,ritem.type=type(X115_CAR[i].code),ritem.code=X115_CAR[i].code,ritem.id=X115_CAR[i].X115_ID,car_count+=ritem.count,car_price+=ritem.price,r.push(ritem)}return total={bei:X115_BEI,qi:X115_QI,count:car_count,price:car_price*X115_QI*X115_BEI,zjstop:X115_ZJSTOP,zj:X115_ZJ},{list:r,count:car_count,price:car_price,remove:remove,total:total,clear:clear}}function totalBoard(fn){function syanc(){setTimeout(function(){$qiInput.val(qi),$beiInput.val(bei),fn&&fn(qi,bei,zjstop)},100)}var $qiInput=$("#ball-qc"),$beiInput=$("#ball-bei"),$zjstopInput=($("input#ball-zj"),$("input#ball-zjstop")),bei=$beiInput.val().trim(),qi=$qiInput.val().trim(),zjstop=$zjstopInput.prop("checked");$(".buy-bar-qcminus").unbind().bind("click",function(){qi--,qi=1>qi?1:qi,syanc()}),$(".buy-bar-qcplus").unbind().bind("click",function(){qi++,qi=qi>99?99:qi,syanc()}),$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($qiInput).unbind().bind("keyup",function(){var $val=$($qiInput).val();$val=$val.replace(/\D/g,""),$val=$val>20?20:$val,$(this).val($val),qi=Number($val),syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>20?20:$val,$(this).val($val),bei=Number($val),syanc()}),$("input#ball-zjstop").unbind().bind("click",function(){var $checked=$(this).prop("checked");zjstop=$checked,syanc()})}function getOneX115(){function reNumber(n){return cp.shuffle({min:1,max:11,padding:1,sort:!0,count:n})}var X115={},type="",groups=[];switch(u_type){case"rx1":type="11x5_r1ds",groups=[{dan:null,tuo:reNumber(1)}];break;case"rx2":type="11x5_r2ds",groups=[{dan:null,tuo:reNumber(2)}];break;case"rx3":type="11x5_r3ds",groups=[{dan:null,tuo:reNumber(3)}];break;case"rx4":type="11x5_r4ds",groups=[{dan:null,tuo:reNumber(4)}];break;case"rx5":type="11x5_r5ds",groups=[{dan:null,tuo:reNumber(5)}];break;case"rx6":type="11x5_r6ds",groups=[{dan:null,tuo:reNumber(6)}];break;case"rx7":type="11x5_r7ds",groups=[{dan:null,tuo:reNumber(7)}];break;case"rx8":type="11x5_r8ds",groups=[{dan:null,tuo:reNumber(8)}];break;case"q2":type="11x5_q2ds",groups=[{dan:null,tuo:reNumber(1)},{dan:null,tuo:reNumber(1)}];break;case"q3":type="11x5_q3ds",groups=[{dan:null,tuo:reNumber(1)},{dan:null,tuo:reNumber(1)},{dan:null,tuo:reNumber(1)}];break;default:type="11x5_r3ds",groups=[{dan:null,tuo:reNumber(3)}]}return X115.code=type,X115.groups=groups,X115.X115_ID=++CACHE_ID,X115}function tzsuccess(){$("#f3dcar,#selectX115,#carfixed").hide(),$("#tzsuccess").show()}function userBuyData(){function mergeTZ(){if(!X115Car)return!1;var need={gameType:"106",isStop:"",buyType:"0",buyNumberArray:"",issueArray:[],title:"0",explain:"0",secrecy:"1",splitAmount:"0",isUpload:"0",buyAmount:0,floorsAmount:"0",totalSum:"0",qcdy:"0",unoid:"0",commision:"0",commisiontype:"0"};return need.totalSum=Number(X115Car.total.price),need.isStop=X115Car.total.zjstop?1:0,need.buyNumberArray=buyArrayGenerator(X115Car.list),need.buyType=X115Car.total.qi>1?1:0,need.title=X115Car.total.qi>1?"江西11选5"+X115_NOWQI+"期追号方案":"江西11选5"+X115_NOWQI+"期追号方案",need}function countQ2(j){for(var r=[],g=j.groups[0].tuo,c=j.groups[1].tuo,h=0;h<g.length;h++)for(var a=g[h],d=0;d<c.length;d++){var f=c[d];if(a!=f){var n=[a,f];r.push({code:"11x5_q2ds",count:1,price:2,redStr:n.join(","),type:"前2单式"})}}return r}function countQ3(n){for(var r=[],l=n.groups[0].tuo,e=n.groups[1].tuo,c=n.groups[2].tuo,m=0;m<l.length;m++)for(var b=l[m],g=0;g<e.length;g++){var k=e[g];if(b!==k)for(var f=0;f<c.length;f++){var a=c[f];if(b!==a&&k!==a){var n=[b,k,a];r.push({code:"11x5_q3ds",count:1,price:2,redStr:n.join(","),type:"前3单式"})}}}return r}function buyArrayGenerator(list){function join(item){var dataTmp={buyNumber:"",typeId:"00",seleId:"01",sum:0};if(!item||!item.count)return!1;var rs=item.redStr.split(" ").join(",");switch(dataTmp.buyNumber=rs,dataTmp.sum=item.price,dataTmp.multiple=X115Car.total.bei,item.code){case"11x5_r1ds":dataTmp.typeId="01",dataTmp.seleId="01";break;case"11x5_r1fs":dataTmp.typeId="01",dataTmp.seleId="02";break;case"11x5_r2ds":dataTmp.typeId="02",dataTmp.seleId="01";break;case"11x5_r2fs":dataTmp.typeId="02",dataTmp.seleId="02";break;case"11x5_r2dt":dataTmp.typeId="02",dataTmp.seleId="03";break;case"11x5_r3ds":dataTmp.typeId="03",dataTmp.seleId="01";break;case"11x5_r3fs":dataTmp.typeId="03",dataTmp.seleId="02";break;case"11x5_r3dt":dataTmp.typeId="03",dataTmp.seleId="03";
break;case"11x5_r4ds":dataTmp.typeId="04",dataTmp.seleId="01";break;case"11x5_r4fs":dataTmp.typeId="04",dataTmp.seleId="02";break;case"11x5_r4dt":dataTmp.typeId="04",dataTmp.seleId="03";break;case"11x5_r5ds":dataTmp.typeId="05",dataTmp.seleId="01";break;case"11x5_r5fs":dataTmp.typeId="05",dataTmp.seleId="02";break;case"11x5_r5dt":dataTmp.typeId="05",dataTmp.seleId="03";break;case"11x5_r6ds":dataTmp.typeId="06",dataTmp.seleId="01";break;case"11x5_r6fs":dataTmp.typeId="06",dataTmp.seleId="02";break;case"11x5_r6dt":dataTmp.typeId="06",dataTmp.seleId="03";break;case"11x5_r7ds":dataTmp.typeId="07",dataTmp.seleId="01";break;case"11x5_r7fs":dataTmp.typeId="07",dataTmp.seleId="02";break;case"11x5_r7dt":dataTmp.typeId="07",dataTmp.seleId="03";break;case"11x5_r8ds":dataTmp.typeId="08",dataTmp.seleId="01";break;case"11x5_r8fs":dataTmp.typeId="08",dataTmp.seleId="02";break;case"11x5_r8dt":dataTmp.typeId="08",dataTmp.seleId="03";break;case"11x5_q2ds":dataTmp.typeId="09",dataTmp.seleId="01";break;case"11x5_q2fs":dataTmp.typeId="09",dataTmp.seleId="02";break;case"11x5_q2zxds":dataTmp.typeId="11",dataTmp.seleId="01";break;case"11x5_q2zxfs":dataTmp.typeId="11",dataTmp.seleId="02";break;case"11x5_q3ds":dataTmp.typeId="10",dataTmp.seleId="01";break;case"11x5_q3fs":dataTmp.typeId="10",dataTmp.seleId="10";break;case"11x5_q3zxds":dataTmp.typeId="12",dataTmp.seleId="01";break;case"11x5_q3zxfs":dataTmp.typeId="12",dataTmp.seleId="02"}return dataTmp}var r=[];return $(list).each(function(index,item){if(item){var it;if("11x5_q2fs"==item.code){var rr=countQ2(item);$(rr).each(function(index,item2){r.push(join(item2))})}else if("11x5_q3fs"==item.code){var rr=countQ3(item);$(rr).each(function(index,item2){r.push(join(item2))})}else it=join(item);it&&r.push(it)}}),r}function getIssues(fn){function getRightIssue(now,r,len){for(var n=0,re=[],i=0;i<r.length;i++)if(r[i].issue==now){n=i;for(var j=0;len>j;j++)re.push(r[n+j])}return re}function merge(list){var r=[];return $(list).each(function(index,item){r.push({issue:item.issue,multiple:X115Car.total.bei})}),r}var r=[];action.getIssue({lottery:"JX11X5",issues:X115Car.total.qi+1||X115_QI+1},function(re){var rr=getRightIssue(X115_NOWQI,re,X115Car.total.qi||X115_QI);r=merge(rr),fn(r)})}var X115Car=countCar();if(!X115Car)return null;var d={gameType:"106",format:"ajax",needPay:"",lotoGson:{}};return d.needPay=X115Car.total.price,d.lotoGson=mergeTZ(),{d:d,getIssue:getIssues}}function postBuy(fn){var u=userBuyData();if(0==u)return dialog("购物车是空的！");var udata=u.d;dialog("loading","正在投注！"),u.getIssue(function(r){r&&r.length||dialog("投注异常，请重试"),udata.lotoGson.issueArray=r,udata.lotoGson=JSON.stringify(udata.lotoGson),action.ssqTz(udata,function(re){TZ_INFO($.parseJSON(re),fn)})})}$("#selectfc3d,#jx11x5-history,.wzl-fixed").hide(function(){$(".wzl-nav-bar").children().eq(1).hide(),$(".wzl-cartext").removeClass("hidden"),$(".ball-status-bar").addClass("disabled").html("请选择号码"),$("#f3dcar,#carfixed").fadeIn(),renderCar()}),$("#car-addhm").bind("click",function(){location.href="#!/rx3"}),$("#car-addjx").unbind().bind("click",function(){var X115=getOneX115();X115_CAR.push(X115),renderCar()}),$(".glyphicon.icon-trash").unbind().bind("click",function(){var s=countCar();s.clear(),renderCar()})}var X115_CAR=[],X115_BEI=1,X115_QI=1,X115_ZJ=!1,X115_ZJSTOP=!1,X115_NOWQI=null,CACHE_ID=0,u_type="rx3",PlayTypeRule=cp.PlayTypeRule,CPCONFIG=cp.CONFIG,routes={"/rx1":function(){rx1()},"/rx2":function(){rx2()},"/rx3":function(){rx3()},"/rx4":function(){rx4()},"/rx5":function(){rx5()},"/rx6":function(){rx6()},"/rx7":function(){rx7()},"/rx8":function(){rx8()},"/q2":function(){q2()},"/q3":function(){q3()},"/car":function(){car()},index:function(){rx3()},init:function(){init()}};Router(routes)},result=function(ac){function index(){function render(s){if(s&&s.length){$(".container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").html(listTemplate({list:s}))}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}function mergeData(d){if(!d)return[];{var s=formatData(d),ssq=machResult("51",s,function(s){for(var n=s.kjCode.replace("+"," ").split(" "),str="",i=0;i<n.length;i++)str+=i==n.length-1?"<span class='blue_balls'>"+n[i]+"</span>":"<span class='red_balls'>"+n[i]+"</span>";return s.str=str,s.href="resultssq.html",s}),fc3d=machResult("52",s,function(s){for(var n=s.kjCode.split(""),str="",i=0;i<n.length;i++)str+=" <span class='red_balls'>"+n[i]+"</span>";return s.str=str,s.href="resultfc3d.html",s}),dlt=machResult("23529",s,function(s){for(var n=s.kjCode.replace("+"," ").split(" "),str="",i=0;i<n.length;i++)str+=i>=n.length-2?" <span class='blue_balls'>"+n[i]+"</span>":" <span class='red_balls'>"+n[i]+"</span>";return s.str=str,s.href="resultdlt.html",s}),qxc=machResult("10022",s,function(s){for(var n=s.kjCode.split(""),str="",i=0;i<n.length;i++)str+=" <span class='red_balls'>"+n[i]+"</span>";return s.str=str,s.href="resultqxc.html",s}),X115=machResult("23528",s,function(s){for(var n=s.kjCode.replace("+"," ").split(" "),str="",i=0;i<n.length;i++)str+=i==n.length-1?" <span class='blue_balls'>"+n[i]+"</span>":" <span class='red_balls'>"+n[i]+"</span>";return s.str=str,s.href="resultqlc.html",s}),pl3=machResult("33",s,function(s){for(var n=s.kjCode.split(""),str="",i=0;i<n.length;i++)str+=" <span class='red_balls'>"+n[i]+"</span>";return s.str=str,s.href="resultpl3.html",s});machResult("11",s,function(s){var str="";return str+="   <div class='result-jc'><span class='result-jc-result'>"+s.kjCode+"</span></div>",s.str=str,s.href="resultjczq.html",s})}return[ssq,dlt,fc3d,qxc,X115,pl3]}function formatData(d){for(var r=[],i=0;i<d.length;i++)r.push({lotName:d[i].lotName,kjCode:d[i].kjCode,lotIssue:d[i].lotIssue,endTime:d[i].endTime,lotId:d[i].lotId});return r}function machResult(id,d,fn){for(var r={},i=0;i<d.length;i++)d[i].lotId==id&&(r=d[i],r.time=d[i].endTime.split(" ")[0]);return fn&&fn(r)||r}action.queryResult(function(d){var s=mergeData(d);render(s)})}function jczq(){function render(s){function resultListView(d){action.queryJczq(d,function(d2){renderList(d2)})}function renderIssue(list){$("#issue").html(list[0].dstr+"<span class='caret'></span>").on("click",function(){$("#jczqissue").toggle()});for(var s="",i=0;i<list.length;i++)s+="<li><a href='javacript:;' issue="+list[i].issueNumber+">"+list[i].dstr+"</a></li>";$("#jczqissue").html(s).delegate("a","click",function(){var issue=$(this).attr("issue");resultListView({issueNumber:issue}),$("#jczqissue").hide()})}function renderList(list){if(list=formatData(list),s&&s.length){$(".container-mask").hide();var listTemplate=Handlebars.compile($("#jc-list-temp").html());$("#result-group").html(listTemplate({list:list}))}else $("#result-group li:first").html("  暂无开奖数据 %>_<% 请稍后再试")}function formatIssue(issue){for(var i=0;i<issue.length;i++){var d=issue[i].issueNumber.toString(),s=d.slice(0,4)+"-"+d.slice(4,6)+"-"+d.slice(6);issue[i].dstr=s}return issue}var issue=formatIssue(s);renderIssue(issue),resultListView(s[0])}function formatData(s){function replaceWeek(w){var week="";switch(w){case 0:week="周日";break;case 1:week="周一";break;case 2:week="周二";break;case 3:week="周三";break;case 4:week="周四";break;case 5:week="周五";break;case 6:week="周六"}return week}for(var i=0;i<s.length;i++){var dateArr=s[i].creationTime.split(" ")[0].split("-"),date=new Date;if(date.setDate(dateArr[0]),date.setDate(dateArr[1],dateArr[2]),s[i].week=replaceWeek(date.getDay()),s[i].matchAll){var sr=s[i].matchAll.split("-");s[i].result=sr[0]>sr[1]?"胜":"负"}else s[i].result="无",s[i].matchAll="无";s[i].n=i>=10?"0"+(i+1):"00"+(i+1)}return s}action.queryJczqIssue(function(d){d&&d.length?render(d):$(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")})}function ssq(n){function loadssq(fn){action.querySsq({pageno:n,pagesize:20},function(d){$(".add-more-data").text("点击我加载更多..."),listView(d),fn&&fn()})}function formatSsqData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+=i==n.length-1?"<span class='blue_balls'>"+n[i]+"</span>":"<span class='red_balls'>"+n[i]+"</span>";return str}function concatKj(n1,n2,n3){var r=[];n1=n1.split(","),n2=n2.split(","),n3=n3.split(",");for(var i=0;i<n1.length;i++)r.push({n:"",c:n1[i],p:""});for(var j=0;j<n2.length;j++)r[j].p=formatMoeny(n2[j]);for(var k=0;k<n3.length;k++)r[k].n=n3[k];return r}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.replace("+"," ").split(" ")),kjdata=concatKj(d[i].winCount,d[i].winMoney,d[i].winName);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].kjdata=kjdata,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatSsqData(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loadssq(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadssq()})}function dlt(n){function loaddlt(fn){action.queryDlt({pageno:n,pagesize:20},function(d){$(".add-more-data").text("点击我加载更多..."),listView(d),fn&&fn()})}function formatDltData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+=i>=n.length-2?"<span class='blue_balls'>"+n[i]+"</span>":"<span class='red_balls'>"+n[i]+"</span>";return str}function concatKj(n1,n2,n3){var r=[];n1=n1.split(","),n2=n2.split(","),n3=n3.split(",");for(var i=0;i<n1.length;i++)r.push({n:"",c:n1[i],p:""});for(var j=0;j<n2.length;j++)r[j].p=formatMoeny(n2[j]);for(var k=0;k<n3.length;k++)r[k].n=n3[k];return r}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.replace("+"," ").split(" ")),kjdata=concatKj(d[i].winCount,d[i].winMoney,d[i].winName);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].kjdata=kjdata,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatDltData(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loaddlt(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loaddlt()})}function fc3d(n){function loadfc3d(fn){action.queryFc3d({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatFc3dData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function concatKj(n1,n2,n3){var r=[];n1=n1.split(","),n2=n2.split(","),n3=n3.split(",");for(var i=0;i<n1.length;i++)r.push({n:"",c:n1[i],p:""});for(var j=0;j<n2.length;j++)r[j].p=formatMoeny(n2[j]);for(var k=0;k<n3.length;k++)r[k].n=n3[k];return r}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split("")),kjdata=concatKj(d[i].winCount,d[i].winMoney,d[i].winName);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].kjdata=kjdata,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatFc3dData(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loadfc3d(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadfc3d()})}function jxssc(n){function loadjxssc(fn){action.queryJxssc({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatJxsscData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split(""));d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatJxsscData(s.lotolist);render(d)}loadjxssc(function(){$(".account-nav-group li").eq(1).click()}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadjxssc()})}function cqssc(n){function loadcqssc(fn){action.queryCqssc({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatJxsscData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split(""));d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatJxsscData(s.lotolist);render(d)}loadcqssc(function(){$(".account-nav-group li").eq(1).click()}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadcqssc()})}function X115(n){function loadX115(fn){action.queryX115({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatX115(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+=i==n.length-1?" <span class='blue_balls'>"+n[i]+"</span>":"<span class='red_balls'>"+n[i]+"</span>";return str}function concatKj(n1,n2,n3){var r=[];n1=n1.split(","),n2=n2.split(","),n3=n3.split(",");for(var i=0;i<n1.length;i++)r.push({n:"",c:n1[i],p:""});for(var j=0;j<n2.length;j++)r[j].p=formatMoeny(n2[j]);for(var k=0;k<n3.length;k++)r[k].n=n3[k];return r}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split("+")[0].split(" ").concat(d[i].kjCode.split("+")[1])),kjdata=concatKj(d[i].winCount,d[i].winMoney,d[i].winName);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].kjdata=kjdata,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatX115(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loadX115(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadX115()})}function qxc(n){function loadqxc(fn){action.queryqxc({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatQxc(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function concatKj(n1,n2,n3){var r=[];n1=n1.split(","),n2=n2.split(","),n3=n3.split(",");for(var i=0;i<n1.length;i++)r.push({n:"",c:n1[i],p:""});for(var j=0;j<n2.length;j++)r[j].p=formatMoeny(n2[j]);for(var k=0;k<n3.length;k++)r[k].n=n3[k];return r}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split("")),kjdata=concatKj(d[i].winCount,d[i].winMoney,d[i].winName);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].kjdata=kjdata,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatQxc(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loadqxc(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadqxc()})}function qlc(n){function loadqlc(fn){action.queryqlc({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatQlc(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+=i==n.length-1?"<span class='blue_balls'>"+n[i]+"</span>":"<span class='red_balls'>"+n[i]+"</span>";return str}function concatKj(n1,n2,n3){var r=[];n1=n1.split(","),n2=n2.split(","),n3=n3.split(",");for(var i=0;i<n1.length;i++)r.push({n:"",c:n1[i],p:""});for(var j=0;j<n2.length;j++)r[j].p=formatMoeny(n2[j]);for(var k=0;k<n3.length;k++)r[k].n=n3[k];return r}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split("+")[0].split(" ")),kjdata=concatKj(d[i].winCount,d[i].winMoney,d[i].winName);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].kjdata=kjdata,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatQlc(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loadqlc(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadqlc()})}function pl3(n){function loadpl3(fn){action.querypl3({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatFc3dData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function concatKj(n1,n2,n3){var r=[];n1=n1.split(","),n2=n2.split(","),n3=n3.split(",");for(var i=0;i<n1.length;i++)r.push({n:"",c:n1[i],p:""});for(var j=0;j<n2.length;j++)r[j].p=formatMoeny(n2[j]);for(var k=0;k<n3.length;k++)r[k].n=n3[k];return r}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split("")),kjdata=concatKj(d[i].winCount,d[i].winMoney,d[i].winName);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].kjdata=kjdata,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatFc3dData(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loadpl3(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadpl3()})}function pl5(n){function loadpl5(fn){action.querypl5({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatPl5Data(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function concatKj(n1,n2,n3){var r=[];n1=n1.split(","),n2=n2.split(","),n3=n3.split(",");for(var i=0;i<n1.length;i++)r.push({n:"",c:n1[i],p:""});for(var j=0;j<n2.length;j++)r[j].p=formatMoeny(n2[j]);for(var k=0;k<n3.length;k++)r[k].n=n3[k];return r}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split("")),kjdata=concatKj(d[i].winCount,d[i].winMoney,d[i].winName);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].kjdata=kjdata,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,kjdata:d[i].kjdata,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatPl5Data(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loadpl5(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadpl5()})}function klsf(n){function loadklsf(fn){action.queryklsf({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatKlsfData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);
for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split(" "));d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){$(this).data("code")})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatKlsfData(s.lotolist);render(d)}loadklsf(function(){$(".account-nav-group li").eq(1).click()}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadklsf()})}function ahks(n){function loadahks(fn){action.queryahks({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatAhksData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split(""));d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){$(this).data("code")})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatAhksData(s.lotolist);render(d)}loadahks(function(){$(".account-nav-group li").eq(1).click()}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadahks()})}function dlc(n){function loaddlc(fn){action.querydlc({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatDlcData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split(" "));d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){$(this).data("code")})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatDlcData(s.lotolist);render(d)}loaddlc(function(){$(".account-nav-group li").eq(1).click()}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loaddlc()})}function gd115(n){function loadgd115(fn){action.querygd115({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatGd115Data(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split(" "));d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){var json=$(this).data("code");detailView(json)})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatGd115Data(s.lotolist);render(d)}function detailView(d){$(".account-nav-group li:first").removeClass("active").next().addClass("active"),$("#result-detail").hide(),$("#issue-detail").show();var listTemplate=Handlebars.compile($("#issue-detail-temp").html());$("#issue-detail").html(listTemplate(d))}loadgd115(function(){$(".account-nav-group li").eq(1).click()}),$(".account-nav-group li").on("click",function(){var index=$(this).index();if(0==index)$(".account-nav-group li").removeClass("active").eq(index).addClass("active"),$("#result-detail").show(),$("#issue-detail").hide();else{var d=$("#result-group li:first").data("code");detailView(d)}}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadgd115()})}function sd115(n){function loadsd115(fn){action.querysd11x5({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatSd115Data(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split(" "));d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){$(this).data("code")})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatSd115Data(s.lotolist);render(d)}loadsd115(function(){$(".account-nav-group li").eq(1).click()}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadsd115()})}function qyh(n){function loadqyh(fn){action.queryqyh({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatQyhData(d){function concatNum(n){for(var str="",i=0;i<n.length;i++)str+="<span class='red_balls'>"+n[i]+"</span>";return str}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode.split(" "));d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){$(this).data("code")})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatQyhData(s.lotolist);render(d)}loadqyh(function(){$(".account-nav-group li").eq(1).click()}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadqyh()})}function sfc(n){function loadsfc(fn){action.querysfc({pageno:n,pagesize:20},function(re){$(".add-more-data").text("点击我加载更多..."),listView(re),fn&&fn()})}function formatSfcData(d){function concatNum(n){var str="";return str+="<span class='result-jc-result'>"+n+"</span>"}function formatMoeny(num){var sign,cents;num=num.toString().replace(/\$|\,/g,""),isNaN(num)&&(num="0"),sign=num==(num=Math.abs(num)),num=Math.floor(100*num+.50000000001),cents=num%100,num=Math.floor(num/100).toString(),10>cents&&(cents="0"+cents);for(var i=0;i<Math.floor((num.length-(1+i))/3);i++)num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));return(sign?"":"-")+num}for(var i=0;i<d.length;i++){var dstr=d[i].endTime.split(" ")[0],codeStr=concatNum(d[i].kjCode);d[i].dstr=dstr,d[i].codeStr=codeStr,d[i].tj=formatMoeny(d[i].bonusBalance),d[i].xl=formatMoeny(d[i].sale),d[i].wb=Math.floor(d[i].bonusBalance/5e6);var json={lotIssue:d[i].lotIssue,dstr:d[i].dstr,codeStr:d[i].codeStr,xl:d[i].xl,tj:d[i].tj,wb:d[i].wb};d[i].json=JSON.stringify(json)}return d}function listView(s){function render(s){if(s&&s.length){$("#issue-detail,.container-mask").hide();var listTemplate=Handlebars.compile($("#result-list-temp").html());$("#result-group").append(listTemplate({list:s})).delegate("li","click",function(){$(this).data("code")})}else $(".container-mask .tips").html("  暂无开奖数据 %>_<% 请稍后再试")}var d=formatSfcData(s.lotolist);render(d)}loadsfc(function(){$(".account-nav-group li").eq(1).click()}),$(".add-more-data").click(function(){$(this).text("正在加载加载更多..."),n++,loadsfc()})}switch(ac){case"index":index();break;case"ssq":ssq(1);break;case"jczq":jczq(1);break;case"dlt":dlt(1);break;case"fc3d":fc3d(1);break;case"jxssc":jxssc(1);break;case"X115":X115(1);break;case"pl3":pl3(1);break;case"qxc":qxc(1);break;case"qlc":qlc(1);break;case"cqssc":cqssc(1);break;case"pl5":pl5(1);break;case"klsf":klsf(1);break;case"ahks":ahks(1);break;case"dlc":dlc(1);break;case"gd115":gd115(1);break;case"sd115":sd115(1);break;case"qyh":qyh(1);break;case"sfc":sfc(1)}},jc=function(ac){function leagueM(){function matchEvent(red){function removeCls(c){for(var re=[],i=0;i<cls.length;i++)cls[i]!==c&&re.push(cls[i]);return re}function doHideShow(c,hideOrShow){$(c).each(function(index,item){hideOrShow?$(item).removeClass("match-total").hide():$(item).show().addClass("match-total")})}var cls=red;$("#matchall").unbind().bind("click",function(){cls=[],$(".league-list li").each(function(){var lid=$(this).data("league-id");cls.push(".lid_"+lid),$(this).addClass("active")})}),$("#matchno").unbind().bind("click",function(){cls=[],$(".league-list li").each(function(){if($(this).hasClass("active"))$(this).removeClass("active");else{$(this).addClass("active");var lid=$(this).data("league-id");cls.push(".lid_"+lid)}})}),$("#match5").unbind().bind("click",function(){cls=m5re;for(var ob={},i=0;i<m5re.length;i++){var id=m5re[i].split("_")[1];ob[id]=!0}$(".league-list li").each(function(){var lid=$(this).data("league-id");ob[lid]?$(this).addClass("active"):$(this).removeClass("active")})}),$(".league-list li").unbind().bind("click",function(){var lid=$(this).data("league-id");$(this).hasClass("active")?($(this).removeClass("active"),cls=removeCls(".lid_"+lid)):($(this).addClass("active"),cls.push(".lid_"+lid))}),$("#domatch").unbind().bind("click",function(){var base=red;doHideShow(base,!0),doHideShow(cls),$("#jc-match").hide(),$("#selectjc").show(),$(".jc-subtitle-len").each(function(index){var len=$(".jc-gamelist").eq(index).find(".match-total").length;$(this).html(len)}),$("#jc-spf .account-nav-group li,#jc-rqspf .account-nav-group li").each(function(index){var len=$(".jc-content-item").eq(index).find(".match-total").length,s=$(this).text().substring(0,4);$(this).html(s+"("+len+")")})})}var re=[],rea=[],m5re=[];for(var i in leagueList)if("id"!==i)switch(re.push({id:leagueList[i].id,name:i}),rea.push(".lid_"+leagueList[i].id),i){case"英超":case"法甲":case"意甲":case"德甲":case"西甲":m5re.push(".lid_"+leagueList[i].id)}var jcTemplate=Handlebars.compile($("#jcmatch-match-item-handlebars").html());$("#jc-match .league-list").html(jcTemplate({list:re})),matchEvent(rea)}function init(){$(".wzl-nav-dropdown").click(function(){dropdownMask.toggle(),$("#wzl-dropdown a").click(function(){var h=$(this).prop("href");return dialog({type:"select",message:"切换玩法将清空所选对阵",onConfirm:function(){location.href=h},onCancel:function(){setTimeout(function(){dialog.remove()},1e3)}}),!1})}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})}),$(".jc-match-i").on("click",function(){$("#selectjc,#jc-match").slideToggle()}),action.queryUserInfo({},function(){})}function spf(){function countCar(re){if(!re||!re.length||re.length<2)$("#buycarfixedbtn a.ball-status-bar").addClass("disabled").html("已经选择了0场比赛"),$(".ball-status-bar").unbind().bind("click",function(){dialog("请至少选择两场比赛")});else{var slen=re.length;$("#buycarfixedbtn a.ball-status-bar").removeClass("disabled").html("已经选择了"+slen+"场比赛"),$(".ball-status-bar").unbind().bind("click",function(){location.href="#!/car"})}}$("#jccar,#carfixed,#jc-rqspf,#jc-match").hide(),$("#selectjc,#buycarfixedbtn,.wzl-nav-dropdown,#jc-spf,.jc-match-i").show(),$(".wzl-nav-dropdown  .icon-dropdown-white").html("胜平负"),$(".wzl-cartext").addClass("hidden"),loaded.spf?countCar():action.jcMatchData({},function(re){if("500"!=re.resultCode||0!=re.length){var r=matchData(re),jcTemplate=Handlebars.compile($("#jcmatch-item-handlebars").html());$("#jcspf-gamelist-h").html(jcTemplate({list:r.h})).hide(),$("#jcspf-gamelist-all").html(jcTemplate({list:r.all})).show(),$("#jcspf-gamelist-l").html(jcTemplate({list:r.l})).hide(),jcGameSelector.init({data:r.data,gameType:"320",viewSelector:".jc-select-span",selectBefore:function(me,matchNo,spf){var selected=me.getSelected();return me.selected[matchNo]?me.selected[matchNo][spf]?!1:!0:selected&&selected.length>8?(dialog("tips","最多选择八场比赛"),!1):!0},selectAfter:function(result){countCar(result)}}),renderTab("#jc-spf",r),loaded.spf=!0,loaded.spfData=r.data}else dialog("暂无数据...")}),$(".account-nav-group li").on("click",function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$(".jc-content-item").hide().eq(index).show()}),$(".glyphicon.icon-trash").on("click",function(){jcGameSelector.clear(),countCar()})}function rqspf(){function countCar(re){if(!re||!re.length||re.length<2)$("#buycarfixedbtn a.ball-status-bar").addClass("disabled").html("已经选择了0场比赛"),$(".ball-status-bar").unbind().bind("click",function(){dialog("请至少选择2场比赛")});else{var slen=re.length;$("#buycarfixedbtn a.ball-status-bar").removeClass("disabled").html("已经选择了"+slen+"场比赛"),$(".ball-status-bar").unbind().bind("click",function(){location.href="#!/car"})}}$("#jccar,#carfixed,#jc-spf,#jc-match").hide(),$(".wzl-cartext").addClass("hidden"),$("#selectjc,#buycarfixedbtn,#jc-rqspf,.wzl-nav-dropdown,.jc-match-i").show(),$(".wzl-nav-dropdown.icon-dropdown-white").html("让球胜平负"),$(".account-nav-group li").on("click",function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$("ul.jc-spf-list").hide().eq(index).show()}),loaded.rqspf?countCar():action.jcSpfMatch({},function(re){if("500"!=re.resultCode||0!=re.length){var r=matchData(re),jcTemplate=Handlebars.compile($("#jcmatch-rqspf-item-handlebars").html());$("#jcrqspf-gamelist-h").html(jcTemplate({list:r.h})).hide(),$("#jcrqspf-gamelist-all").html(jcTemplate({list:r.all})).show(),$("#jcrqspf-gamelist-l").html(jcTemplate({list:r.l})).hide(),jcGameSelector.init({data:r.data,gameType:"301",viewSelector:"#jc-rqspf .jc-select-span",selectBefore:function(me,matchNo,spf){var selected=me.getSelected();return me.selected[matchNo]?me.selected[matchNo][spf]?!1:!0:selected&&8==selected.length?(dialog("tips","最多选择八场比赛"),!1):!0},selectAfter:function(result){countCar(result)}}),renderTab("#jc-rqspf",r),loaded.rqspf=!0,loaded.rqspfData=r.data}else dialog("暂无数据...")}),$(".account-nav-group li").on("click",function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$(".jc-content-item").hide().eq(index).show()}),$(".glyphicon.icon-trash").on("click",function(){jcGameSelector.clear(),countCar()})}function car(){function countCar(){function clear(){jcGameSelector&&jcGameSelector.clear(),JC_BEI=1}function remove(id){jcGameSelector&&jcGameSelector.remove(id)}function totalSum(dan,chuan,tuo){function eachArray(arr,num){for(var t=[[]],r=[],i=0,n=arr.length;n>i;i++)for(var j=0,k=t.length;k>j;j++){var ss=t[j].concat([arr[i]]);ss.length<num?t.push(ss):r.push(ss)}return r}function cl(a){function allArr(arr,n){if(n>=arr.length)array.push(code.slice()),code.length=n-1;else{for(var i=0,j=arr[n].length;j>i;i++)code.push(arr[n][i]),allArr(arr,n+1);n&&(code.length=n-1)}}var n=0,array=[],code=[];return allArr(a,n),array}function multiplyCount(arr,flag){var a=1;if(0==arr.length)return 0;for(var i=0,l=arr.length;l>i;i++)a*=flag?arr[i].maxSp:arr[i].num;return a}for(var count=0,maxPrice=0,gg=chuan,tuo=tuo,dan=dan,isShowhh=!1,i=0;i<gg.length;i++){var chuanN=gg[i].n.split("_"),fs=[chuanN[0]],guoguan_num=chuanN[0],array="",arr=[],dan_lenth=dan.length;if(dan_lenth>0){var danArray=[];if(dan_lenth==guoguan_num)array=eachArray(dan,guoguan_num);else{for(var tuoTemp=eachArray(tuo,guoguan_num-dan_lenth),cc=0;cc<tuoTemp.length;cc++)danArray.push(dan.concat(tuoTemp[cc]));array=danArray}}else array=eachArray(tuo,guoguan_num);for(var m=0,l=array.length;l>m;m++){var v=cl(array[m]);if(isShowhh)for(var a=0,aa=v.length;aa>a;a++)for(var spf_num=0,rqspf_num=0,cbf_num=0,jqs_num=0,bqc_num=0,b=0,bb=v[a].length;bb>b;b++){var rq=v[a][b];if(0==rq.box?spf_num++:4==rq.box?rqspf_num++:1==rq.box?jqs_num++:2==rq.box?cbf_num++:3==rq.box&&bqc_num++,spf_num==guoguan_num||rqspf_num==guoguan_num||jqs_num==guoguan_num||cbf_num==guoguan_num||bqc_num==guoguan_num){v[a]=[];break}}arr=arr.concat(v)}for(var j=0,jj=fs.length;jj>j;j++)for(var k=0,kk=arr.length;kk>k;k++)for(var len=eachArray(arr[k],fs[j]),n=0,nn=len.length;nn>n;n++){if(isShowhh)for(var a=0,b=0,c=0,d=0,e=0,m=0,mm=len[n].length;mm>m;m++){var ee=len[n][m];0==ee.box?a++:4==ee.box?e++:1==ee.box?b++:2==ee.box?c++:3==ee.box&&d++,(a==fs[j]||b==fs[j]||c==fs[j]||d==fs[j]||e==fs[j])&&(len[n]=[])}count+=multiplyCount(len[n]),maxPrice+=multiplyCount(len[n],"0")}}var max=2*maxPrice;return{item:count,maxWin:max}}var car_count=0,car_price=0,car_maxwin=0,total={},list=[];if(!jcGameSelector)return!1;list=jcGameSelector.getSelectGame();var r=jcGameSelector.content(),gameTotal=totalSum(r.group.dan,r.chuan,r.group.tuo);return car_count=gameTotal.item,car_price=2*gameTotal.item,car_maxwin=gameTotal.maxWin.toFixed(2),total.bei=JC_BEI,total.count=car_count,total.price=car_price*JC_BEI,total.car_count=car_count,total.car_maxwin=car_maxwin*JC_BEI,{list:list,count:car_count,price:car_price,remove:remove,total:total,clear:clear,jcGameSelector:jcGameSelector}}function renderCar(){function renderList(n){var list=n||countCar().list,jcTemplate=Handlebars.compile($("#jcspf-gamelist-template").html());$("#ball-select-group").html(jcTemplate({data:list})),$(".game-bet-bd .jc-select-span").unbind().bind("click",function(){var matchNo=$(this).parent().data("matchno"),s=$(this).index();$(this).hasClass("active")?($(this).removeClass("active"),$(".m_"+matchNo+"_"+s).removeClass("active")):($(this).addClass("active"),$(".m_"+matchNo+"_"+s).addClass("active")),jcGameSelector.add(matchNo,$(this).index()),renderCar()}),$("#ball-select-group .glyphicon.icon-trash").unbind().bind("click",function(){var matchNo=$(this).next(".game-bet-bd").data("matchno");jcGameSelector.remove(matchNo),renderCar()})}function renderCarTotal(){var car=countCar(),data=car.total,chuanAction=car.jcGameSelector,jcCarTemplate=Handlebars.compile($("#car-total-handlebars").html());$("#car-total").html(jcCarTemplate(data)),$(".buy-bar-type").on("click",function(){var chuan=chuanAction.getChuan();$(chuan).each(function(n,item){$("#car-gglx .car-order-type").eq(item-2).addClass("active")}),$("#car-gglx .car-order-type").slice(s.list.length-1).hide(),$("#car-gglx").show()}),$("#car-gglx .car-order-type").unbind().bind("click",function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active");var v=$(this).data("v");chuanAction.toggleChuanGuan(v),renderCarTotal()}),$(".game-bet-encounter-green,.comform-box-cancel").unbind().bind("click",function(){$("#car-gglx").hide()}),(!car||!car.list.length||car.list.length<2)&&$("#ssq_buy").addClass("disabled"),$("#ssq_buy").unbind().bind("click",function(){var result=jcGameSelector.getPostData(data);postBuy(result,function(re){"200"==re.resultCode&&(car.clear(),renderCar(),tzsuccess())})}),totalBoard(function(bei){JC_BEI=bei,renderCar()})}var s=countCar();0!=s&&(renderList(s.list),renderCarTotal()),renderCarTotal()}function tzsuccess(){$("#selectjc,#jccar,#carfixed,.wzl-car,.jc-match-i").hide(),$("#tzsuccess").show()}function totalBoard(fn){function syanc(){setTimeout(function(){$beiInput.val(bei),fn&&fn(bei)},100)}var $beiInput=$("#ball-bei"),bei=$beiInput.val().trim();$(".buy-bar-beiminus").unbind().bind("click",function(){bei--,bei=1>bei?1:bei,syanc()}),$(".buy-bar-beiplus").unbind().bind("click",function(){bei++,bei=bei>9999?9999:bei,syanc()}),$($beiInput).unbind().bind("keyup",function(){var $val=$($beiInput).val();$val=$val.replace(/\D/g,""),$val=$val>20?20:$val,$(this).val($val),bei=Number($val),syanc()})}function postBuy(data,fn){function getIssue(fn){function merge(list){var r=[];return $(list).each(function(){r.push({issue:" ",multiple:JC_BEI})}),r}var r=[];action.getIssue({lottery:"JCZQSPF",issues:1},function(re){r=merge(re),fn(r)})}dialog("loading","正在投注！");getIssue(function(r){return r&&r.length?(data.lotoGson.issueArray=r,data.lotoGson=JSON.stringify(data.lotoGson),void action.jcTz(data,function(re){TZ_INFO($.parseJSON(re),fn)})):dialog("投注异常，请重试")})}$("#selectjc,#buycarfixedbtn,#jc-match,.wzl-nav-dropdown,.jc-match-i").hide(),$(".wzl-cartext").removeClass("hidden"),$(".ball-status-bar").addClass("disabled").html("已经选择了0场比赛"),$("#jccar,#carfixed").show(function(){renderCar()})}function matchData(d){function seleteDate(re){for(var o={},r=[],d={},i=0;i<re.length;i++){var d=re[i].matchNo.substring(0,8);o[d]?o[d].push(re[i]):(o[d]=[],o[d].push(re[i]))}for(var n in o)if(o[n].length){var str=o[n][0].date+" "+o[n][0].weekday+" <span class='jc-subtitle-len'>"+o[n].length+"</span>场比赛可投";r.push({list:o[n],str:str})}return r}function totalList(){for(var re=[],i=0;i<s.all.length;i++)re=re.concat(s.all[i].list);return re}var s=formatData(d);for(var i in s)s[i]=seleteDate(s[i]);return s.data=totalList(),s}function renderTab(id,result){function totalLength(s){for(var n=0,i=0;i<s.length;i++)n+=s[i].list.length;return n}$(id+" .account-nav-group li").eq(0).html("<a href='javascript:;'>高中奖率("+totalLength(result.h)+")</a>"),$(id+" .account-nav-group li").eq(1).html("<a href='javascript:;'>全部赛事("+totalLength(result.all)+")</a>"),$(id+"  .account-nav-group li").eq(2).html("<a href='javascript:;'>五大联赛("+totalLength(result.l)+")</a>"),$(".jc-subtitle").click(function(){$(this).next(".jc-gamelist").toggle()})}function getWeekDay(n){var arr=["","星期一","星期二","星期三","星期四","星期五","星期六","星期日"];return arr[n]}function formatData(re){function checkTime(h){var d=new Date;d.setHours(h.substring(0,2),h.substring(2,4),0,0);var m=d.getTime(),nm=m-9e5,d2=new Date;d2.setTime(nm);var t=d2.getHours()+":"+d2.getMinutes();return t}for(var h=[],l=[],i=0,len=re.length;len>i;i++){switch(re[i].date=re[i].date||"",re[i].win=re[i].win||"",re[i].equ=re[i].equ||"",re[i].lose=re[i].lose||"",re[i].number=re[i].number||"",re[i].changci=re[i].changci||"",re[i].endtime=re[i].endtime||"",re[i].number=len,re[i].date=re[i].matchNo.substring(0,4)+"-"+re[i].matchNo.substring(4,6)+"-"+re[i].matchNo.substring(6,8),re[i].weekday=getWeekDay(re[i].matchNo.substring(8,9)),re[i].changci=[re[i].matchNo.substring(8,9)]+re[i].matchNo.substring(9),re[i].changciStr=["","周一","周二","周三","周四","周五","周六","周日"][re[i].matchNo.substring(8,9)]+re[i].matchNo.substring(9),re[i].endtime=checkTime(re[i].stopSaleTime.substring(8,12)),re[i].win=re[i].sp[0],re[i].equ=re[i].sp[1],re[i].lose=re[i].sp[2],re[i].week=["","周一","周二","周三","周四","周五","周六","周日"][re[i].matchNo.substring(8,9)],re[i].leagueName=re[i].matchName.substring(0,4),(re[i].sp[0]<=1.6||re[i].sp[1]<=1.6||re[i].sp[2]<=1.6)&&h.push(re[i]),re[i].matchName){case"英超":case"法甲":case"意甲":case"德甲":case"西甲":l.push(re[i])}if(leagueList[re[i].matchName.substring(0,4)])re[i].lid=leagueList[re[i].matchName.substring(0,4)].id;else{var id=leagueList.id++;leagueList[re[i].matchName.substring(0,4)]={},leagueList[re[i].matchName.substring(0,4)].id=id,re[i].lid=leagueList[re[i].matchName.substring(0,4)].id}}return leagueM(),{all:re,h:h,l:l,length:re.length}}var loaded={},JC_BEI=1,leagueList=(cp.JC,{id:0}),routes=(util(),{"/rqspf":function(){rqspf()},"/spf":function(){spf()},"/car":function(){car()},index:function(){"rqspf"==ac?rqspf():spf()},init:function(){init()}});Router(routes);var jcGameSelector={init:function(opt){var me=this;return me.opt=opt,opt.data?(me.dataStore=opt.data,me._dataStore={},me.chuanguan={},me.doms=$(opt.viewSelector),me.selected={},me.doms.unbind().bind("click",function(){var l,matchNo=$(this).parent().data("matchno");$(this).toggleClass("active"),"function"==typeof me.opt.selectAfter&&(l=me.opt.selectBefore(me,matchNo,$(this).index())),l?me.add(matchNo,$(this).index()):me.remove(matchNo,$(this).index())}),me):me},formateData:function(){for(var me=this,re={},i=0;i<me.dataStore.length;i++){var changci=me.dataStore[i].changci;re[changci]=me.dataStore[i]}return re},add:function(matchNo,spf){var me=this;me.selected[matchNo]||(me.selected[matchNo]=[]),me.selected[matchNo][spf]?me.remove(matchNo,spf):me.selected[matchNo][spf]=!0,me.chuanguan={},"function"==typeof me.opt.selectAfter&&me.opt.selectAfter(me.getSelected())},find:function(matchNo){for(var me=this,i=0;i<me.selected.length;i++)if(me.selected[i]==matchNo)return me.dataStore[i];return null},remove:function(matchNo,spf){var me=this,args=[].slice.call(arguments);switch(args.length){case 1:delete me.selected[matchNo],$(".m_"+matchNo+" .jc-select-span").removeClass("active");break;case 2:delete me.selected[matchNo][spf],$(".m_"+matchNo+"_"+spf).removeClass("active"),$.isEmptyObject(me.selected[matchNo])&&(delete me.selected[matchNo],$(".m_"+matchNo+" .jc-select-span").removeClass("active"))}"function"==typeof me.opt.selectAfter&&me.opt.selectAfter(me.getSelected())},getSelected:function(){var me=this,re=[];for(var i in me.selected)re.push({n:i,spf:me.selected[i]});return re},toggleChuanGuan:function(v){var me=this;me.chuanguan[v]?me.removeChuanGuan(v):me.addChuanGuan(v)},removeChuanGuan:function(v){var me=this;me.chuanguan[v]&&delete me.chuanguan[v]},addChuanGuan:function(v){var me=this;v&&0!=v&&(me.chuanguan[v]||(me.chuanguan[v]={n:v+"_1",n_name:v+"串1"}))},getChuan:function(){var me=this,re=[];for(var i in me.chuanguan)re.push(i);return re},getChuanGuan:function(){function replaceChuan(d){var r=[];for(var i in d)r.push({n:i+"_1",n_name:i+"串1"});return r}var me=this,re=[],len=me.getSelected().length;if(me.chuanguan=me.chuanguan||{},$.isEmptyObject(me.chuanguan)){if(len=len>8?8:len,len=1>len?1:len,re=[{n:len+"_1",n_name:len+"串1"}],!len)return;me.chuanguan[len]={n:len+"_1",n_name:len+"串1"}}else re=replaceChuan(me.chuanguan);return re},viewAdd:function(){},viewRemove:function(){},clear:function(){var me=this;me.doms&&me.doms.removeClass("active"),me.selected={}},content:function(){function replace310(arr){for(var b=[3,1,0],r=[],i=0;i<arr.length;i++)1==arr[i]&&r.push(b[i]);return r}function getMaxSp(n){for(var maxSp=0,sum=0,i=0;i<me.dataStore.length;i++)if(me.dataStore[i].changci==n.n)for(var j=0;j<n.spf.length;j++)1==n.spf[j]&&(sum++,maxSp=Math.max(maxSp,me.dataStore[i].sp[j]));return{maxSp:maxSp,sum:sum}}for(var chuan,me=this,group={dan:[],tuo:[]},selected=me.getSelected(),len=selected.length,i=0;len>i;i++){var getSp=getMaxSp(selected[i]);group.tuo.push([{n:selected[i].n,d:replace310(selected[i].spf),maxSp:getSp.maxSp,num:getSp.sum}])}return chuan=me.getChuanGuan(),{chuan:chuan,group:group}},getSelectGame:function(){function replace310(obj,arr){for(var b=["spf_sa","spf_pa","spf_fa"],i=0;i<arr.length;i++)obj[b[i]]=1==arr[i]?"active":"","320"==me.opt.gameType&&(obj.comityBallClass="hidden");return obj}for(var me=this,bdata=me.getReplaceData(),re=[],selected=me.getSelected(),i=0;i<selected.length;i++){var o=replace310(bdata[selected[i].n],selected[i].spf);re.push(o)}return re},getReplaceData:function(){var me=this,re={};if(!me.dataStore)return re;if(me.dataStore)for(var i=0;i<me.dataStore.length;i++){var m=me.dataStore[i].changci;re[m]=me.dataStore[i],re[m].spf_s=me.dataStore[i].sp[0],re[m].spf_p=me.dataStore[i].sp[1],re[m].spf_f=me.dataStore[i].sp[2]}return re},refreshView:function(){},getPostData:function(total){function toVs(id){var vs=_dataStore[id],a=[];a.push(vs.matchHome+"vs"+vs.matchGuest),a.push(vs.matchName);var nb=me.selected[id],newNb=replace310(nb);return a.push(vs.comityBall+":"+vs.week+vs.changci.slice(-3)+"-"+vs.matchNo+":["+newNb.join(",")+"]:"+vs.endTime),a.push(vs.stopSaleTime),a.push(vs.comityBall),a.join(",")}function replace310(arr){for(var b=["胜","平","负"],r=[],i=0;i<arr.length;i++)1==arr[i]&&r.push(b[i]);return r}if(total){var me=this,_dataStore=me.formateData(),ba=[];for(var key in me.selected)ba.push(toVs(key));var NumberArray=ba.join("/")+"|0-0",chuan=[],chuan2num={"1串1":"01","单关":"01","2串1":"02","3串1":"03","3串3":"04","3串4":"05","4串1":"06","4串4":"07","4串5":"08","4串6":"09","4串11":"10","5串1":"11","5串5":"12","5串6":"13","5串10":"14","5串16":"15","5串20":"16","5串26":"17","6串1":"18","6串6":"19","6串7":"20","6串15":"21","6串20":"22","6串22":"23","6串35":"24","6串42":"25","6串50":"26","6串57":"27","7串1":"28","7串7":"29","7串8":"30","7串21":"31","7串35":"32","7串120":"33","8串1":"34","8串8":"35","8串9":"36","8串28":"37","8串56":"38","8串70":"39","8串247":"40"};for(var n in me.chuanguan)chuan.push(chuan2num[me.chuanguan[n].n_name]);var d={gameType:me.opt.gameType,format:"ajax",needPay:"",lotoGson:{}};d.needPay=total.price;var buyNumberArray=[{buyNumber:NumberArray,typeId:"02",seleId:chuan.join(","),sum:total.price}],obj={gameType:me.opt.gameType,isStop:0,buyType:0,buyNumberArray:buyNumberArray,issueArray:"",title:"",explain:"",secrecy:1,commision:0,commisiontype:0,splitAmount:0,buyAmount:0,floorsAmount:0,isUpload:0,qcdy:0,totalSum:total.price};
return d.lotoGson=obj,d}},filterLeague:function(){}}},jchh=function(){function render(d){function renderTab(id,result){$(id+" .account-nav-group li").eq(0).html("<a href='javascript:;'>高中奖率("+$("#jchh-gamelist-h .jc-gamelist").children().length+")</a>"),$(id+" .account-nav-group li").eq(1).html("<a href='javascript:;'>全部赛事("+result.length+")</a>"),$(id+"  .account-nav-group li").eq(2).html("<a href='javascript:;'>五大联赛("+$("#jchh-gamelist-l .jc-gamelist").children().length+")</a>"),$(".jc-subtitle").each(function(){$(this).find(".jc-subtitle-len").html($(this).next(".jc-gamelist").children().length)}).click(function(){$(this).next(".jc-gamelist").toggle()})}var re=formatData(d),list=matchDate(re),jcTemplate=Handlebars.compile($("#jchh-item-handlebars").html()),jcFiveTemplate=Handlebars.compile($("#jcfive-item-handlebars").html()),jcHightTemplate=Handlebars.compile($("#jchight-item-handlebars").html());$("#jchh-gamelist-h").html(jcFiveTemplate({list:list})).hide(),$("#jchh-gamelist-all").html(jcTemplate({list:list})).show(),$("#jchh-gamelist-l").html(jcHightTemplate({list:list})).hide(),renderTab("#jchh",re)}function leagueMatch(){function matchEvent(red){function removeCls(c){for(var re=[],i=0;i<cls.length;i++)cls[i]!==c&&re.push(cls[i]);return re}function doHideShow(c,hideOrShow){$(c).each(function(index,item){hideOrShow?$(item).removeClass("match-total").hide():$(item).show().addClass("match-total")})}var cls=red;$("#matchall").unbind().bind("click",function(){cls=[],$(".league-list li").each(function(){var lid=$(this).data("league-id");cls.push(".lid_"+lid),$(this).addClass("active")})}),$("#matchno").unbind().bind("click",function(){cls=[],$(".league-list li").each(function(){if($(this).hasClass("active"))$(this).removeClass("active");else{$(this).addClass("active");var lid=$(this).data("league-id");cls.push(".lid_"+lid)}})}),$("#match5").unbind().bind("click",function(){cls=m5re;for(var ob={},i=0;i<m5re.length;i++){var id=m5re[i].split("_")[1];ob[id]=!0}$(".league-list li").each(function(){var lid=$(this).data("league-id");ob[lid]?$(this).addClass("active"):$(this).removeClass("active")})}),$(".league-list li").unbind().bind("click",function(){var lid=$(this).data("league-id");$(this).hasClass("active")?($(this).removeClass("active"),cls=removeCls(".lid_"+lid)):($(this).addClass("active"),cls.push(".lid_"+lid))}),$("#domatch").unbind().bind("click",function(){var base=red;doHideShow(base,!0),doHideShow(cls),$("#jc-match").hide(),$("#selectjc").show(),$(".jc-subtitle-len").each(function(index){var len=$(".jc-gamelist").eq(index).find(".match-total").length;$(this).html(len)}),$("#jc-spf .account-nav-group li,#jc-rqspf .account-nav-group li").each(function(index){var len=$(".jc-content-item").eq(index).find(".match-total").length,s=$(this).text().substring(0,4);$(this).html(s+"("+len+")")})})}var re=[],rea=[],m5re=[];for(var i in leagueList)if("id"!==i)switch(re.push({id:leagueList[i].id,name:i}),rea.push(".lid_"+leagueList[i].id),i){case"英超":case"法甲":case"意甲":case"德甲":case"西甲":m5re.push(".lid_"+leagueList[i].id)}var jcTemplate=Handlebars.compile($("#jcmatch-match-item-handlebars").html());$("#jc-match .league-list").html(jcTemplate({list:re})),$(".jc-match-i").on("click",function(){alert("aaaa"),$("#selectjc,#jc-match").slideToggle()}),matchEvent(rea)}function matchDate(d){function seleteDate(re){for(var o={},r=[],d={},i=0;i<re.length;i++){var d=re[i].matchNo.substring(0,8);o[d]?o[d].push(re[i]):(o[d]=[],o[d].push(re[i]))}for(var n in o)if(o[n].length){var str=o[n][0].date+" "+o[n][0].weekday+" <span class='jc-subtitle-len'>"+o[n].length+"</span>场比赛可投";r.push({list:o[n],str:str})}return r}var r=seleteDate(d);return leagueMatch(),r}function formatData(d){function setSp(origin,name,d){for(var i=0;i<d.length;i++)origin["sp"+name+i]=d[i]}function matchType(origin,d){switch(d.isFive=!1,d.isHight=!1,origin.matchName){case"英超":case"法甲":case"意甲":case"德甲":case"西甲":d.isFive=!0}(origin.spf[0]<=1.6||origin.spf[1]<=1.6||origin.spf[2]<=1.6||origin.rqspf[0]<=1.6||origin.rqspf[1]<=1.6||origin.rqspf[2]<=1.6)&&(d.isHight=!0)}function matchLeague(origin){if(leagueList[origin.matchName.substring(0,4)])origin.lid=leagueList[origin.matchName.substring(0,4)].id;else{var id=leagueList.id++;leagueList[origin.matchName.substring(0,4)]={},leagueList[origin.matchName.substring(0,4)].id=id,origin.lid=leagueList[origin.matchName.substring(0,4)].id}}var re=[];for(var i in d){var game={},item=d[i];game.date=item.matchNo.substring(0,4)+"-"+item.matchNo.substring(4,6)+"-"+item.matchNo.substring(6,8),game.matchNo=item.matchNo,game.matchHome=item.matchHome,game.matchGuest=item.matchGuest,game.matchName=item.matchName,game.comityBall=item.comityBall,game.weekday=getWeekDay(item.matchNo.substring(8,9)),game.endtime=checkTime(item.stopSaleTime.substring(8,12)),game.leagueName=item.matchName.substring(0,4),game.changci=[item.matchNo.substring(8,9)]+item.matchNo.substring(9),game.changciStr=["","周一","周二","周三","周四","周五","周六","周日"][item.matchNo.substring(8,9)]+item.matchNo.substring(9),setSp(game,"Spf",item.spf),setSp(game,"Jq",item.jqs),setSp(game,"Bf",item.bf),setSp(game,"Rqspf",item.rqspf),setSp(game,"Bqc",item.sfbq),matchType(item,game),matchLeague(game),re.push(game)}return re}function getWeekDay(n){var arr=["","星期一","星期二","星期三","星期四","星期五","星期六","星期日"];return arr[n]}function checkTime(h){var d=new Date;d.setHours(h.substring(0,2),h.substring(2,4),0,0);var m=d.getTime(),nm=m-9e5,d2=new Date;d2.setTime(nm);var t=d2.getHours()+":"+d2.getMinutes();return t}function queuedo(array,callback,next){var i=-1;this.loop=function(){i++,i==array.length?next():callback(array[i],this.loop)},this.loop()}var leagueList={id:0};action.jcHh(function(re,getSp){re.error||queuedo(["301","320","302","303","304"],function(item,next){getSp(item,function(sp){var name="";switch(item){case"301":name="rqspf";break;case"320":name="spf";break;case"302":name="bf";break;case"303":name="jqs";break;case"304":name="sfbq"}$(sp).each(function(index,item){re[item.matchNo][name]=item.sp}),next()})},function(){render(re)})}),$(".account-nav-group li").on("click",function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$(".jc-content-item").hide().eq(index).show()})},account=function(ac){function loginJudge(){action.queryUserInfo({},function(re){return"200"==re.resultCode&&"用户没有登录"==re.data.message?void utils.ref("login",location.search):void 0})}function accountdetail(){function queryAccountRefer(n){action.queryAccountRefer({pageNo:n,pageSize:10},function(re){var r=processData(re);$(".pullUpLabel").text("点击加载更多");var tableTemplate=Handlebars.compile($("#table-template1").html());$("#account-list-group1").append(tableTemplate({data:r.data}))})}function queryAccountRecharge(n){action.queryAccountRecharge({pageNo:n,pageSize:10},function(re){var r=processData(re);$(".pullUpLabel").text("点击加载更多");var tableTemplate=Handlebars.compile($("#table-template2").html());$("#account-list-group2").append(tableTemplate({data:r.data}))})}function queryAccountWithDraw(n){action.queryAccountWithDraw({pageNo:n,pageSize:10},function(re){var r=processData(re);$(".pullUpLabel").text("点击加载更多");var tableTemplate=Handlebars.compile($("#table-template3").html());$("#account-list-group3").append(tableTemplate({data:r.data}))})}function queryAccountPrize(n){action.queryAccountPrize({pageNo:n,pageSize:10},function(re){var r=processData(re);$(".pullUpLabel").text("点击加载更多");var tableTemplate=Handlebars.compile($("#table-template4").html());$("#account-list-group4").append(tableTemplate({data:r.data}))})}function bettingOrder(n){action.bettingOrder({pageNo:n,pageSize:10},function(re){var r=processData(re);$(".pullUpLabel").text("点击加载更多");var tableTemplate=Handlebars.compile($("#table-template5").html());$("#account-list-group5").append(tableTemplate({data:r.data}))})}function time2Year(x){function toDou(n){return 10>n?"0"+n:n}var oDate=new Date;oDate.setTime(x);var n=toDou(oDate.getFullYear()),y=toDou(oDate.getMonth()+1),r=toDou(oDate.getDate()),s=toDou(oDate.getHours()),f=toDou(oDate.getMinutes()),m=toDou(oDate.getSeconds()),s=n+"-"+y+"-"+r+" "+s+":"+f+":"+m;return s}function processData(re){if(re.data){for(var i=0,len=re.data.length;len>i;i++)switch(re.data[i].createDt=time2Year(re.data[i].createDt),re.data[i].accountType){case 1:re.data[i].accountType="现金";break;case 2:re.data[i].accountType="彩金";break;case 3:re.data[i].accountType="红包"}return re}return $(".pullUpLabel").text("账户暂无记录，请稍后再试..."),""}loginJudge("accountdetail");var pageNo=[1,1,1,1,1];queryAccountRefer(pageNo[0]),queryAccountRecharge(pageNo[1]),queryAccountWithDraw(pageNo[2]),queryAccountPrize(pageNo[3]),bettingOrder(pageNo[4]),$(".account-nav-group li").click(function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$(".bet-content .account-list").eq(index).show().siblings().hide()}),$("#scroller-pullUp1").on("click",function(){pageNo[0]++,queryAccountRefer(pageNo[0])}),$("#scroller-pullUp2").on("click",function(){pageNo[1]++,queryAccountRecharge(pageNo[1])}),$("#scroller-pullUp3").on("click",function(){pageNo[2]++,queryAccountWithDraw(pageNo[2])}),$("#scroller-pullUp4").on("click",function(){pageNo[3]++,queryAccountPrize(pageNo[3])}),$("#scroller-pullUp5").on("click",function(){pageNo[4]++,bettingOrder(pageNo[4])}),$.wzlmore(function(d){$("."+$(d).attr("class")).on("click",function(){})})}function bettingdetail(){function loadData(n1,n2,fn){action.allBetting({flag:n2,pageNo:n1,pageSize:10},function(re){var r=formatData(re.data);r?$(".pullUpLabel").text("点击加载更多..."):$("#scroller-pullUp"+n2+" .pullUpLabel").text("没有更多数据...");var jcTemplate=Handlebars.compile($("#table-template").html());$("#bets-list-group"+n2).append(jcTemplate({data:r})),fn&&fn()})}function formatData(d){if(d||"用户没有登入"!=d){for(var reg2=/^(足球)[\u4e00-\u9fa5]{1,10}$/,arr=[],i=0,len=d.length;len>i;i++){var obj={};"zh"==d[i].lototype?(obj.issue=d[i].lotoName,obj.bettingUrl="bettingZH.html?id="+d[i].id):reg2.test(d[i].lotoName)?(obj.issue="竞彩足球",obj.bettingUrl="bettingRecord.html?orderid="+d[i].id):(obj.issue=d[i].issue+"期",obj.bettingUrl="bettingRecord.html?orderid="+d[i].id),obj.lotoName=d[i].lotoName,obj.byType=d[i].byType,obj.bonussum=d[i].bonussum,obj.createtime=d[i].createtime.substring(0,16),obj.totalsum=d[i].totalsum;var s=mergebonusstatus(d[i]);obj.status=s.z,obj.isWin=s.isWin,obj.isZH=s.isZH,obj.iconImg=mergeImg(d[i].lotoid),arr.push(obj)}return arr}location.href="login.html"}function mergebonusstatus(d){var status={"-1":"未付款",0:"待出票",1:"已发单",2:"部分流单",3:"出票失败",4:"订单取消",5:"中奖停止",6:"支付失败",7:"出票成功"},bStatus={0:"待开奖",1:"未中奖",2:"派奖中",3:"已派奖"},s=status[d.status+""],bs=bStatus[d.bonusstatus];2!=d.status&&7!=d.status||!bs||(s=2==d.status?s+" "+bs:bs);var isWin=2==d.bonusstatus||3==d.bonusstatus?!0:!1,isZH="zh"!=d.lototype?!0:!1;return{z:s,isWin:isWin,isZH:isZH}}function mergeImg(d){var s="";switch(d){case"001":s="icon-cp-ssq";break;case"113":s="icon-cp-dlt";break;case"108":s="icon-cp-pl3";break;case"106":s="icon-cp-jx115";break;case"109":s="icon-cp-pl5";break;case"104":s="icon-cp-sd11";break;case"002":s="icon-cp-fc3d";break;case"003":s="icon-cp-qlc";break;case"110":s="icon-cp-qxc";break;case"201":case"301":case"302":case"303":case"304":case"305":case"306":case"307":case"308":case"309":case"310":case"311":case"312":case"313":case"314":case"315":case"316":case"317":case"318":case"319":case"320":case"321":s="icon-cp-jczq";break;case"006":s="icon-cp-jxssc";break;case"018":s="icon-cp-cqssc";break;default:s="icon-cp-default"}return s}loginJudge("bettingdetail");var pageNo=[1,1,1,1],pageFlag=[1,2,3,4];$(".account-nav-group li").click(function(){var $this=$(this),index=$(".account-nav-group li").index(this);$this.addClass("active").siblings().removeClass("active"),$(".bet-content .bets-list").eq(index).show().siblings().hide()}),$("#scroller-pullUp"+pageFlag[0]).on("click",function(){pageNo[0]++,loadData(pageNo[0],pageFlag[0])}),$("#scroller-pullUp"+pageFlag[1]).on("click",function(){pageNo[1]++,loadData(pageNo[1],pageFlag[1])}),$("#scroller-pullUp"+pageFlag[2]).on("click",function(){pageNo[2]++,loadData(pageNo[2],pageFlag[2])}),$("#scroller-pullUp"+pageFlag[3]).on("click",function(){pageNo[3]++,loadData(pageNo[3],pageFlag[3])}),loadData(pageNo[0],pageFlag[0]),loadData(pageNo[1],pageFlag[1]),loadData(pageNo[2],pageFlag[2]),loadData(pageNo[3],pageFlag[3])}function bettingRecord(){function fomatJc(d){function n2Week(b){var arr=["周一","周二","周三","周四","周五","周六","周日"];return arr[b-1]}function fomatbetCode(d){for(var a1=d.betcode.split("/"),a2=d.oddsinfo.split("-"),s="",i=0;i<a1.length;i++)s+=a1[i]+a2[i];return s}var obj={};obj.lotoName=d.danchangMatch[0].lotoName,obj.orderno=d.order.orderno,obj.createtime=fomatTime(d.order.createtime),obj.totalsum=d.order.totalsum,obj.bonusstatus=formatStatus(d.order),obj.danchangMatch=[],obj.orderDetail=[];for(var i=0,len=d.danchangMatch.length;len>i;i++){var o={};o.week=n2Week(d.danchangMatch[i].issue.substring(d.danchangMatch[i].issue.length-4,d.danchangMatch[i].issue.length-3)),o.matchNum=d.danchangMatch[i].issue.substring(d.danchangMatch[i].issue.length-3,d.danchangMatch[i].issue.length),o.matchm=d.danchangMatch[i].matchm,o.matchc=d.danchangMatch[i].matchc,o.lotoName=d.danchangMatch[i].lotoName,o.betcode=d.danchangMatch[i].betcode,o.matchv=d.danchangMatch[i].matchv,obj.danchangMatch.push(o)}for(var i=0,len=d.orderDetail.length;len>i;i++){var o={};o.num=i+1,o.betcode=fomatbetCode(d.orderDetail[i]),o.playName=d.orderDetail[i].playName,o.multi=d.orderDetail[i].multi,o.bonussum=d.orderDetail[i].bonussum,obj.orderDetail.push(o)}$("#jczq").show(),$("#loading").hide();var jcTemplate=Handlebars.compile($("#jc-template").html());$("#jczq").html(jcTemplate({data:obj})),$("a#jx").attr("href","jc.html")}function fomatSzc(d){var obj={};obj.lotoid=d.order.lotoid,obj.lotoName=d.order.lotoName,obj.issue=d.order.issue,obj.orderno=d.order.orderno,obj.bonussum=d.order.bonussum,obj.createtime=fomatTime(d.order.createtime),obj.totalsum=d.order.totalsum,obj.bonusstatus=formatStatus(d.order),obj.buycode=[];for(var i=0,len=d.orderDetail.length;len>i;i++){var o={};o.num=i+1,o.betcode=d.orderDetail[i].betcode.replace(/\,/g," "),o.playName=d.orderDetail[i].playName,o.multi=d.orderDetail[i].multi,obj.buycode.push(o)}switch(obj.lotoid){case"001":obj.shref="ssq.html";break;case"002":obj.shref="fc3d.html";break;case"113":obj.shref="dlt.html";break;case"018":obj.shref="cqssc.html";break;case"006":obj.shref="ssc.html";break;case"108":obj.shref="pl3.html";break;case"110":obj.shref="qxc.html";break;case"108":obj.shref="pl3.html";break;case"109":obj.shref="pl5.html";break;case"003":obj.shref="qlc.html";break;case"106":obj.shref="jx11x5.html"}$("#loading").hide(),$("#szc").show();var szcTemplate=Handlebars.compile($("#szc-template").html());switch($("#szc").html(szcTemplate({data:obj})),$("a#jx").attr("href",obj.shref),obj.lotoid){case"113":case"110":case"108":case"109":case"019":obj.issue="20"+obj.issue;break;case"006":obj.issue="2014"+obj.issue}action.issue2result({lotId:cp.CPID[obj.lotoid].lottery_id,issue:obj.issue},function(s){function formatKjcode1(s){if(!s)return"";if(4==s.readyState)return"";var n1=s.kjCode.split("+")[0],n2=s.kjCode.split("+")[1],ball="<strong class='redBalls'>"+n1+"</strong> + <strong class='blueBalls'>"+n2+"</strong>";$(".kjcode").html(ball)}function formatKjcode2(s){if(!s)return"";if(4==s.readyState)return"";var ball="<strong class='redBalls'>"+s.kjCode+"</strong>";$(".kjcode").html(ball)}switch(obj.lotoid){case"001":case"003":case"113":formatKjcode1(s);break;case"110":case"108":case"006":case"002":case"018":case"106":formatKjcode2(s)}})}function fomatTime(x){function toDou(n){return 10>n?"0"+n:n}var oDate=new Date;oDate.setTime(x);var n=toDou(oDate.getFullYear()),y=toDou(oDate.getMonth()+1),r=toDou(oDate.getDate()),s=toDou(oDate.getHours()),f=toDou(oDate.getMinutes()),m=toDou(oDate.getSeconds()),s=n+"-"+y+"-"+r+" "+s+":"+f+":"+m;return s}function formatStatus(order){var status={"-1":"未付款",0:"待出票",1:"已发单",2:"部分流单",3:"出票失败",4:"订单取消",5:"中奖停止",6:"支付失败",7:"出票成功"},bStatus={0:"待开奖",1:"未中奖",2:"中奖未派",3:"已派奖"},s=status[order.status+""],bs=bStatus[order.bonusstatus];return 2!=order.status&&7!=order.status||!bs||(s=2==order.status?s+" "+bs:bs),s}loginJudge("bettingRecord");var utils=util();action.showDetail({orderid:utils.getRequestParameter("orderid")},function(re){if(re.data){if("400"==re.resultCode)return $("#loading").html(re.data);switch(re.data.order.lotoid){case"201":case"301":case"302":case"303":case"304":case"305":case"306":case"307":case"308":case"309":case"310":case"311":case"312":case"313":case"314":case"315":case"316":case"317":case"318":case"319":case"320":case"321":fomatJc(re.data);break;default:fomatSzc(re.data)}}else $("#loading").text("暂无数据，请稍后加载...")})}function bettingZH(){function formatData(d){var arr1=[],obj={};switch(obj.lotoid=d.preproject.lotoid,obj.name=d.order[0].lotoName,obj.projectno=d.preproject.projectno,obj.createtime=time2Year(d.preproject.createtime),obj.totalsum=d.preproject.totalsum,obj.status=formatStatus(d.preproject.status),obj.betcode="",obj.lotoid){case"113":case"110":case"108":case"109":case"019":obj.startIssue="20"+d.preproject.startissue,obj.endissue="20"+d.preproject.endissue;break;case"006":obj.startIssue="2014"+d.preproject.startissue,obj.endissue="2014"+d.preproject.endissue;break;default:obj.startIssue=d.preproject.startissue,obj.endissue=d.preproject.endissue}for(var j=0,len=d.orderDetail.length;len>j;j++){var obj2={};obj2.betcode=d.orderDetail[j].betcode.replace(/,/g," ").replace(/#/g,"+"),obj2.playName=d.orderDetail[j].playName,obj2.zhu=1,obj2.multi=d.orderDetail[j].multi,obj.betcode+=obj2.betcode+" "+obj2.playName+" "+obj2.zhu+" 注 "+obj2.multi+" 倍<br>"}for(var i=0,len=d.order.length;len>i;i++){var obj1={};switch(obj1.ordernum=i+1,d.order[i].lotoid){case"113":case"110":case"108":case"109":case"019":obj1.issue="20"+d.order[i].issue;break;case"006":obj1.issue="2014"+d.order[i].issue;break;default:obj1.issue=d.order[i].issue}var st=mergebonusstatus(d.order[i]);obj1.status=st.s,obj1.bonusstatus=st.b,obj1.lotoid=d.order[i].lotoid,obj1.betcode=obj.betcode,arr1.push(obj1)}switch(obj.p1=arr1,obj.lotoid){case"001":obj.shref="ssq.html";break;case"002":obj.shref="fc3d.html";break;case"113":obj.shref="dlt.html";break;case"018":obj.shref="cqssc.html";break;case"006":obj.shref="ssc.html";break;case"108":obj.shref="pl3.html";break;case"110":obj.shref="qxc.html";break;case"108":obj.shref="pl3.html";break;case"109":obj.shref="pl5.html";break;case"003":obj.shref="qlc.html";break;case"106":obj.shref="jx11x5.html"}var zhTemplate=Handlebars.compile($("#zh-template").html());$("#zh").html(zhTemplate({obj:obj})),$("#loading").hide(),$(".lottory-detailrecord-list").click(function(){$(this).parent().next().toggle()}),$("a#jx").attr("href",obj.shref),action.issue2resultAll({lotId:cp.CPID[obj.lotoid].lottery_id,startIssue:obj.startIssue,endIssue:obj.endissue},function(re){for(var k=0;k<re.lotolist.length;k++)$(".iss-"+re.lotolist[k].lotIssue).append(re.lotolist[k].kjCode)})}function formatStatus(d){switch(d){case-1:d="未付款";break;case 0:d="追号中";break;case 1:d="追号完成"}return d}function mergebonusstatus(d){var s="",b="",sta={"-1":"未付款",0:"待出票",1:"已发单",2:"部分流单",3:"出票失败",4:"订单取消",5:"中奖停止",6:"支付失败",7:"出票成功"},bsta={0:"待开奖",1:"未中奖",2:"派奖中",3:"已派奖"};return s=sta[d.status],b=bsta[d.bonusstatus],("派奖中"==b||"已派奖"==b)&&(b='<span class="wzl-h-red">'+d.bonussum+"元</span>"),"出票成功"!=s&&"部分流单"!=s&&(b="--"),{s:s,b:b}}function time2Year(x){function toDou(n){return 10>n?"0"+n:n}var oDate=new Date;oDate.setTime(x);var n=toDou(oDate.getFullYear()),y=toDou(oDate.getMonth()+1),r=toDou(oDate.getDate()),s=toDou(oDate.getHours()),f=toDou(oDate.getMinutes()),m=toDou(oDate.getSeconds()),s=n+"-"+y+"-"+r+" "+s+":"+f+":"+m;return s}loginJudge("bettingZH");var utils=util();action.showPreproject({id:utils.getRequestParameter("id")},function(re){"200"==re.resultCode&&formatData(re.data)})}function orderdetail(){function drawLoadingImg(n){var canvas=document.getElementById("circle-percent-loading"),cxt=canvas.getContext("2d");cxt.strokeStyle="white",cxt.stroke(),cxt.closePath(),cxt.beginPath(),cxt.lineWidth=3,cxt.arc(75,75,74,Math.PI/2,Math.PI/2+Math.PI*n/50,!1),cxt.stroke(),cxt.closePath()}drawLoadingImg(65)}switch(ac){case"accountdetail":accountdetail();break;case"bettingdetail":bettingdetail();break;case"orderdetail":orderdetail();break;case"bettingRecord":bettingRecord();break;case"bettingZH":bettingZH()}var utils=(wzlui.IscrollLoadData,util())},wzlindex=function(ac){function index(){$(".morelotterybtn").on("click",function(){$(".morelotterylist").slideToggle()});var arr2=["imgs/index/index_1.jpg","imgs/index/index_3.jpg"],myTemplate2=Handlebars.compile($("#table-template2").html());$(".swiper-container .swiper-wrapper").html(myTemplate2({data:arr2}));var mySwiper=new swiper(".swiper-container",{pagination:".pagination",loop:!0,grabCursor:!0,paginationClickable:!0});$(".arrow-left").on("click",function(e){e.preventDefault(),mySwiper.swipePrev()}),$(".arrow-right").on("click",function(e){e.preventDefault(),mySwiper.swipeNext()}),$(".wzl-nav-user").on("click",function(){location.href="views/ucenter.html"}),action.wzlindexWining({},function(re){for(var arr=[],i=0;i<re.length;i++){var str="";""==re[i].nickname&&(re[i].nickname=re[i].username),str="["+re[i].nickname+"]"+re[i].lotName+"喜中"+re[i].winAmount+"元",arr.push(str)}var myTemplate=Handlebars.compile($("#table-template1").html());$(".swiper-container2 .swiper-wrapper").html(myTemplate({data:arr}));new swiper(".swiper-container2",{paginationClickable:!0,mode:"vertical",autoplay:3e3,loop:!0})})}function index2(){function famatData(d){function doRender(info,list){var myTemplate=Handlebars.compile($("#table-template1").html());$("#indexFxb").html(myTemplate({info:info,list:list})).show(),$("#fxbli").show()}var info={},list=[];info.title=d[0].title,info.percent=d[0].matchInfo.split("|")[2],info.issue=d[0].matchInfo.split("|")[0].split(","),info.win=d[0].matchInfo.split("|")[1].split(","),action.jcMatchData({},function(re){function result(win,sp){var s="";switch(win){case"3":s="胜"+sp[0];break;case"1":s="平"+sp[1];break;case"0":s="负"+sp[2]}return s}if(!re.length)return void $("#fxbli,#indexFxb").hide();for(var i=0;i<re.length;i++)for(var j=0;j<info.issue.length;j++){var o={};info.issue[j]==re[i].matchNo&&(o.matchHome=re[i].matchHome,o.matchGuest=re[i].matchGuest,o.sp=result(info.win[j],re[i].sp),list.push(o))}list.length&&doRender(info,list)})}!function(){$(".swiper-wrapper").height("181");var list=[{src:"imgs/news/banner_1.png",href:"views/jc.html"},{src:"imgs/news/banner_2.jpg",href:"views/ucenter.html"}],myTemplate2=Handlebars.compile($("#table-template2").html());$(".swiper-container .swiper-wrapper").html(myTemplate2({data:list}));new swiper(".swiper-container",{pagination:".pagination",loop:!0,grabCursor:!0,paginationClickable:!0})}(),action.queryUserInfo({},function(re){"200"==re.resultCode&&"1"!=re.data.statusCode&&$(".header-r").html('<a href="views/ucenter.html"><i class="icon-user"></i></a>')}),action.wzlMobileHome({},function(re){re=eval("("+re+")"),famatData(re)})}function fxb(){function getGameByNo(fn){action.jcMatchData({},function(s){for(var list={},i=0;i<s.length;i++)s[i].wstr=["","周一","周二","周三","周四","周五","周六","周日"][s[i].matchNo.substring(8,9)]+s[i].matchNo.substring(9),list[s[i].matchNo]=s[i];fn&&fn(list)})}function famatData(re){function replaceGame(s){for(var t=s.split("|"),matchNos=t[0].split(","),sp=t[1].split(","),re=[],i=0;i<matchNos.length;i++)re.push({matchNo:matchNos[i],selected:sp[i]});return re}for(var list=[],i=0;i<re.length;i++){var o={};o.games=replaceGame(re[i].matchInfo),o.title=re[i].title,o.body=re[i].body,o.winTotal=re[i].winTotal,list.push(o)}return list}function getRendList(d,fn){function mergeData(gae){var t1={};t1.matchHome=gae.matchHome,t1.matchGuest=gae.matchGuest,t1.matchName=gae.matchName,t1.s=gae.sp[0],t1.p=gae.sp[1],t1.f=gae.sp[2],t1.issue=t1.matchNo=gae.matchNo.substring(gae.matchNo.length-4,gae.matchNo.length),t1.selected=replaceIndex(gae.selected),t1.sa=0==replaceIndex(gae.selected)?"active":"",t1.pa=1==replaceIndex(gae.selected)?"active":"",t1.fa=2==replaceIndex(gae.selected)?"active":"",t1.stopSaleTime=checkTime(gae.stopSaleTime.substring(8,12)),t1.endTime=gae.endTime,t1.no=gae.matchNo;var r=["胜","平","负"];return t1.r=r[replaceIndex(gae.selected)],t1.stopTime=gae.stopSaleTime,t1.comityBall=gae.comityBall,t1.wstr=gae.wstr,t1}function replaceIndex(d){var n=0;switch(d){case"3":n=0;break;case"1":n=1;break;case"0":n=2}return n}for(var i=0;i<d.length;i++)d[i].list=[mergeData(d[i].games[0]),mergeData(d[i].games[1])];var myTemplate=Handlebars.compile($("#table-template1").html());$(".swiper-height").html(myTemplate({data:d})).height($(".fxb-container").height()+30);var mySwiper=new swiper(".swiper-container2",{pagination:".pagination2",loop:!0,grabCursor:!0,paginationClickable:!0,onTouchStart:function(){},onTouchEnd:function(){mySwiper.activeIndex%2?(U_SELECT=0,fn&&fn()):(U_SELECT=mySwiper.activeIndex%2,fn&&fn())}})}function inputEvent(fn){{var $fxb=$(".fxb-input"),$minus=$(".icon-minus"),$plus=$(".icon-plus");$("#money"),$("#backmoney")}$minus.unbind().bind("click",function(){var fxb=$fxb.val();fxb--,1>=fxb&&(fxb=1),$fxb.val(fxb),fn&&fn()}),$plus.unbind().bind("click",function(){var fxb=$fxb.val();fxb++,fxb>=9999&&(fxb=99),$fxb.val(fxb),fn&&fn()}),$fxb.unbind().bind("keyup",function(){var $val=$fxb.val();$val=$val.replace(/\D/g,""),$val=$val>20?20:$val,fn&&fn()})}function checkTime(h){var d=new Date;d.setHours(h.substring(0,2),h.substring(2,4),0,0);var m=d.getTime(),nm=m-9e5,d2=new Date;d2.setTime(nm);var t=d2.getHours()+":"+d2.getMinutes();return t}var utils=util(),test=utils.getRequestParameter("v"),U_SELECT=0;action.wzlMobileHome({},function(re){re=eval("("+re+")");var slist=famatData(re);getGameByNo(function(s){function sendPost(d){function countM(d){for(var s=2,i=0;i<d.length;i++){var a=[d[i].s,d[i].p,d[i].f];s*=Number(a[d[i].selected])}return s}var b=1,price=countM(d.list).toFixed(2);$(".fxb-input").val(1),$("#money").html(2*b),$("#backmoney").attr("v",price).html(price),$("#fxbbuy").unbind().bind("click",function(){var bei=$(".fxb-input").val().trim()||1,data=getPosData(d.list,bei);data.lotoGson=JSON.stringify(data.lotoGson),action.jcTz(data,function(re){TZ_INFO($.parseJSON(re),function(){location.href="index.html"})})})}function getPosData(game,bei){function buynumberarrayToStr(){for(var s="",i=0;i<game.length;i++){var a=[];a.push(game[i].matchHome+"vs"+game[i].matchGuest),a.push(game[i].matchName),a.push("0:"+game[i].wstr+"-"+game[i].no+":["+game[i].r+"]:"+game[i].endTime),a.push(game[i].stopTime),a.push(game[i].comityBall),s+=a.join(",")+"/"}return s=s.slice(0,s.length-1),s+="|0-0"}var d={gameType:"320",format:"ajax",needPay:"",lotoGson:{}};d.needPay=2*bei;var lotoGson={gameType:"320",isStop:0,buyType:0,buyNumberArray:[{buyNumber:"悉尼FCvs阿德莱德联,澳超,0:周五002-201412265002:[胜]:20141226164500,20141226164500,0/切尔西vs西汉姆联,英超,0:周五003-201412265003:[平]:20141226204500,20141226204500,0|0-0",typeId:"02",seleId:"02",sum:2}],issueArray:[{issue:" ",multiple:bei||1}],title:"",explain:"",secrecy:1,commision:0,commisiontype:0,splitAmount:0,buyAmount:0,floorsAmount:0,isUpload:0,qcdy:0,totalSum:2};return lotoGson.totalSum=2*bei,lotoGson.buyNumberArray=[{buyNumber:buynumberarrayToStr(),typeId:"02",seleId:"02",sum:2*bei}],d.lotoGson=lotoGson,d}for(var list=[],i=0;i<slist.length;i++){for(var games=slist[i].games,re=[],n=0;n<games.length;n++)if(s[games[n].matchNo]){var obj=$.extend(s[games[n].matchNo],games[n]);obj.wstr=s[games[n].matchNo].wstr,re.push(obj)}re&&re.length&&(slist[i].games=re,list.push(slist[i]))}if(0==list.length||"test"==test){return void $(".loading-txt").html("暂无比赛推荐");var i}getRendList(list,function(){sendPost(list[U_SELECT])}),sendPost(list[0]),inputEvent(function(){var b=($("#money"),$(".fxb-input").val().trim()||1),$backmoney=$("#backmoney").attr("v");$("#money").html(2*b),$("#backmoney").html(($backmoney*b).toFixed(2))})})})}function matchDomain(){var host=location.host||location.hostname;"pt.wozhongla.com"==host&&$(".logo").addClass("ptlogo")}switch(ac){case"index":index();break;case"index2":index2();break;case"fxb":fxb()}matchDomain()},module.exports={register:register,login:login,user:user,pay:pay,ssq:ssq,dlt:dlt,f3d:f3d,ssc:ssc,cqssc:cqssc,pl3:pl3,pl5:pl5,qxc:qxc,qlc:qlc,x115:x115,account:account,jc:jc,jchh:jchh,result:result,wzlindex:wzlindex}}),define("wzlh5/1.0.0/cp",["jquery/2.1.1/jquery"],function(require,exports,module){function createNumber(type,len){function createBaseNumber(start,end,fill){for(var r=[],i=start;end>=i;i++)fill&&(i=10>i?"0"+i:String(i)),r.push(String(i));return r}function getRandomNumer(arr,n){return arr.sort(function(){return.5-Math.random()}),arr.slice(0,n)}function ssq(){for(var ar,ab,red=createBaseNumber(1,33),blue=createBaseNumber(1,16),i=0;len>i;i++)ar=getRandomNumer(red,6),ab=getRandomNumer(blue,1),rj.push(ar.join(" ")+"#"+ab),r.push(ar.concat(ab));return r}function dlt(){for(var ar,ab,red=createBaseNumber(1,35),blue=createBaseNumber(1,12),i=0;len>i;i++)ar=getRandomNumer(red,5),ab=getRandomNumer(blue,2),rj.push(ar.join(" ")+"#"+ab.join(" ")),r.push(ar.concat(ab));return r}function t3p(){var nums=base3();if(1e3>len){var dataNum=getRandomNumer(nums,len),dataStr=merge3(dataNum);r=dataNum,rj=dataStr}else{var b=Math.floor(len/1e3),s=len%1e3,dur=repeatMe(nums,b);r=dur.concat(nums.slice(0,s)),rj=merge3(r)}return r}function rssc(){var num=createBaseNumber(0,9,!1),_len=1;switch(a1){case"2x":num=num.concat(num),_len=2;break;case"3x":num=num.concat(num).concat(num),_len=3}var re=getRandomNumer(num,_len);return re}function merge3(arr){for(var re=[],i=0;len>i;i+=4){var rea="";switch(len-i){case 1:rea=arr[i];break;case 2:rea=arr[i]+","+arr[i+1];break;case 3:rea=arr[i]+","+arr[i+1]+","+arr[i+2];break;default:rea=arr[i]+","+arr[i+1]+","+arr[i+2]+","+arr[i+3]}re.push(rea)}return re}function base3(){for(var r=[],i=0;1e3>i;i++)i=100>i?10>i?"00"+i:"0"+i:String(i),r.push(i);return getRandomNumer(r,1e3)}function repeatMe(arr,n){for(var r=[],i=0;n>i;i++)r=r.concat(arr);return r}function random(){a1>a2&&(a1=arguments[2],a2=arguments[1]);var nr=createBaseNumber(a1,a2),re=getRandomNumer(nr,a3);return re}var r=[],rj=[],a1=arguments[1],a2=arguments[2],a3=arguments[3];switch(type){case"ssq":return ssq();case"dlt":return dlt();case"f3d":return t3p();case"t3p":return t3p();case"rssc":return rssc();case"r":case"random":return random()}}function numberSelect(uopts){for(var def={min:1,ispad:!0,max:33,numberSelectBefore:void 0,numberSelectAfter:void 0,numberUnSelectAfter:void 0,selectStyle:"",containerId:"",viewSelectedStyle:"active",multipleSelect:!0},opts=$.extend(def,uopts),f=$(opts.containerId).find(opts.selectStyle),me=new NumberSelect(f,opts),u=[],i=0;i<f.length;i++)u.push(i+1);return f.each(function(index,dom){$(dom).on("click",function(){var i;if("function"==typeof opts.numberSelectBefore&&(i=opts.numberSelectBefore(1==opts.min?index+1:index)),i!==!1){var n=$(this).text();me.toggleSelect(n)}})}),me.values=u,me}function NumberSelect(ele,opts){this.opts=opts,this.elements=ele,this.selected={},this.viewSelected={}}function pad(num,n){var len=num.toString().length;for(n=n||2;n>len;)num="0"+num,len++;return num}function shuffle(opts){var g=$.extend({pool:void 0,min:1,max:10,count:5,padding:0,sort:!1},opts);if(g.max<g.count)return[];var f;if(g.pool)f=g.pool;else{f=[];for(var e=g.min;e<=g.max;e++)f.push(e)}for(var b=[],e=0;e<g.count;){var c=parseInt((f.length-e)*Math.random(),10);b.push(g.padding>0?pad(f[c].toString()):f[c]),e++;var d=f[c];f[c]=f[f.length-e],f[f.length-e]=d}return g.sort&&(b=b.sort(function(j,i){return parseInt(j,10)-parseInt(i,10)})),b}var $=require("jquery/2.1.1/jquery"),PlayTypeRule={add:function(code,name,rule,counter,formatter){for(var c=[],e=0,d=rule.length;d>e;e++){var b=rule[e];c.push({required:b[0],dan_max:b[1],dan_min:b[2],tuo_max:b[3],tuo_min:b[4]})
}PlayTypeRule[code]={},PlayTypeRule[code].groupdef=c,PlayTypeRule[code].viewname=name,PlayTypeRule[code].counter=counter,PlayTypeRule[code].formatter=formatter},_counter:function(j){for(var f=1,b=PlayTypeRule[j.code].groupdef,e=0,c=b.length;c>e;e++){var h=j.groups[e],g=b[e].required,d=h.dan?h.dan.length:0,a=h.tuo.length;f*=Math.combine(a,g-d)}return f},count:function(a){if("object"!=typeof PlayTypeRule[a.code])return!1;var b;return b="function"==typeof PlayTypeRule[a.code].counter?PlayTypeRule[a.code].counter(a):PlayTypeRule._counter(a)}};PlayTypeRule.add("ssq_ds","双色球单式",[[6,0,0,6,6],[1,0,0,1,1]]),PlayTypeRule.add("ssq_fs","双色球复式",[[6,0,0,20,6],[1,0,0,16,1]]),PlayTypeRule.add("ssq_dt","双色球胆拖",[[6,5,1,19,1],[1,0,0,16,1]]),PlayTypeRule.add("dlt_ds","大乐透单式",[[5,0,0,5,5],[2,0,0,2,2]]),PlayTypeRule.add("dlt_fs","大乐透复式",[[5,0,0,18,5],[2,0,0,12,2]]),PlayTypeRule.add("dlt_dt","大乐透胆拖",[[5,4,1,16,2],[2,1,1,12,2]]),PlayTypeRule.add("fc3d_ds","福彩3d直选单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]]),PlayTypeRule.add("fc3d_fs","福彩3d直选复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]]),PlayTypeRule.add("fc3d_hz","福彩3d直选和值",[[1,0,0,1,1]],function(c){function a(g){switch(g){case"0":case"27":return 1;case"1":case"26":return 3;case"2":case"25":return 6;case"3":case"24":return 10;case"4":case"23":return 15;case"5":case"22":return 21;case"6":case"21":return 28;case"7":case"20":return 36;case"8":case"19":return 45;case"9":case"18":return 55;case"10":case"17":return 63;case"11":case"16":return 69;case"12":case"15":return 73;case"13":case"14":return 75}}for(var f=0,b=c.groups[0].tuo,e=0;e<b.length;e++){var d=b[e];a(d)&&(f+=a(d))}return f}),PlayTypeRule.add("fc3d_z3ds","福彩3d组三单式",[[1,0,0,1,1]]),PlayTypeRule.add("fc3d_z3fs","福彩3d组三复式",[[2,0,0,10,2]],function(b){var a=b.groups[0].tuo;return 2*Math.combine(a.length,2)}),PlayTypeRule.add("fc3d_z6fs","福彩3d组六复式",[[3,0,0,10,3]],function(b){var a=b.groups[0].tuo;return Math.combine(a.length,3)}),PlayTypeRule.add("pl3_ds","排列三直选单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]]),PlayTypeRule.add("pl3_fs","排列三直选复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]]),PlayTypeRule.add("pl3_hz","排列三直选和值",[[1,0,0,1,1]],function(c){function a(g){switch(g){case"0":case"27":return 1;case"1":case"26":return 3;case"2":case"25":return 6;case"3":case"24":return 10;case"4":case"23":return 15;case"5":case"22":return 21;case"6":case"21":return 28;case"7":case"20":return 36;case"8":case"19":return 45;case"9":case"18":return 55;case"10":case"17":return 63;case"11":case"16":return 69;case"12":case"15":return 73;case"13":case"14":return 75}}for(var f=0,b=c.groups[0].tuo,e=0;e<b.length;e++){var d=b[e];a(d)&&(f+=a(d))}return f}),PlayTypeRule.add("pl3_z3ds","排列三组三单式",[[1,0,0,1,1]]),PlayTypeRule.add("pl3_z3fs","排列三组三复式",[[2,0,0,10,2]],function(b){var a=b.groups[0].tuo;return 2*Math.combine(a.length,2)}),PlayTypeRule.add("pl3_z6ds","排列三组六单式",[[3,0,0,10,3]],function(b){var a=b.groups[0].tuo;return Math.combine(a.length,3)}),PlayTypeRule.add("pl3_z6fs","排列三组六复式",[[3,0,0,10,3]],function(b){var a=b.groups[0].tuo;return Math.combine(a.length,3)}),PlayTypeRule.add("ssc_yxzx","时时彩一星直选",[[1,0,0,10,1]]),PlayTypeRule.add("ssc_exzx","时时彩二星直选",[[1,0,0,1,1],[1,0,0,1,1]]),PlayTypeRule.add("ssc_exhz","时时彩二星和值",[[1,0,0,19,1]],function(c){function a(g){switch(g){case"0":case"18":return 1;case"1":case"17":return 2;case"2":case"16":return 3;case"3":case"15":return 4;case"4":case"14":return 5;case"5":case"13":return 6;case"6":case"12":return 7;case"7":case"11":return 8;case"8":case"10":return 9;case"9":return 10}}for(var f=0,b=c.groups[0].tuo,e=0;e<b.length;e++){var d=b[e].element;a(d)&&(f+=a(d))}return f}),PlayTypeRule.add("ssc_exfx","时时彩二星直选复式",[[1,0,0,10,1],[1,0,0,10,1]]),PlayTypeRule.add("ssc_3xds","时时彩三星单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]]),PlayTypeRule.add("ssc_3xfs","时时彩三星复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]]);var hezhi_counter=function(c){function a(g){switch(g){case"0":case"27":return 1;case"1":case"26":return 3;case"2":case"25":return 6;case"3":case"24":return 10;case"4":case"23":return 15;case"5":case"22":return 21;case"6":case"21":return 28;case"7":case"20":return 36;case"8":case"19":return 45;case"9":case"18":return 55;case"10":case"17":return 63;case"11":case"16":return 69;case"12":case"15":return 73;case"13":case"14":return 75}}for(var f=0,b=c.groups[0].tuo,e=0;e<b.length;e++){var d=b[e].element;a(d)&&(f+=a(d))}return f};PlayTypeRule.add("ssc_sxhz","时时彩三星和值",[[1,0,0,1,1]],hezhi_counter),PlayTypeRule.add("ssc_zsds","时时彩组三单式",[[3,0,0,3,3]]),PlayTypeRule.add("ssc_zsfs","时时彩组三复式",[[3,0,0,3,3]]),PlayTypeRule.add("ssc_5xds","时时彩五星单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]]),PlayTypeRule.add("ssc_5xfs","时时彩五星复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]]),PlayTypeRule.add("ssc_5xtx","时时彩五星通选",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]]),PlayTypeRule.add("ssc_4xds","四星单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]]),PlayTypeRule.add("ssc_4xfs","四星复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]]);var jxssc_r1_counter=function(a){for(var d=0,c=0,b=a.groups.length;b>c;c++){var e=a.groups[c],f=e.tuo.length;(1!=f||e.tuo[0]!=C.PLANCONTENT.PLACEHOLDER)&&(d+=f)}return d};PlayTypeRule.add("ssc_ryds","任一单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]],jxssc_r1_counter),PlayTypeRule.add("ssc_ryfs","任一复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]],jxssc_r1_counter);var jxssc_r2_counter=function(o){for(var h=0,l=[],n=[],g=0,d=o.groups.length;d>g;g++){var k=o.groups[g],c=k.tuo.length;1!=c||k.tuo[0]!=C.PLANCONTENT.PLACEHOLDER?(l.push(c),n.push(g)):l.push(0)}for(var f=Math.fullCombination(n,2),g=0,d=f.length;d>g;g++){for(var m=f[g],b=1,e=0,a=m.length;a>e;e++)b*=l[m[e]];h+=b}return h};PlayTypeRule.add("ssc_reds","任二单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]],jxssc_r2_counter),PlayTypeRule.add("ssc_refs","任二复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]],jxssc_r2_counter),PlayTypeRule.add("pl5_ds","单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]]),PlayTypeRule.add("pl5_fs","复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]]),PlayTypeRule.add("11x5_q1ds","前一单式",[[1,0,0,1,1]]),PlayTypeRule.add("11x5_q1fs","前一复式",[[1,0,0,11,1]]),PlayTypeRule.add("11x5_r1ds","任选一单式",[[1,0,0,1,1]]),PlayTypeRule.add("11x5_r1fs","任选一复式",[[1,0,0,11,1]]),PlayTypeRule.add("11x5_r2ds","任选二单式",[[2,0,0,2,2]]),PlayTypeRule.add("11x5_r2fs","任选二复式",[[2,0,0,11,2]]),PlayTypeRule.add("11x5_r2dt","任选二胆拖",[[2,1,1,10,1]]),PlayTypeRule.add("11x5_r3ds","任选三单式",[[3,0,0,3,3]]),PlayTypeRule.add("11x5_r3fs","任选三复式",[[3,0,0,11,3]]),PlayTypeRule.add("11x5_r3dt","任选三胆拖",[[3,2,1,10,1]]),PlayTypeRule.add("11x5_r4ds","任选四单式",[[4,0,0,4,4]]),PlayTypeRule.add("11x5_r4fs","任选四复式",[[4,0,0,11,4]]),PlayTypeRule.add("11x5_r4dt","任选四胆拖",[[4,3,1,10,1]]),PlayTypeRule.add("11x5_r5ds","任选五单式",[[5,0,0,5,5]]),PlayTypeRule.add("11x5_r5fs","任选五复式",[[5,0,0,11,5]]),PlayTypeRule.add("11x5_r6ds","任选六单式",[[6,0,0,6,6]]),PlayTypeRule.add("11x5_r6fs","任选六复式",[[6,0,0,11,6]]),PlayTypeRule.add("11x5_r6dt","任选六胆拖",[[6,5,1,10,1]]),PlayTypeRule.add("11x5_r7ds","任选七单式",[[7,0,0,7,7]]),PlayTypeRule.add("11x5_r7fs","任选七复式",[[7,0,0,11,7]]),PlayTypeRule.add("11x5_r7dt","任选七胆拖",[[7,6,1,10,1]]),PlayTypeRule.add("11x5_r8ds","任选八单式",[[8,0,0,8,8]]),PlayTypeRule.add("11x5_r8fs","任选八复式",[[8,0,0,11,8]]),PlayTypeRule.add("11x5_r8dt","任选八胆拖",[[8,7,1,10,1]]),PlayTypeRule.add("11x5_q2ds","前二直选单式",[[1,0,0,1,1],[1,0,0,1,1]],function(j){for(var e=0,g=(PlayTypeRule[j.code].groupdef,j.groups[0].tuo),c=j.groups[1].tuo,h=0;h<g.length;h++)for(var a=g[h],d=0;d<c.length;d++){var f=c[d];a!=f&&e++}return e}),PlayTypeRule.add("11x5_q2fs","前二直选复式",[[1,0,0,10,1],[1,0,0,10,1]],function(j){for(var e=0,g=(PlayTypeRule[j.code].groupdef,j.groups[0].tuo),c=j.groups[1].tuo,h=0;h<g.length;h++)for(var a=g[h],d=0;d<c.length;d++){var f=c[d];a!=f&&e++}return e}),PlayTypeRule.add("11x5_q2zxds","前二组选单式",[[2,0,0,2,2]]),PlayTypeRule.add("11x5_q2zxfs","前二组选复式",[[2,0,0,11,2]]),PlayTypeRule.add("11x5_q3ds","前三直选单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]],function(n){for(var h=0,l=(PlayTypeRule[n.code].groupdef,n.groups[0].tuo),e=n.groups[1].tuo,c=n.groups[2].tuo,m=0;m<l.length;m++)for(var b=l[m],g=0;g<e.length;g++){var k=e[g];if(b!==k)for(var f=0;f<c.length;f++){var a=c[f];b!==a&&k!==a&&h++}}return h}),PlayTypeRule.add("11x5_q3fs","前三直选复式",[[1,0,0,9,1],[1,0,0,9,1],[1,0,0,9,1]],function(n){for(var h=0,l=(PlayTypeRule[n.code].groupdef,n.groups[0].tuo),e=n.groups[1].tuo,c=n.groups[2].tuo,m=0;m<l.length;m++)for(var b=l[m],g=0;g<e.length;g++){var k=e[g];if(b!==k)for(var f=0;f<c.length;f++){var a=c[f];b!==a&&k!==a&&h++}}return h}),PlayTypeRule.add("11x5_q3zxds","前三组选单式",[[3,0,0,3,3]]),PlayTypeRule.add("11x5_q3zxfs","前三组选复式",[[3,0,0,11,3]]),PlayTypeRule.add("qxc_ds","单式",[[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1],[1,0,0,1,1]]),PlayTypeRule.add("qxc_fs","复式",[[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1],[1,0,0,10,1]]),PlayTypeRule.add("qlc_ds","单式",[[7,0,0,7,7]]),PlayTypeRule.add("qlc_fs","复式",[[7,0,0,16,7]]),PlayTypeRule.add("qlc_dt","胆拖",[[7,6,1,15,1]]);var JC={};JC.spf={buyData:[["3","1","0"],["胜","平","负"]],spmap:{s:"3",p:"1",f:"0"},playType:{"1_1":["3002","单关"],"2_1":["3003","2串1"],"3_1":["3004","3串1"],"4_1":["3005","4串1"],"5_1":["3006","5串1"],"6_1":["3007","6串1"],"7_1":["3008","7串1"],"8_1":["3009","8串1"],"9_1":["3010","9串1"],"10_1":["3011","10串1"],"11_1":["3012","11串1"],"12_1":["3013","12串1"],"13_1":["3014","13串1"],"14_1":["3015","14串1"],"15_1":["3016","15串1"],"2_3":["3017","2串3"],"3_4":["3018","3串4"],"3_7":["3019","3串7"],"4_5":["3020","4串5"],"4_11":["3021","4串11"],"4_15":["3022","4串15"],"5_6":["3023","5串6"],"5_16":["3024","5串16"],"5_26":["3025","5串26"],"5_31":["3026","5串31"],"6_7":["3027","6串7"],"6_22":["3028","6串22"],"6_42":["3029","6串42"],"6_57":["3030","6串57"],"6_63":["3031","6串63"]},passTypeNameDecoder:{"2_3":["1_1","2_1"],"3_4":["2_1","3_1"],"3_7":["1_1","2_1","3_1"],"4_5":["3_1","4_1"],"4_11":["2_1","3_1","4_1"],"4_15":["1_1","2_1","3_1","4_1"],"5_6":["4_1","5_1"],"5_16":["3_1","4_1","5_1"],"5_26":["2_1","3_1","4_1","5_1"],"5_31":["1_1","2_1","3_1","4_1","5_1"],"6_7":["5_1","6_1"],"6_22":["4_1","5_1","6_1"],"6_42":["3_1","4_1","5_1","6_1"],"6_57":["2_1","3_1","4_1","5_1","6_1"],"6_63":["1_1","2_1","3_1","4_1","5_1","6_1"]}};var numberGenerator={ssq:function(len){return createNumber("ssq",len)},dlt:function(len){return createNumber("dlt",len)},ssc:function(len){return createNumber("rssc",len)},r:function(start,end,len){return createNumber("r",start,end,len)},rssc:function(type){var re=createNumber("rssc",type);return re}};NumberSelect.prototype={getSelected:function(){var me=this,u=[],u2=[];for(var i in me.selected)u2.push(i);u2.sort(function(n1,n2){return n1-n2});for(var n=0;n<u2.length;n++)u.push(me.opts.ispad?pad(u2[n]):u2[n]);return u},toggleSelect:function(v){var me=this;v=parseInt(v,10),me.selected[v]?me.unselect(v):me.select(v)},select:function(n){function p(n){var i;"function"==typeof me.opts.numberSelectBefore&&(i=me.opts.numberSelectBefore(n)),i!==!1&&(n=parseInt(n,10),me.opts.multipleSelect?(me.viewSelect(n),me.selected[n]=1):(me.clear(),me.viewSelect(n),me.selected[n]=1))}var me=this;if($.isArray(n))for(var i=0;i<n.length;i++)p(n[i]);else p(n);var f;f=me.opts.ispad?pad(n):n,"function"==typeof this.opts.numberSelectAfter&&this.opts.numberSelectAfter(f)},unselect:function(n){function p(){n=parseInt(n,10),me.viewUnSelect(n),delete me.selected[n]}var me=this;if($.isArray(n))for(var i=0;i<n.length;i++)p(n[i]);else p(n);var f=pad(n);"function"==typeof this.opts.numberUnSelectAfter&&this.opts.numberUnSelectAfter(f)},clear:function(){var me=this,u=[];for(var i in me.selected)u.push(parseInt(i,10));return me.unselect(u),me.viewClear(u),me.selected={},this},isSelected:function(v){var me=this;return 1===me.selected[v]},viewSelect:function(n){function p(n){var i;"function"==typeof me.opts.numberSelectBefore&&(i=me.opts.numberSelectBefore(n)),i!==!1&&(n=0==me.opts.min?parseInt(n,10):parseInt(n-1,10),$(me.elements[n]).addClass(me.opts.viewSelectedStyle),me.viewSelected[n]=1)}var me=this;if($.isArray(n))for(var i=0;i<n.length;i++)p(n[i]);else p(n)},viewUnSelect:function(n){function p(n){n=0==me.opts.min?parseInt(n,10):parseInt(n-1,10),$(me.elements[n]).removeClass(me.opts.viewSelectedStyle),delete me.viewSelected[n]}var me=this;if($.isArray(n))for(var i=0;i<n.length;i++)p(n[i]);else p(n)},viewClear:function(){var me=this;$(me.elements).removeClass(me.opts.viewSelectedStyle),me.viewSelected={}}},$.extend(Math,{permute:function(d,a){for(var b=1,c=0;a>c;c++)b*=d-c;return parseInt(b,10)},combine:function(c,a){var b=Math.permute(c,a);return b/=Math.permute(a,a),parseInt(b,10)},fullCombination:function(j,b){for(var d=[],g=j.length,e=[],c=0;b>=c;c++)e.push(c-1);for(var h=b,f=!0;-1==e[0];){if(f){for(var a=[],c=1;b>=c;c++)a.push(j[e[c]]);d.push(a),f=!1}e[h]++,e[h]!=g?b>h?(h++,e[h]=e[h-1]):h==b&&(f=!0):(e[h]=0,h--)}return d},fullCombinationDantuo:function(f,a,j){var d=0;a&&(d=a.length);var c=j.length;if(f>d+c)return!1;for(var b=f-d,h=Math.fullCombination(j,b),e=0,g=h.length;g>e;e++)h[e]=h[e].concat(a);return h},countCombinationDantuo:function(c,a,b){a="undefined"==typeof a?0:a;var d=c-a;return Math.combine(b,d)},arrayFullCombination:function(a){for(var d=function(g,e){for(var n=g,l=[];e.length>0;){for(var j=0;j<n.length;j++){for(var f=[e[0]],h=0;h<n[j].length;h++)f.push(n[j][h]);l.push(f)}e=e.slice(1,e.length)}return l},c=Math.fullCombination(a[0],1),b=1;b<a.length;b++)c=d(c,a[b]);return c},arrayIsPartRepeat:function(a,c){for(var b=0,e={},d=c||0;b<a.length;b++)if(void 0===e[a[b]])e[a[b]]=0;else if(++e[a[b]]>d)return!1;return!0},arrayIsNoRepeat:function(a){return Math.arrayIsPartRepeat(a,0)},arrayIsHasPartRepeat:function(e,f){for(var j=e.length,b=[],g=[],h=[],k=[],a=1,d=0;j>d;d++)b[d]=e[d].length,a*=b[d],g[d]=0;for(var d=0;a>d;d++)h[d]=[];for(var c=0;;){for(var d=0;j>d;d++)h[c][d]=g[d]+1,k[d]=e[d][h[c][d]-1];if(Math.arrayIsPartRepeat(k,f))return!0;c++;for(var d=j-1;d>=0&&g[d]==b[d]-1;d--)g[d]=0;if(0>d)break;g[d]++}return!1},arrayIsHasNoRepeat:function(a){return Math.arrayIsHasPartRepeat(a,0)}});var CPCONFIG={SSQ:{BLUE_MAX:16,BLUE_MIN:1,RED_MAX:33,RED_MIN:6,MAX_AMOUNT:2e4,MAX_COUNT:1e4,UNIT_PRICE:2,RED_D_MAX:5,RED_T_MIN:2,RED_T_MAX:16},DLT:{BLUE_MAX:12,BLUE_MIN:2,RED_MAX:35,RED_MIN:5,MAX_AMOUNT:2e4,MAX_COUNT:1e4,UNIT_PRICE:2,ADDITION_PRICE:3},FC3D:{MAX_AMOUNT:2e4,MAX_COUNT:1e4,UNIT_PRICE:2},PL3:{MAX_AMOUNT:2e4,MAX_COUNT:1e4,UNIT_PRICE:2},PL5:{MAX_AMOUNT:2e4,MAX_COUNT:1e4,UNIT_PRICE:2},JXSSC:{BASIC_EVEN:4,BASIC_LARGE:2,BASIC_MAX:9,BASIC_MIN:0,BASIC_ODD:5,BASIC_SMALL:1,DXDS:{LC1:"小",LC2:"大",LC4:"双",LC5:"单"},MAX_AMOUNT:2e4,MAX_COUNT:1e4,UNIT_PRICE:2},CQSSC:{BASIC_EVEN:4,BASIC_LARGE:2,BASIC_MAX:9,BASIC_MIN:0,BASIC_ODD:5,BASIC_SMALL:1,DXDS:{LC1:"小",LC2:"大",LC4:"双",LC5:"单"},MAX_AMOUNT:2e4,MAX_COUNT:1e4,UNIT_PRICE:2},QXC:{UNIT_PRICE:2,BASIC_MIN:0,BASIC_MAX:9,MAX_COUNT:1e4,MAX_AMOUNT:2e4},QLC:{MAX:30,MAX_AMOUNT:2e4,MAX_COUNT:1e4,MIN:1,RED_MIN:7,UNIT_PRICE:2},GD11X5:{UNIT_PRICE:2},JX11X5:{UNIT_PRICE:2},SD11X5:{UNIT_PRICE:2}},CPID={"001":{lottery_name:"双色球",lottery_type:"ssq",lottery_id:"51"},"002":{lottery_name:"福彩3D",lottery_type:"fc3d",lottery_id:"52"},"003":{lottery_name:"七彩乐",lottery_type:"qcl",lottery_id:"23528"},"004":{lottery_name:"东方6+1",lottery_type:"df61",lottery_id:"23531"},"005":{lottery_name:"15选5",lottery_type:"15x5",lottery_id:"21304"},108:{lottery_name:"排列3",lottery_type:"pl3",lottery_id:"33"},109:{lottery_name:"排列5",lottery_type:"pl5",lottery_id:"33"},110:{lottery_name:"七星彩",lottery_type:"qxc",lottery_id:"10022"},113:{lottery_name:"大乐透",lottery_type:"dlt",lottery_id:"23529"},"022":{lottery_name:"湖北快3",lottery_type:"hbk3",lottery_id:"23541"},"023":{lottery_name:"吉林快3",lottery_type:"jlk3",lottery_id:"23542"},"024":{lottery_name:"安徽快3",lottery_type:"ahk3",lottery_id:"23543"},"025":{lottery_name:"快乐十分",lottery_type:"kl10",lottery_id:"23545"},"006":{lottery_name:"江西时时彩",lottery_type:"jxssc",lottery_id:"13001"},107:{lottery_name:"11选5",lottery_type:"kl10",lottery_id:"21406"},106:{lottery_name:"多乐彩",lottery_type:"dlc",lottery_id:"23540"},104:{lottery_name:"广东11选5",lottery_type:"gd115",lottery_id:"23544"},111:{lottery_name:"黑龙江22选5",lottery_type:"22*5",lottery_id:"23536"},112:{lottery_name:"黑龙江31选7",lottery_type:"31*7",lottery_id:"23537"},105:{lottery_name:"黑龙江11选5",lottery_type:"hlj11x5",lottery_id:"23535"},"016":{lottery_name:"北京快乐8",lottery_type:"kl8",lottery_id:"20108"},21505:{lottery_name:"黑龙江时时彩",lottery_type:"hljssc",lottery_id:"23537"},"017":{lottery_name:"pk10",lottery_type:"pk10",lottery_id:"20109"},"018":{lottery_name:"重庆时时彩",lottery_type:"cqssc",lottery_id:"10401"},"019":{lottery_name:"北京3D",lottery_type:"bj3d",lottery_id:"20105"},"020":{lottery_name:"群英会",lottery_type:"qyh",lottery_id:"21407"},101:{lottery_name:"上海11选5",lottery_type:"sh115",lottery_id:"23546"},102:{lottery_name:"新疆11选5",lottery_type:"xj115",lottery_id:"23547"},"027":{lottery_name:"江苏快三",lottery_type:"jsk3",lottery_id:"23548"},115:{lottery_name:"半全场",lottery_type:"bj3d",lottery_id:"16"},116:{lottery_name:"四场进球",lottery_type:"jqc",lottery_id:"18"},117:{lottery_name:"任九场",lottery_type:"r9c",lottery_id:"19"},"019":{lottery_name:"胜负彩",lottery_type:"sfc",lottery_id:"11"},201:{lottery_name:"竞彩足球",lottery_type:"jczq"},301:{lottery_name:"竞彩足球让球胜平负",lottery_type:"jczqspf"},302:{lottery_name:"竞彩足球比分",lottery_type:"jczqbf"},303:{lottery_name:"竞彩足球总进球数",lottery_type:"jczqzjq"},304:{lottery_name:"竞彩足球胜负半全",lottery_type:"jczqbqc"},305:{lottery_name:"竞彩足球混合投注",lottery_type:"jczqsxds"},306:{lottery_name:"竞彩篮彩让分胜负",lottery_type:"jclqrfsf"},307:{lottery_name:"竞彩篮彩让分胜负",lottery_type:"jclqsf"},308:{lottery_name:"竞彩篮彩胜分差",lottery_type:"jclqsfc"},309:{lottery_name:"竞彩篮彩大小分",lottery_type:"jclqdxfc"},311:{lottery_name:"竞彩足球让球胜平负(单关)",lottery_type:"jczqdgspf"},312:{lottery_name:"竞彩足球比分(单关)",lottery_type:"jczqdgbf"},313:{lottery_name:"竞彩足球总进球数(单关)",lottery_type:"jczqdgzjq"},314:{lottery_name:"竞彩足球胜负半全(单关)",lottery_type:"jczqdgbqc"},315:{lottery_name:"竞彩足球上下盘单双(单关)",lottery_type:"jczqdgsxds"},316:{lottery_name:"竞彩篮球让分胜负(单关)",lottery_type:"jclqdgrfsf"},317:{lottery_name:"竞彩篮球胜负(单关)",lottery_type:"jclqdgsf"},318:{lottery_name:"竞彩篮球胜分差(单关)",lottery_type:"jclqdgsfc"},319:{lottery_name:"竞彩篮球大小分(单关)",lottery_type:"jclqdgdxfc"},320:{lottery_name:"竞彩胜平负",lottery_type:"jczq"},321:{lottery_name:"竞彩胜平负",lottery_type:"jczq"}},JCCP={"01":"单关","02":"2串1","03":"3串1","04":"3串3","05":"3串4","06":"4串1","07":"4串4","08":"4串5","09":"4串6",10:"4串11",11:"5串1",12:"5串5",13:"5串6",14:"5串10",15:"5串16",16:"5串20",17:"5串26",18:"6串1",19:"6串6",20:"6串7",21:"6串15",22:"6串20",23:"6串22",24:"6串35",25:"6串42",26:"6串50",28:"6串57",28:"7串1",29:"7串7",30:"7串8",31:"7串21",32:"7串35",33:"7串120",34:"8串1",35:"8串8",36:"8串9",37:"8串28",38:"8串56",39:"8串70",40:"8串247"};module.exports={ng:numberGenerator,numberSelect:numberSelect,shuffle:shuffle,CONFIG:CPCONFIG,CPID:CPID,JC:JC,JCCP:JCCP,PlayTypeRule:PlayTypeRule}}),define("wzlh5/1.0.0/ui",["jquery/2.1.1/jquery","iscroll/5.1.2/iscroll","iscroll/5.1.2/iscroll-probe"],function(require,exports,module){var $=require("jquery/2.1.1/jquery"),IScroll=require("iscroll/5.1.2/iscroll"),IScrollProbe=require("iscroll/5.1.2/iscroll-probe"),iscrollPop=function(opts){function init(){"#wrapper"==me.opts.wrapper&&$("#wrapper").length>0?render():me.wrapElement.length>0?(me.wrapElement.empty().append(me.domStr).addClass("wzl-mask-pop"),render()):($("body").append('<div id="wrapper" style="display: none" class="wzl-mask-pop">'+me.domStr+"</div>"),render())}function render(){var value,val=me.opts.content,title=me.opts.title;try{value=$(val)}catch(e){value=[]}value[0]?$(me.opts.wrapper).find(".content:first").empty().append(value):$(me.opts.wrapper).find(".content:first").empty().html(val),$(me.opts.wrapper).find(".head h4:first").html(title)}function setPos(){var sp=me.opts.spacing,$win=$(window).width(),top=me.opts.top,ml=sp/2;$(me.opts.wrapper).css({left:ml,top:top,width:$win-sp})}function show(fn){setPos(),$(".wzl-mask").show(),$(me.opts.wrapper).show(),me.myScroll=new IScroll("#wrappcontent",{scrollX:!0,freeScroll:!0,click:!0}),fn&&fn(),$(".wzl-service-close").on("click",function(){hide(),me.close()})}function hide(){$(".wzl-mask").hide(),$(me.opts.wrapper).hide()}var me=this,deft={wrapper:"#wrapper",hasMask:!0,spacing:20,top:60,title:"我中啦提醒您:",onClose:function(){}};return me.opts=$.extend(deft,opts),me.opts.content?(me.wrapElement=$(me.opts.wrapper),me.titleElement=$(me.opts.wrapper).find(".head h4:first"),me.contentElement=$(me.opts.wrapper).find(".content:first"),me.closeElement=$(me.opts.wrapper).find(".wzl-service-close"),me.wrapperStr='<div id="wrapper" class="wzl-mask-pop"></div>',me.domStr='<div class="wzl-service"><div class="head"><h4>服务条款</h4><span class="glyphicon icon-close wzl-service-close" ></span></div><div id="wrappcontent"><div id="scroller"><div class="content"></div></div></div></div></div><div class="wzl-mask" style="display: none"></div>',me.close=function(){hide(),me.opts.onclose()},me.init=init,me.show=show,me.hide=hide(),me.test=function(){},me.init(),me):void 0},containerMask={tpl:'<div class="container-mask"></div>',show:function(){$(".container-mask").length>0?$(".container-mask").animate({opacity:1},100):$(".container").append(this.tpl)},hide:function(){$(".container-mask").animate({opacity:0},300)}},Dialog=function(){function Dialog(opts){this.opts=opts,this._type="",this.tpls=_tpl(this.opts)}function extend(source,target){if(source)for(var key in source){var val=source[key];"undefined"!=typeof val&&(target[key]=val)}return target}function toString(object){return Object.prototype.toString.call(object)}function isObject(object){return"[object Object]"===toString(object)}var _lastDialog,_lastMask,_default={type:"default",message:"默认信息！",title:"我中啦提示您：",trigger:"",duration:120,autoHide:!1,autoHideDelay:1e3,classPrefix:"",haskMask:!0,maskClick:function(){},width:"",height:"",autoOpen:!1,column:!1,zindex:999,cancelText:"取消",confirmText:"确定",onConfirm:function(){},onCancel:function(){},afterHide:function(){},afterShow:function(){},select:[["是",function(){}],["否",function(){}],["取消",function(){}]],inputPlaceholder:"请输入",inputType:"text"},_tpl=function(opts){var selectButton=function(){for(var str="",i=0;i<opts.select.length;i++)str+='<div class="wzl-ui-dialog-confirm wzl-ui-dialog-operationitem"><a href="javascript:;" class="wzl-ui-dialog-button">'+opts.select[i][0]+"</a></div>";return str}(),wrapColumn=function(){var str=opts.column?'<div class="wzl-ui-dialog-operation column">':'<div class="wzl-ui-dialog-operation">';return str}(),button2=function(){var str=wrapColumn+'<div class="wzl-ui-dialog-confirm wzl-ui-dialog-operationitem"><a href="javascript:;" class="wzl-ui-dialog-button">'+opts.cancelText+'</a></div><div class="wzl-ui-dialog-confirm wzl-ui-dialog-operationitem"><a href="javascript:;" class="wzl-ui-dialog-button">'+opts.confirmText+"</a></div></div>";return str}(),button1=function(){var str=wrapColumn+'<div class="wzl-ui-dialog-confirm wzl-ui-dialog-operationitem"><a href="javascript:;" class="wzl-ui-dialog-button">'+opts.confirmText+"</a></div></div>";return str}(),input=function(){var str='<div class="wzl-ui-dialog-input"><input class="wzl-ui-dialog-inputcon" type="'+opts.inputType+'" placeholder="'+opts.inputPlaceholder+'"/></div>';return str}();return{wrapStart:'<div class="wzl-ui-dialog"><div class="wzl-ui-dialog-content" data-role="content">',wrapEnd:"</div></div>",containerStart:'<div class="wzl-ui-dialog-container">',containerEnd:"</div>",title:'<div class="wzl-ui-dialog-title">'+opts.title+"</div>",message:'<div class="wzl-ui-dialog-message">'+opts.message+"</div>",loading:'<div class="wzl-ui-dialog-message"><img src="../imgs/ui/ui-loading.gif" class="ui-loading" alt=""/> <p>'+opts.message+"</p></div>",input:input,buttonWrapStart:wrapColumn,buttonWrapEnd:"</div>",button2:button2,button1:button1,selectButton:selectButton,mask:'<div class="ui-mask" style="width:100%;height:100%;position:fixed;top:0;left:0;z-index:998"></div>'}},_timer={};Dialog.prototype._init=function(){var html,me=this,opts=me.opts,tpls=me.tpls;switch(html="",html+=tpls.wrapStart,opts.type){case"default":html+=tpls.title,html+=tpls.containerStart,html+=tpls.message,html+=tpls.containerEnd;break;case"input":html+=tpls.title,html+=tpls.containerStart,html+=tpls.message,html+=tpls.input,html+=tpls.button2,html+=tpls.containerEnd;break;case"loading":html+=tpls.title,html+=tpls.containerStart,html+=tpls.loading,html+=tpls.containerEnd;break;case"tips":html+=tpls.title,html+=tpls.containerStart,html+=tpls.message,html+=tpls.button1,html+=tpls.containerEnd;break;case"select":html+=tpls.title,html+=tpls.containerStart,html+=tpls.message,html+=tpls.button2,html+=tpls.containerEnd;break;default:html+=tpls.title,html+=tpls.message,me._type="default"}return html+=tpls.wrapEnd,opts.haskMask&&(me.$mask=$(tpls.mask).appendTo("body")),me.$msg=$(html).appendTo("body"),me.show(),me._event(),me},Dialog.prototype.show=function(){var me=this,opts=me.opts,$msg=me.$msg,$mask=me.$mask,winW=$(window).width(),winH=$(window).height(),theW=$msg.outerWidth(),theH=$msg.outerHeight(),winScrollTop=$(window).scrollTop(),pos={left:opts.position&&"undefined"!==opts.position.left?opts.position.left:(winW-theW)/2,top:opts.position&&"undefined"!==opts.position.top?opts.position.top:(winH-theH)/3+winScrollTop};pos.left<0&&(pos.left=0),pos.top<0&&(pos.top=0),pos.zIndex=opts.zindex,$msg.css(pos),$mask.css({width:winW,height:winH}),_lastDialog?_lastDialog.hide(function(){_lastMask.remove(),_lastDialog.remove(),$msg.fadeIn(opts.duration),_lastDialog=$msg,_lastMask=$mask}):(_lastDialog=$msg,_lastMask=$mask,$msg.fadeIn(opts.duration)),_timer&&clearTimeout(_timer),("default"==opts.type||"default"==me._type)&&(_timer=setTimeout(function(){me.hide()},opts.autoHideDelay||3e3))},Dialog.prototype.hide=function(cb){var me=this,opts=me.opts,$msg=me.$msg,$mask=me.$mask;_timer&&clearTimeout(_timer),_timer=0,$mask.hide(),$msg.stop(!0,!0).fadeOut(opts.duration,function(){opts.afterHide.apply(me),$msg.remove(),$mask.remove(),cb&&cb()})},Dialog.prototype._event=function(){var me=this,opts=me.opts;if("input"==opts.type){var _onConfirm=opts.onConfirm;opts.onConfirm=function(){var $input=me.$msg.find("input.wzl-ui-dialog-inputcon");_onConfirm(me,$input)}}"loading"==opts.type&&(me.ticket=function(v){me.$msg.find(".wzl-ui-dialog-message>p:first").html(v)}),"tips"==opts.type&&(opts.onCancel=opts.onConfirm),me.$msg.find(".wzl-ui-dialog-button").eq(0).on("click",function(){me.hide(opts.onCancel)}),me.$msg.find(".wzl-ui-dialog-button").eq(1).on("click",function(){me.hide(opts.onConfirm)})};var dialog=function(){for(var args=[],opts={},i=0;i<arguments.length;i++)args.push(arguments[i]);{var a1=args[0],a2=args[1];args[2],args[3]}switch(args.length){case 1:isObject(a1)?opts=a1:opts.message=a1;break;case 2:opts.type=a1,opts.message=a2}return new Dialog(extend(opts,_default))._init()};return dialog}(),iscrollLoadData=function(){function IScrollLoadData(wrapperEl,contentEl,dropTopAction,dropBottomAction,limit,dn,up){this.wrapper=wrapperEl,this.content=contentEl,this.pullDownEl=this.wrapper.querySelector(dn),this.pullUpEl=this.wrapper.querySelector(up),this.scrollerEl=this.wrapper.querySelector(".scroller"),this.dropTopAction=dropTopAction,this.dropBottomAction=dropBottomAction,this.limit=limit||30,this.clickTop_bind=this.clickTop.bind(this),this.clickBottom_bind=this.clickBottom.bind(this),this.IScroll=IScrollProbe,this.pullUpLabel_Text="上翻刷新...",this.pullDownLabel_Text="下拉刷新...",this.pullLoading_Text="正在加载中...",this.releaseLoading_Text="松开加载更多...",this.loading_top_flag=!1,this.loading_bottom_flag=!1,this.checkIScroll(!0),this.createIScroll()}return IScrollLoadData.IScroll=IScrollProbe,IScrollLoadData.prototype.refresh=function(){this.checkIScroll(),delete this.myScroll.waitLoadTop,this.myScroll.refresh()},IScrollLoadData.prototype.updateContentLen=function(direct){var children=this.content.children;children.len>this.limit},IScrollLoadData.prototype.checkIScroll=function(){var soh=this.content.offsetHeight+this.pullDownEl.offsetHeight+this.pullUpEl.offsetHeight,woh=this.wrapper.clientHeight,holder=this.scrollerEl.querySelector(".scroller-holder");if(woh>soh){if(!holder){var ul=document.createElement("ul");ul.className="scroller-holder",this.scrollerEl.appendChild(ul),holder=ul}holder.style.height=woh-soh+2+"px"}else holder&&this.scrollerEl.removeChild(holder)},IScrollLoadData.prototype.pullDownAction=function(){var self=this;this.dropTopAction?this.dropTopAction(function(out){var firstChild=self.content.querySelector(":first-child");firstChild?self.content.insertBefore(out,firstChild):self.content.appendChild(out),self.refresh("top")}):this.refresh("top")},IScrollLoadData.prototype.pullUpAction=function(){var self=this;this.dropBottomAction?this.dropBottomAction(function(out){self.content.appendChild(out),self.refresh("bottom")}):this.refresh("bottom")},IScrollLoadData.prototype.clickTop=function(){var self=this;this.dropTopAction&&this.dropTopAction(function(out){var firstChild=self.content.querySelector(":first-child");firstChild?self.content.insertBefore(out,firstChild):self.content.appendChild(out),self.initIScroll(!1)})},IScrollLoadData.prototype.clickBottom=function(){var self=this;this.dropBottomAction&&this.dropBottomAction(function(out){self.content.appendChild(out),self.initIScroll(!1)})},IScrollLoadData.prototype.initIScroll=function(flag){this.overflow_window||(this.scrollerEl.offsetHeight-this.pullDownEl.offsetHeight>=document.documentElement.clientHeight?(this.wrapper.style.bottom="0px",this.wrapper.style.top=-1*this.pullDownEl.offsetHeight+"px",this.pullUpEl.querySelector(".pullUpLabel").innerText=this.pullUpLabel_Text,this.pullDownEl.querySelector(".pullDownLabel").innerText=this.pullDownLabel_Text,this.pullUpEl.removeEventListener("click",this.clickBottom_bind),this.pullDownEl.removeEventListener("click",this.clickUp_bind),this.myScroll.refresh(),this.overflow_window=!0):(this.wrapper.style.bottom=document.documentElement.clientHeight-this.scrollerEl.offsetHeight+"px",this.pullUpEl.querySelector(".pullUpLabel").innerText="点击获取最近...",this.pullDownEl.querySelector(".pullDownLabel").innerText="点击获取最新...",flag&&(this.pullUpEl.addEventListener("click",this.clickBottom_bind),this.pullDownEl.addEventListener("click",this.clickTop_bind))))},IScrollLoadData.prototype.createIScroll=function(){var self=this;this.myScroll=new IScrollLoadData.IScroll(this.wrapper,{probeType:2,mouseWheel:!1,bindToWrapper:!0,scrollY:!0,click:!0}),this.myScroll.on("scroll",function(){this.y>50&&!self.pullDownEl.className.match("flip")&&!self.pullDownEl.className.match("loading")?(self.pullDownEl.className="flip",self.pullDownEl.querySelector(".pullDownLabel").innerHTML=self.releaseLoading_Text,this.waitLoadTop=self.pullDownEl.offsetHeight):this.y<50&&self.pullDownEl.className.match("flip")?(self.pullDownEl.className="",self.pullDownEl.querySelector(".pullDownLabel").innerHTML=self.pullDownLabel_Text,delete this.waitLoadTop):this.y<this.maxScrollY-5&&!self.pullUpEl.className.match("flip")&&!self.pullUpEl.className.match("loading")?(self.pullUpEl.className="flip",self.pullUpEl.querySelector(".pullUpLabel").innerHTML=self.releaseLoading_Text):this.y>this.maxScrollY+5&&self.pullUpEl.className.match("flip")&&(self.pullUpEl.className="",self.pullUpEl.querySelector(".pullUpLabel").innerHTML=self.pullUpLabel_Text)}),this.myScroll.on("scrollEnd",function(){self.pullDownEl.className.match("flip")?(self.pullDownEl.className="loading",self.pullDownEl.querySelector(".pullDownLabel").innerHTML=self.pullLoading_Text,self.pullDownAction()):self.pullUpEl.className.match("flip")&&(self.pullUpEl.className="loading",self.pullUpEl.querySelector(".pullUpLabel").innerHTML=self.pullLoading_Text,self.pullUpAction())}),this.myScroll.on("refresh",function(){self.pullDownEl.className.match("loading")?(self.pullDownEl.className="",self.pullDownEl.querySelector(".pullDownLabel").innerHTML=self.pullDownLabel_Text):self.pullUpEl.className.match("loading")&&(self.pullUpEl.className="",self.pullUpEl.querySelector(".pullUpLabel").innerHTML=self.pullUpLabel_Text)
})},IScrollLoadData}();module.exports={iscrollPop:iscrollPop,containerMask:containerMask,dialog:Dialog,IscrollLoadData:iscrollLoadData}}),define("wzlh5/1.0.0/ac",["jquery/2.1.1/jquery"],function(require,exports,module){function baseAjax(method,url,data,fnSuccess,fnFaild){var dataType="text";ISJSONP&&(dataType="json",url+="format=jsonp&callback=?"),$.ajax({type:method,cache:!1,url:url,data:data,dataType:dataType,success:function(re){fnSuccess&&fnSuccess(re)},error:function(re){fnFaild&&fnFaild(re)}})}function getTzurl(url){try{return CarTz.getTzUrl(url)}catch(e){return url}}function login(data,fn){baseAjax("GET",REQUEST_CONFIG.login,data,fn,fn)}function register(data,fn){data.unionUserId=UNIONUSER_ID,data.channelid=CHANNELID;var host=location.host||location.hostname;"pt.wozhongla.com"==host&&(data.unionUserId="148"),baseAjax("GET",REQUEST_CONFIG.register,data,fn,fn)}function getCode(data,fn){baseAjax("GET",REQUEST_CONFIG.getCode,data,fn,fn)}function verifyCode(data,fn){baseAjax("GET",REQUEST_CONFIG.verifyCode,data,fn,fn)}function backPwdCode(data,fn){baseAjax("GET",REQUEST_CONFIG.backPwdCode,data,fn,fn)}function backPwd(data,fn){baseAjax("GET",REQUEST_CONFIG.backPwd,data,fn,fn)}function getAccept(data,fn){baseAjax("GET",REQUEST_CONFIG.getAccept,data,fn,fn)}function updatePwd(data,fn){baseAjax("GET",REQUEST_CONFIG.updatePwd,data,fn,fn)}function showDrawList(data,fn){baseAjax("GET",REQUEST_CONFIG.showDrawList,data,fn,fn)}function showDetail(data,fn){baseAjax("GET",REQUEST_CONFIG.showDetail,data,fn,fn)}function queryUserInfo(data,fn){baseAjax("GET",REQUEST_CONFIG.queryUserInfo,data,fn,fn)}function queryUserAllInfo(data,fn){baseAjax("GET",REQUEST_CONFIG.queryUserAllInfo,data,fn,fn)}function queyrUserAccount(data,fn){baseAjax("GET",REQUEST_CONFIG.queyrUserAccount,data,fn,fn)}function bindBank(data,fn){baseAjax("GET",REQUEST_CONFIG.bindBank,data,fn,fn)}function queryBankInfo(data,fn){baseAjax("GET",REQUEST_CONFIG.queryBankInfo,data,fn,fn)}function draw(data,fn){baseAjax("GET",REQUEST_CONFIG.draw,data,fn,fn)}function allBetting(data,fn){baseAjax("GET",REQUEST_CONFIG.allBetting,data,fn,fn)}function showPreproject(data,fn){baseAjax("GET",REQUEST_CONFIG.showPreproject,data,fn,fn)}function wzlindexWining(data,fn){baseAjax("GET",REQUEST_CONFIG.wzlindexWining,data,fn,fn)}function uchangeName(data,fn){baseAjax("GET",REQUEST_CONFIG.uchangeName,data,fn,fn)}function modifyId(data,fn){baseAjax("GET",REQUEST_CONFIG.modifyId,data,fn,fn)}function verifyMobile(data,fn){baseAjax("GET",REQUEST_CONFIG.verifyMobile,data,fn,fn)}function wzlMobileHome(data,fn){baseAjax("GET",REQUEST_CONFIG.wzlMobileHome,data,fn,fn)}function logout(data,fn){baseAjax("GET",REQUEST_CONFIG.logout,data,fn,fn)}function getIssue(data,fn){data.lotoId=LOTTERY[data.lottery],data.method="preissuenew",$.ajax({type:"GET",url:REQUEST_CONFIG.getIssue+"?callback=?",data:data,dataType:"json",success:function(re){fn&&fn(re)},error:function(re){fn&&fn(re||{msg:"nothing"})}})}function getNowIssue(data,fn){data.lotoId=LOTTERY[data.lottery],data.method="preissuenew",data.issues=1,$.ajax({type:"GET",url:REQUEST_CONFIG.getIssue+"?callback=?",data:data,dataType:"json",success:function(re){fn&&fn(re[0])},error:function(re){fn&&fn(re||{msg:"nothing"})}})}function ssqTz(data,fn){$.ajax({method:"POST",data:data,url:getTzurl(REQUEST_CONFIG.ssqTz),success:function(re){fn&&fn(re)},error:function(re){fn&&fn(re)}})}function dltTz(data,fn){$.ajax({method:"POST",data:data,url:getTzurl(REQUEST_CONFIG.ssqTz),success:function(re){fn&&fn(re)},error:function(re){fn&&fn(re)}})}function fc3dTz(data,fn){$.ajax({method:"POST",data:data,url:getTzurl(REQUEST_CONFIG.ssqTz),success:function(re){fn&&fn(re)},error:function(re){fn&&fn(re)}})}function pl3Tz(data,fn){$.ajax({method:"POST",data:data,url:getTzurl(REQUEST_CONFIG.ssqTz),success:function(re){fn&&fn(re)},error:function(re){fn&&fn(re)}})}function jcTz(data,fn){$.ajax({method:"POST",data:data,url:getTzurl(REQUEST_CONFIG.jcTz),success:function(re){fn&&fn(re)},error:function(re){fn&&fn(re)}})}function queryResult(fn){baseAjax("GET",REQUEST_CONFIG.result,{},fn,fn)}function queryJczqIssue(fn){baseAjax("GET",REQUEST_CONFIG.jczqIssue,{},fn,fn)}function queryJczq(data,fn){baseAjax("GET",REQUEST_CONFIG.resultJczq,data,fn,fn)}function querySsq(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=51_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultSsq+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryDlt(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=23529_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryFc3d(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=52_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryJxssc(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=13001_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryCqssc(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=10401_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryX115(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=23540_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryqxc(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=10022_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryqlc(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=23528_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function querypl3(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=33_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function querypl5(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=35_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryklsf(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=23545_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryahks(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=23543_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function querydlc(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=23540_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function querysd11x5(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=21406_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function querygd115(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=23544_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function querysfc(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=11_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryqyh(data,fn){data||(data={pageno:1,pagesize:30});var wparamStr="wParam=lotId=21407_pageno="+data.pageno+"_pagesize="+data.pagesize+"_startIssue=_endIssue=&";$.ajax({type:"GET",url:REQUEST_CONFIG.resultDlt+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function yl(name,data,fn){var wparamStr=name+"_omission&chart.limit=200&v=7027&";$.ajax({type:"GET",url:REQUEST_CONFIG.yl+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function issue2result(data,fn){var wparamStr="wParam=lotId="+data.lotId+"_lotIssue="+data.issue+"&";$.ajax({type:"GET",url:REQUEST_CONFIG.issue2result+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function issue2resultAll(data,fn){var wparamStr="wParam=lotId="+data.lotId+"_pageno=1_pagesize=300_startIssue="+data.startIssue+"_endIssue="+data.endIssue+"&";$.ajax({type:"GET",url:REQUEST_CONFIG.issue2resultAll+wparamStr+"format=jsonp&callback=?",data:data,dataType:"json",success:function(d){fn&&fn(d)},error:function(re){fn&&fn(re)}})}function queryAccountRefer(data,fn){baseAjax("GET",REQUEST_CONFIG.queryAccountRefer,data,fn,fn)}function queryAccountRecharge(data,fn){baseAjax("GET",REQUEST_CONFIG.queryAccountRecharge,data,fn,fn)}function queryAccountWithDraw(data,fn){baseAjax("GET",REQUEST_CONFIG.queryAccountWithDraw,data,fn,fn)}function queryAccountPacket(data,fn){baseAjax("GET",REQUEST_CONFIG.queryAccountPacket,data,fn,fn)}function queryAccountPrize(data,fn){baseAjax("GET",REQUEST_CONFIG.queryAccountPrize,data,fn,fn)}function queryAccountBetting(data,fn){baseAjax("GET",REQUEST_CONFIG.queryAccountBetting,data,fn,fn)}function bettingOrder(data,fn){baseAjax("GET",REQUEST_CONFIG.bettingOrder,data,fn,fn)}function doAlipayCharge(data,fn){baseAjax("GET",REQUEST_CONFIG.doAlipayCharge,data,fn,fn)}function wzlCardCharge(data,fn){baseAjax("GET",REQUEST_CONFIG.wzlCardCharge,data,fn,fn)}function doMobileCharge(data,fn){baseAjax("GET",REQUEST_CONFIG.doMobileCharge,data,fn,fn)}function jcMatchData(data,fn){$.ajax({url:TZ_CONFIG+"slttz/preissue?method=jcMatch&lotoId=320",dataType:"jsonp",success:function(re1){for(var r={},n=0;n<re1.length;n++)r[re1[n].matchNo]=re1[n];$.ajax({url:TZ_CONFIG+"slttz/preissue?method=jcOdds&lotoId=320",dataType:"jsonp",success:function(re2){if(re1.length&&re2.length){for(var re=[],i=0,len=re2.length;len>i;i++)r[re2[i].matchNo]&&(r[re2[i].matchNo].sp=re2[i].sp,re.push(r[re2[i].matchNo]));fn&&fn(re)}else fn&&fn({resultCode:"500"})},error:function(){}})},error:function(){}})}function jcSpfMatch(data,fn){$.ajax({url:TZ_CONFIG+"slttz/preissue?method=jcMatch&lotoId=301",dataType:"jsonp",success:function(re1){for(var r={},n=0;n<re1.length;n++)r[re1[n].matchNo]=re1[n];$.ajax({url:TZ_CONFIG+"slttz/preissue?method=jcOdds&lotoId=301",dataType:"jsonp",success:function(re2){if(re1.length&&re2.length){for(var re=[],i=0,len=re2.length;len>i;i++)r[re2[i].matchNo]&&(r[re2[i].matchNo].sp=re2[i].sp,re.push(r[re2[i].matchNo]));fn&&fn(re)}else fn&&fn({resultCode:"500"})},error:function(){}})},error:function(){}})}function jcHh(fn){function getSp(id,fn){$.ajax({url:TZ_CONFIG+"slttz/preissue?method=jcOdds&lotoId="+id,dataType:"jsonp",success:function(re2){fn(re2)},error:function(){fn({error:!0})}})}$.ajax({url:TZ_CONFIG+"slttz/preissue?method=jcMatch&lotoId=305",dataType:"jsonp",success:function(re1){var re={};$(re1).each(function(index,item){re[item.matchNo]=item}),fn&&fn(re,getSp)},error:function(){fn({error:!0})}})}function apiTest(opt){var def={url:"http://iyueyaos.duapp.com/api/food?",data:{testApi:"testapi"},delay:1e3,triggerError:!1,fnSuccess:function(){},fnError:function(){}},opts=$.extend(def,opt);baseAjax("GET",opts.url,opts.data,function(d){setTimeout(function(){opts.triggerError?opts.fnError(d):opts.fnSuccess(d)},opts.delay)},function(d){setTimeout(function(){opts.fnError(d)},opts.delay)},!0)}var $=require("jquery/2.1.1/jquery"),INF_CONFIG="http://api.wozhongla.com/",TZ_CONFIG="http://www.wozhongla.com/",ISJSONP=!0,REQUEST_CONFIG={login:INF_CONFIG+"wzlInterface/servicesAPI/mobile/login?",register:INF_CONFIG+"wzlInterface/servicesAPI/mobile/userRegister?",getCode:INF_CONFIG+"wzlInterface/servicesAPI/mobile/getCode?",verifyCode:INF_CONFIG+"wzlInterface/servicesAPI/verifyCode?",backPwd:INF_CONFIG+"wzlInterface/servicesAPI/backPassword?",backPwdCode:INF_CONFIG+"wzlInterface/servicesAPI/getCode?",uchangeName:INF_CONFIG+"wzlInterface/servicesAPI/user/modifyUserName?",updatePwd:INF_CONFIG+"wzlInterface/servicesAPI/mobile/modifyPassWord?",draw:INF_CONFIG+"wzlInterface/servicesAPI/Draw?",showDrawList:INF_CONFIG+"wzlInterface/servicesAPI/ShowDrawList?",queryUserInfo:INF_CONFIG+"wzlInterface/servicesAPI/queryUserInfo?",queryUserAllInfo:INF_CONFIG+"wzlInterface/servicesAPI/queryUserAllInfo?",queyrUserAccount:INF_CONFIG+"wzlInterface/servicesAPI/queryAccountInfo?",queryBankInfo:INF_CONFIG+"wzlInterface/servicesAPI/queryBindInfo?",showDetail:INF_CONFIG+"wzlInterface/servicesAPI/mobile/showDetail?",queryAccountRefer:INF_CONFIG+"wzlInterface/servicesAPI/refer?",queryAccountRecharge:INF_CONFIG+"wzlInterface/servicesAPI/recharge?",queryAccountWithDraw:INF_CONFIG+"wzlInterface/servicesAPI/withdraw?",queryAccountPacket:INF_CONFIG+"wzlInterface/servicesAPI/packet?",queryAccountPrize:INF_CONFIG+"wzlInterface/servicesAPI/prize?",bettingOrder:INF_CONFIG+"wzlInterface/servicesAPI/bettingOrder?",allBetting:INF_CONFIG+"wzlInterface/servicesAPI/allBetting?",showPreproject:INF_CONFIG+"wzlInterface/servicesAPI/mobile/showPreproject?",queryAccountBetting:INF_CONFIG+"wzlInterface/servicesAPI/betting?",bindBank:INF_CONFIG+"wzlInterface/servicesAPI/bindBank?",verifyMobile:INF_CONFIG+"wzlInterface/servicesAPI/mobile/verifyMobile?",modifyId:INF_CONFIG+"wzlInterface/servicesAPI/user/modify?",removeBank:INF_CONFIG+"wzlInterface/servicesAPI/removeBank",getAccept:INF_CONFIG+"wzlInterface/servicesAPI/UpmpChargeAction/getAccept?",doMobileCharge:INF_CONFIG+"wzlInterface/servicesAPI/UpmpChargeAction/doMobileCharge?",doAlipayCharge:INF_CONFIG+"wzlInterface/servicesAPI/UpmpChargeAction/doAlipayCharge?",wzlCardCharge:INF_CONFIG+"wzlInterface/servicesAPI/UpmpChargeAction/wzlCardCharge?",logout:INF_CONFIG+"wzlInterface/servicesAPI/mobile/logout?",ssqTz:"/sltssq/tz",jcTz:"/sltdc/tz",getIssue:TZ_CONFIG+"slttz/preissue",jcMatch:TZ_CONFIG+"slttz/preissue?method=jcMatch&lotoId=320",jcOdds:TZ_CONFIG+"slttz/preissue?method=jcOdds&lotoId=320",wzlindexWining:TZ_CONFIG+"/sp2/act/inter.info.action?wAgent=8848&wPassword=888888&wReturnFmt=2&wAction=5003&wParam=lotId=0_amount=1000_limit=8&v=2784",result:TZ_CONFIG+"sp2/act/inter.info.action?wAgent=8848&wPassword=888888&wReturnFmt=2&&wReturnFmt=2&wAction=1012&wParam=areaId=35&",resultJczq:TZ_CONFIG+"sp2/act/data.jcmatchOne.htm?type=301&",jczqIssue:TZ_CONFIG+"sp2/act/data.zcToptenIssue.htm?&type=301&",resultSsq:TZ_CONFIG+"sp2/act/inter.info.action?wAgent=8848&wPassword=888888&wReturnFmt=2&&wAction=1014&",resultDlt:TZ_CONFIG+"sp2/act/inter.info.action?wAgent=8848&wPassword=888888&wReturnFmt=2&&wAction=1014&",resultFc3d:TZ_CONFIG+"sp2/act/inter.info.action?wAgent=8848&wPassword=888888&wReturnFmt=2&&wAction=1014&",resultJxssc:TZ_CONFIG+"sp2/act/inter.info.action?wAgent=8848&wPassword=888888&wReturnFmt=2&&wAction=1014&",issue2result:TZ_CONFIG+"sp2/act/inter.info.action?wAgent=8848&wPassword=888888&wReturnFmt=2&&wAction=1015&",issue2resultAll:TZ_CONFIG+"sp2/act/inter.info.action?wAgent=8848&wPassword=888888&wReturnFmt=2&&wAction=1014&",wzlMobileHome:TZ_CONFIG+"news/API/JSON/wzlMobileHome.php?tid=896&callback=?",yl:TZ_CONFIG+"sp2/act/chartmall.chart.htm?chart.type=",test:""},LOTTERY={SSQ:"001",FC3D:"002",PL3:"108",PL5:"109",QXC:"110",QLC:"003",DLT:"113",JXSSC:"006",CQSSC:"018",JCZQSPF:"320",JX11X5:"106",SD11X5:"107"},UNIONUSER_ID="27",CHANNELID="6";module.exports={INF_CONFIG:INF_CONFIG,login:login,register:register,getCode:getCode,verifyCode:verifyCode,backPwd:backPwd,updatePwd:updatePwd,backPwdCode:backPwdCode,showDrawList:showDrawList,queyrUserAccount:queyrUserAccount,queryAccountRefer:queryAccountRefer,queryAccountRecharge:queryAccountRecharge,queryAccountWithDraw:queryAccountWithDraw,queryAccountPacket:queryAccountPacket,queryAccountPrize:queryAccountPrize,queryAccountBetting:queryAccountBetting,bettingOrder:bettingOrder,queryBankInfo:queryBankInfo,uchangeName:uchangeName,modifyId:modifyId,verifyMobile:verifyMobile,allBetting:allBetting,doAlipayCharge:doAlipayCharge,doMobileCharge:doMobileCharge,showPreproject:showPreproject,ssqTz:ssqTz,dltTz:dltTz,fc3dTz:fc3dTz,pl3Tz:pl3Tz,jcTz:jcTz,getIssue:getIssue,showDetail:showDetail,queryUserInfo:queryUserInfo,queryUserAllInfo:queryUserAllInfo,queryResult:queryResult,queryJczq:queryJczq,queryJczqIssue:queryJczqIssue,querySsq:querySsq,queryDlt:queryDlt,queryFc3d:queryFc3d,queryX115:queryX115,queryqxc:queryqxc,queryqlc:queryqlc,querypl3:querypl3,querypl5:querypl5,queryklsf:queryklsf,queryahks:queryahks,querydlc:querydlc,querysd11x5:querysd11x5,querygd115:querygd115,querysfc:querysfc,queryqyh:queryqyh,queryJxssc:queryJxssc,queryCqssc:queryCqssc,bindBank:bindBank,getAccept:getAccept,draw:draw,getNowIssue:getNowIssue,jcMatchData:jcMatchData,jcSpfMatch:jcSpfMatch,jcHh:jcHh,issue2result:issue2result,issue2resultAll:issue2resultAll,wzlindexWining:wzlindexWining,yl:yl,logout:logout,wzlCardCharge:wzlCardCharge,UNIONUSER_ID:UNIONUSER_ID,CHANNELID:CHANNELID,wzlMobileHome:wzlMobileHome,apiTest:apiTest}});